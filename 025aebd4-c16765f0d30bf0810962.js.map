{"version":3,"sources":["webpack:///./node_modules/pts/dist/es5.js"],"names":["factory","_regeneratorRuntime","window","modules","installedModules","__webpack_require__","moduleId","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_createClass","defineProperties","target","props","length","descriptor","configurable","writable","Constructor","protoProps","staticProps","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","constructor","setPrototypeOf","__proto__","Space_1","Form_1","Pt_1","Util_1","Typography_1","Op_1","CanvasSpace","_Space_1$MultiTouchSp","elem","callback","this","_this","getPrototypeOf","_pixelScale","_autoResize","_bgcolor","_offscreen","_initialResize","_selector","id","Element","document","querySelector","substr","nodeName","toLowerCase","_container","_canvas","_createElement","appendChild","parentElement","body","setTimeout","_ready","_ctx","getContext","arguments","undefined","createElement","setAttribute","Error","k","_isReady","_resizeHandler","clear","dispatchEvent","Event","players","start","bound","clone","_pointer","center","opt","bgcolor","autoResize","resize","retina","r1","devicePixelRatio","r2","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","Math","max","offscreen","_offCanvas","_offCtx","b","evt","width","size","x","height","y","style","floor","scale","render","isPlaying","playOnce","getBoundingClientRect","box","Bound","fromBoundingRect","add","pageXOffset","pageYOffset","CanvasForm","bg","lastColor","fillStyle","fillRect","clearRect","time","save","receiver","Function","desc","getOwnPropertyDescriptor","parent","_get","restore","removeEventListener","stop","removeAll","set","auto","addEventListener","MultiTouchSpace","_Form_1$VisualForm","space","_this2","_style","strokeStyle","lineWidth","lineJoin","lineCap","globalAlpha","_space","ctx","font","_font","off","clearOffscreen","hasOffscreen","offscreenCtx","offset","drawImage","offscreenCanvas","a","filled","linejoin","linecap","stroked","stops","_this3","vals","push","len","v","area1","area2","map","abs","grad","createRadialGradient","createLinearGradient","_i","_len","addColorStop","globalCompositeOperation","clip","segments","setLineDash","lineDashOffset","sizeOrFont","weight","lineHeight","family","face","_estimateTextWidth","fontWidthEstimate","_this4","estimate","Typography","textWidthEstimator","measureText","str","tail","truncate","getTextWidth","vertical","Rectangle","px","textAlign","py","Pt","Font","_filled","fill","_stroked","stroke","radius","shape","_paint","pts","circle","pt","rotation","startAngle","endAngle","Const","two_pi","cc","ellipse","arc","halfsize","square","line","polygon","rect","img","original","image","txt","maxWidth","text","verticalAlign","overrideBaseline","textBaseline","_textTruncate","_textAlign","_this5","crop","lstep","nextLine","sub","buffer","newln","indexOf","dt","lastIndexOf","lines","lsize","lbox","lpad","Group","$add","$subtract","alignment","baseline","w","beginPath","closePath","x1","y1","x2","y2","moveTo","lineTo","orig","fillText","VisualForm","_slicedToArray","arr","Array","isArray","iterator","_arr","_n","_d","_e","_s","next","done","err","sliceIterator","Num_1","Color","_Pt_1$Pt","_ref","args","_key","apply","concat","_mode","_isNorm","toMode","convert","fname","toUpperCase","to","toNorm","ranges","Num","mapToRange","normalize","format","_hex","toString","alpha","_len2","_key2","Util","getArgs","hex","fn","substring","hexVal","parseInt","from","zipSlice","$take","rgb","normalizedInput","normalizedOutput","_ref2","$normalize","_ref3","g","min","h","hsl","_hsl","q","sc","_ref4","_ref5","hsb","_hsb","f","pick","XYZtoLAB","RGBtoXYZ","lab","XYZtoRGB","LABtoXYZ","LABtoLCH","RGBtoLAB","lch","LABtoRGB","LCHtoLAB","XYZtoLUV","luv","LUVtoXYZ","pow","xyz","_ref6","_ref7","z","round","divide","D65","cy","nnn","_ref8","_ref9","u","refU","refV","L","_ref10","_ref11","cubeY","Geom","toDegree","boundRadian","atan2","sqrt","rad","toRadian","cos","sin","LinearAlgebra_1","Create","count","dimensions","random","depth","ln","Line","subpoints","unshift","columns","rows","orientation","unit","$divide","$multiply","topLeft","angleOffset","half_pi","toAngle","dx","dy","seed","np","Noise","initNoise","Delaunay","__noise_grad3","__noise_permTable","perm","j","n00","Vec","dot","n01","n10","n11","_fade","tx","lerp","_Pt_1$Group","_mesh","triangleOnly","indices","sort","slice","st","_superTriangle","opened","_circum","closed","tris","edges","circum","triangle","splice","epsilon","_dedupe","_i2","_len3","_cache","vs","neighborPts","cs","sortEdges","minPt","maxPt","$min","$max","mid","dmax","tri","_triangle","Triangle","circumcircle","DOMSpace","_css","refresh","styles","background","innerHTML","val","update","_styles","backgroundColor","appendTo","data","HTMLSpace","_DOMSpace","HTMLForm","player","querySelectorAll","scopeID","forEach","el","parentNode","removeChild","autoClass","group","groupID","groupCount","currentID","currentClass","element","assign","styleTo","group_id","nextID","item","animateID","updateScope","point","warn","domID","setAttr","join","htmlElement","getID","class","rectStyle","_checkSize","textContent","textStyle","Form","required","_Form","groups","rest","_multiple","_i3","_i4","_len4","magnitude","make","ceil","Number","MIN_VALUE","index","MAX_VALUE","Mat","isNum","transposed","elementwise","ai","alen","transpose","_ai","_alen","bi","blen","_ai2","_alen2","defaultValue","useLongest","ps","reduce","zip","cosA","sinA","tanX","tanY","sx","sy","at","scale2DMatrix","rotate2DMatrix","shear2DMatrix","p1","p2","intercept","yi","ang2","atan","slope","threshold","sum","method","Shaping","sineInOut","currA","currB","targetA","targetB","normalizeValue","angle","boundValue","radian","deg_to_rad","rad_to_deg","average","ptOrIndex","direction","axis","xy","pa","pb","boundPt1","boundPt2","within","bounds","boundingBox","da","db","det","$cross2D","_scale","anchor","scs","lenP","rotateAt2DMatrix","transform2D","shearAt2DMatrix","tanx","tan","tany","mat","reflectAt2DMatrix","Float64Array","PI","table","boundAngle","t2","t4","t6","bounceOut","bounceIn","exp","A","B","C","om2a","curve","Curve","bezierStep","controlPoints","steps","tt","Range","_dims","_source","fromPtArray","calc","dims","mag","_max","_min","_mag","exclude","_errorLength","obj","param","_errorOutofBound","xi","p3","$cross","equals","magnitudeSq","asProjection","proj","$project","projectionVector","perpendicularFromPt","la","lb","_y","intersectRay2D","withinBound","ray","lineOrRay","poly","sourceIsRay","intersectLineWithRay2D","intersectLine2D","lines1","lines2","isRay","lenk","_ip","gridPt","subtract","intersectGridWithRay2D","gg","hasIntersectRect2D","intersectLines2D","sides","num","interpolate","cropAsCircle","tdx","ls","multiply","fromCenter","sideIdx","graphic","atTail","perpendicular","widthOrSize","fromTopLeft","half","Circle","fromRect","enclose","maxValue","minValue","p0","_Rectangle$corners","corners","_Rectangle$corners2","rects","merged","flatten","_center","ratio","asRows","rect1","rect2","resetBoundingBox","incircle","disc","discSqrt","t1","dv","dr2","dr","ar","br","ar2","br2","ang","inc","top","left","toTriangle","fromCircle","Polygon","midpoints","opp","oppositeSide","altitude","bisector","incenter","area","perimeter","total","md","medial","circumcenter","centroid","idx","sp","split","mids","gs","right","adjacentSides","sorted","dq","bot","hull","originIndex","_near","_item","unitAxis","poly1","poly2","projectAxis","lineAt","info","which","dist","normal","edge","vertex","minDist","MAX_SAFE_INTEGER","_axisOverlap","plen","b1","b2","c1","c2","smallest","lp","ins","intersectPolygon2D","polys","boxes","ts","copyStart","_index","ctrls","params","getSteps","catmullRomStep","cp","step","_calcPt","tension","cardinalStep","h2","h3","bsplineTensionStep","bsplineStep","World","friction","gravity","_lastTime","_gravity","_friction","_damping","_particles","_bodies","_pnames","_bnames","_bound","fromGroup","ms","_updateParticles","_updateBodies","_drawParticles","_drawBodies","Body","bodyIndex","particleIndex","prevDt","addForce","verlet","integrate","boundConstraint","collide","bds","klen","bk","_k","processBody","mlen","processParticle","processEdges","stiff","precise","m1","mass","m2","mm","delta","distSq","damping","changed","previous","_c","Particle","_mass","_radius","_force","_prev","_lock","lastDt","_lockPt","lt","damp","dp","np1","np2","f1","f2","dm1","dm2","_body","_cs","_stiff","_locks","list","index1","index2","link","nd","n2","_cs$i","edgeConstraint","hit","hasIntersectPolygon","cv","eg","lambda","m0","mr0","mr1","hasIntersectCircle","autoLink","autoMass","init","linkAll","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","e","rejected","result","then","Tempo","bpm","_listeners","_listenerInc","listener","beats","_createID","period","duration","continuous","progress","li","_t","_ms","isStart","clamp","ftime","track","type","_bpm","Sound","_playing","_type","AudioContext","webkitAudioContext","buf","_node","createBufferSource","_buffer","onended","createOscillator","osc","setPeriodicWave","frequency","node","connect","minDb","maxDb","smooth","createAnalyser","fftSize","minDecibels","maxDecibels","smoothingTimeConstant","analyzer","frequencyBinCount","Uint8Array","getByteTimeDomainData","getByteFrequencyData","position","trim","timeDomain","freqDomain","_domain","_domainTo","disconnect","timeAt","state","resume","_timestamp","currentTime","play","_gen","destination","pause","_stream","getAudioTracks","dur","curr","readyState","sampleRate","stream","source","crossOrigin","Audio","autoplay","createMediaElementSource","url","request","XMLHttpRequest","open","responseType","onload","decodeAudioData","response","createBuffer","send","constraint","mark","_callee","wrap","_context","prev","abrupt","audio","video","navigator","mediaDevices","getUserMedia","sent","createMediaStreamSource","t0","console","error","_toConsumableArray","arr2","_extendableBuiltin2","_clone","anchorFromPt","change","_key3","fns","_ops","op","_key4","toArray","_len5","_key5","_clone2","_len6","_key6","_clone3","_len7","_key7","_clone4","_len8","_key8","_clone5","_len9","_key9","_len10","_key10","cross2D","_len11","_key11","cross","_len12","_key12","_len13","_key13","rotate2D","shear2D","reflect2D","_id","randomize","Float32Array","cls","ExtendableBuiltin","Reflect","construct","_extendableBuiltin","_extendableBuiltin4","_len14","_key14","chunkSize","stride","loopBack","pts_per_segment","_len15","_key15","chunk","tc","_len16","_key16","moveBy","_scale2","dim","ptFn","_len17","_key17","_len18","_key18","forEachPt","_len19","_key19","_len20","_key20","_len21","_key21","_extendableBuiltin3","_Group","_len22","_key22","_size","_topLeft","_bottomRight","_inited","_updateSize","_updateCenter","_updatePosFromTop","_updatePosFromCenter","bottom","UI_1","Space","_time","diff","end","playerCount","_animID","_pause","_refresh","animate","pid","inited","requestAnimationFrame","playItems","cancelAnimationFrame","toggle","context","_renderFunc","_Space","_pressed","_dragged","_hasMouse","_hasTouch","_bind","bindCanvas","_mouseDown","_mouseUp","_mouseOver","_mouseOut","_mouseMove","_contextMenu","unbindCanvas","_touchStart","_touchMove","pageX","pageY","MouseEvent","outerBound","action","_v","changedTouches","touch","_mouseAction","UIPointerActions","down","drop","up","move","drag","over","out","contextmenu","preventDefault","Dom_1","SVGSpace","_Dom_1$DOMSpace","svgElement","SVGForm","createElementNS","cx","largeArc","pi","sweep","_poly","points","fromArray","samples","distribution","avg","byHeight","nh","defaultSize","UIShape","rectangle","polyline","uidrag","uidrop","enter","leave","all","UI","states","_holds","Map","_group","_shape","_counter","_states","_actions","_addHandler","_removeHandler","_within","values","_trigger","newKey","keys","delete","hasIntersectPoint","ui","uis","listen","temp","UIButton","_UI","_hoverID","hover","clicks","UA","on","_capID","hold","unhold","ids","enterID","leaveID","UIDragger","_UIButton","_draggingID","_moveHoldID","_dropHoldID","_upHoldID","dragging","moved","endDrag","_typeof","yz","xz","horizontal","identical","bottom_right","bottom_left","top_left","top_right","quarter_pi","one_degree","newton","gaussian","lv","_warnLevel","pos","ArrayBuffer","isView","message","defaultReturn","warnLevel","range","matchSize","chunks","part","flattenAsGroup","lenB","arrays","status","responseText","onerror","avgFrames","last","Date","now","shift","__export"],"mappings":"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,GAAI,GAAI,IAAK,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,IAAK,EAAG,IAAK,IAAK,GAAI,IAAK,GAAI,GAAI,IAAK,EAAG,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,EAAG,IAAK,IAAK,IAAK,IAAK,GAAI,EAAG,GAAI,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,GAAI,IAAK,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,EAAG,IAAK,GAAI,GAAI,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,GAAI,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,EAAG,IAAK,GAAI,GAAI,IAAK,EAAG,GAAI,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,GAAI,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,EAAG,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,GAAI,GAAI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","file":"025aebd4-c16765f0d30bf0810962.js","sourcesContent":["require(\"core-js/modules/es.array.reduce\");\n\nvar _regeneratorRuntime = require(\"/Volumes/Backup HD/code/trc-project/node_modules/@babel/runtime/regenerator\");\n\n/*!\n * pts.js 0.9.6 - Copyright  2017-2020 William Ngan and contributors.\n * Licensed under Apache 2.0 License.\n * See https://github.com/williamngan/pts for details.\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = factory();else if (typeof define === 'function' && define.amd) define([], factory);else {\n    var a = factory();\n\n    for (var i in a) {\n      (typeof exports === 'object' ? exports : root)[i] = a[i];\n    }\n  }\n})(window, function () {\n  return (\n    /******/\n    function (modules) {\n      // webpackBootstrap\n\n      /******/\n      // The module cache\n\n      /******/\n      var installedModules = {};\n      /******/\n\n      /******/\n      // The require function\n\n      /******/\n\n      function __webpack_require__(moduleId) {\n        /******/\n\n        /******/\n        // Check if module is in cache\n\n        /******/\n        if (installedModules[moduleId]) {\n          /******/\n          return installedModules[moduleId].exports;\n          /******/\n        }\n        /******/\n        // Create a new module (and put it into the cache)\n\n        /******/\n\n\n        var module = installedModules[moduleId] = {\n          /******/\n          i: moduleId,\n\n          /******/\n          l: false,\n\n          /******/\n          exports: {}\n          /******/\n\n        };\n        /******/\n\n        /******/\n        // Execute the module function\n\n        /******/\n\n        modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n\n        /******/\n        // Flag the module as loaded\n\n        /******/\n\n        module.l = true;\n        /******/\n\n        /******/\n        // Return the exports of the module\n\n        /******/\n\n        return module.exports;\n        /******/\n      }\n      /******/\n\n      /******/\n\n      /******/\n      // expose the modules object (__webpack_modules__)\n\n      /******/\n\n\n      __webpack_require__.m = modules;\n      /******/\n\n      /******/\n      // expose the module cache\n\n      /******/\n\n      __webpack_require__.c = installedModules;\n      /******/\n\n      /******/\n      // define getter function for harmony exports\n\n      /******/\n\n      __webpack_require__.d = function (exports, name, getter) {\n        /******/\n        if (!__webpack_require__.o(exports, name)) {\n          /******/\n          Object.defineProperty(exports, name, {\n            enumerable: true,\n            get: getter\n          });\n          /******/\n        }\n        /******/\n\n      };\n      /******/\n\n      /******/\n      // define __esModule on exports\n\n      /******/\n\n\n      __webpack_require__.r = function (exports) {\n        /******/\n        if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n          /******/\n          Object.defineProperty(exports, Symbol.toStringTag, {\n            value: 'Module'\n          });\n          /******/\n        }\n        /******/\n\n\n        Object.defineProperty(exports, '__esModule', {\n          value: true\n        });\n        /******/\n      };\n      /******/\n\n      /******/\n      // create a fake namespace object\n\n      /******/\n      // mode & 1: value is a module id, require it\n\n      /******/\n      // mode & 2: merge all properties of value into the ns\n\n      /******/\n      // mode & 4: return value when already ns object\n\n      /******/\n      // mode & 8|1: behave like require\n\n      /******/\n\n\n      __webpack_require__.t = function (value, mode) {\n        /******/\n        if (mode & 1) value = __webpack_require__(value);\n        /******/\n\n        if (mode & 8) return value;\n        /******/\n\n        if (mode & 4 && typeof value === 'object' && value && value.__esModule) return value;\n        /******/\n\n        var ns = Object.create(null);\n        /******/\n\n        __webpack_require__.r(ns);\n        /******/\n\n\n        Object.defineProperty(ns, 'default', {\n          enumerable: true,\n          value: value\n        });\n        /******/\n\n        if (mode & 2 && typeof value != 'string') for (var key in value) {\n          __webpack_require__.d(ns, key, function (key) {\n            return value[key];\n          }.bind(null, key));\n        }\n        /******/\n\n        return ns;\n        /******/\n      };\n      /******/\n\n      /******/\n      // getDefaultExport function for compatibility with non-harmony modules\n\n      /******/\n\n\n      __webpack_require__.n = function (module) {\n        /******/\n        var getter = module && module.__esModule ?\n        /******/\n        function getDefault() {\n          return module['default'];\n        } :\n        /******/\n        function getModuleExports() {\n          return module;\n        };\n        /******/\n\n        __webpack_require__.d(getter, 'a', getter);\n        /******/\n\n\n        return getter;\n        /******/\n      };\n      /******/\n\n      /******/\n      // Object.prototype.hasOwnProperty.call\n\n      /******/\n\n\n      __webpack_require__.o = function (object, property) {\n        return Object.prototype.hasOwnProperty.call(object, property);\n      };\n      /******/\n\n      /******/\n      // __webpack_public_path__\n\n      /******/\n\n\n      __webpack_require__.p = \"\";\n      /******/\n\n      /******/\n\n      /******/\n      // Load entry module and return exports\n\n      /******/\n\n      return __webpack_require__(__webpack_require__.s = \"./src/_module.ts\");\n      /******/\n    }(\n    /************************************************************************/\n\n    /******/\n    {\n      /***/\n      \"./src/Canvas.ts\":\n      /*!***********************!*\\\n        !*** ./src/Canvas.ts ***!\n        \\***********************/\n\n      /*! no static exports found */\n\n      /***/\n      function srcCanvasTs(module, exports, __webpack_require__) {\n        \"use strict\";\n        /*! Source code licensed under Apache License 2.0. Copyright  2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        var _get = function get(object, property, receiver) {\n          if (object === null) object = Function.prototype;\n          var desc = Object.getOwnPropertyDescriptor(object, property);\n\n          if (desc === undefined) {\n            var parent = Object.getPrototypeOf(object);\n\n            if (parent === null) {\n              return undefined;\n            } else {\n              return get(parent, property, receiver);\n            }\n          } else if (\"value\" in desc) {\n            return desc.value;\n          } else {\n            var getter = desc.get;\n\n            if (getter === undefined) {\n              return undefined;\n            }\n\n            return getter.call(receiver);\n          }\n        };\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var Space_1 = __webpack_require__(\n        /*! ./Space */\n        \"./src/Space.ts\");\n\n        var Form_1 = __webpack_require__(\n        /*! ./Form */\n        \"./src/Form.ts\");\n\n        var Pt_1 = __webpack_require__(\n        /*! ./Pt */\n        \"./src/Pt.ts\");\n\n        var Util_1 = __webpack_require__(\n        /*! ./Util */\n        \"./src/Util.ts\");\n\n        var Typography_1 = __webpack_require__(\n        /*! ./Typography */\n        \"./src/Typography.ts\");\n\n        var Op_1 = __webpack_require__(\n        /*! ./Op */\n        \"./src/Op.ts\");\n\n        var CanvasSpace = function (_Space_1$MultiTouchSp) {\n          _inherits(CanvasSpace, _Space_1$MultiTouchSp);\n\n          function CanvasSpace(elem, callback) {\n            _classCallCheck(this, CanvasSpace);\n\n            var _this = _possibleConstructorReturn(this, (CanvasSpace.__proto__ || Object.getPrototypeOf(CanvasSpace)).call(this));\n\n            _this._pixelScale = 1;\n            _this._autoResize = true;\n            _this._bgcolor = \"#e1e9f0\";\n            _this._offscreen = false;\n            _this._initialResize = false;\n            var _selector = null;\n            var _existed = false;\n            _this.id = \"pt\";\n\n            if (elem instanceof Element) {\n              _selector = elem;\n              _this.id = \"pts_existing_space\";\n            } else {\n              var id = elem;\n              id = elem[0] === \"#\" || elem[0] === \".\" ? elem : \"#\" + elem;\n              _selector = document.querySelector(id);\n              _existed = true;\n              _this.id = id.substr(1);\n            }\n\n            if (!_selector) {\n              _this._container = _this._createElement(\"div\", _this.id + \"_container\");\n              _this._canvas = _this._createElement(\"canvas\", _this.id);\n\n              _this._container.appendChild(_this._canvas);\n\n              document.body.appendChild(_this._container);\n              _existed = false;\n            } else if (_selector.nodeName.toLowerCase() != \"canvas\") {\n              _this._container = _selector;\n              _this._canvas = _this._createElement(\"canvas\", _this.id + \"_canvas\");\n\n              _this._container.appendChild(_this._canvas);\n\n              _this._initialResize = true;\n            } else {\n              _this._canvas = _selector;\n              _this._container = _selector.parentElement;\n              _this._autoResize = false;\n            }\n\n            setTimeout(_this._ready.bind(_this, callback), 100);\n            _this._ctx = _this._canvas.getContext('2d');\n            return _this;\n          }\n\n          _createClass(CanvasSpace, [{\n            key: \"_createElement\",\n            value: function _createElement() {\n              var elem = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"div\";\n              var id = arguments[1];\n              var d = document.createElement(elem);\n              d.setAttribute(\"id\", id);\n              return d;\n            }\n          }, {\n            key: \"_ready\",\n            value: function _ready(callback) {\n              if (!this._container) throw new Error(\"Cannot initiate #\" + this.id + \" element\");\n              this._isReady = true;\n\n              this._resizeHandler(null);\n\n              this.clear(this._bgcolor);\n\n              this._canvas.dispatchEvent(new Event(\"ready\"));\n\n              for (var k in this.players) {\n                if (this.players.hasOwnProperty(k)) {\n                  if (this.players[k].start) this.players[k].start(this.bound.clone(), this);\n                }\n              }\n\n              this._pointer = this.center;\n              this._initialResize = false;\n              if (callback) callback(this.bound, this._canvas);\n            }\n          }, {\n            key: \"setup\",\n            value: function setup(opt) {\n              if (opt.bgcolor) this._bgcolor = opt.bgcolor;\n              this.autoResize = opt.resize != undefined ? opt.resize : false;\n\n              if (opt.retina !== false) {\n                var r1 = window.devicePixelRatio || 1;\n                var r2 = this._ctx.webkitBackingStorePixelRatio || this._ctx.mozBackingStorePixelRatio || this._ctx.msBackingStorePixelRatio || this._ctx.oBackingStorePixelRatio || this._ctx.backingStorePixelRatio || 1;\n                this._pixelScale = Math.max(1, r1 / r2);\n              }\n\n              if (opt.offscreen) {\n                this._offscreen = true;\n                this._offCanvas = this._createElement(\"canvas\", this.id + \"_offscreen\");\n                this._offCtx = this._offCanvas.getContext('2d');\n              } else {\n                this._offscreen = false;\n              }\n\n              return this;\n            }\n          }, {\n            key: \"resize\",\n            value: function resize(b, evt) {\n              this.bound = b;\n              this._canvas.width = this.bound.size.x * this._pixelScale;\n              this._canvas.height = this.bound.size.y * this._pixelScale;\n              this._canvas.style.width = Math.floor(this.bound.size.x) + \"px\";\n              this._canvas.style.height = Math.floor(this.bound.size.y) + \"px\";\n\n              if (this._offscreen) {\n                this._offCanvas.width = this.bound.size.x * this._pixelScale;\n                this._offCanvas.height = this.bound.size.y * this._pixelScale;\n              }\n\n              if (this._pixelScale != 1) {\n                this._ctx.scale(this._pixelScale, this._pixelScale);\n\n                if (this._offscreen) {\n                  this._offCtx.scale(this._pixelScale, this._pixelScale);\n                }\n              }\n\n              for (var k in this.players) {\n                if (this.players.hasOwnProperty(k)) {\n                  var p = this.players[k];\n                  if (p.resize) p.resize(this.bound, evt);\n                }\n              }\n\n              this.render(this._ctx);\n              if (evt && !this.isPlaying) this.playOnce(0);\n              return this;\n            }\n          }, {\n            key: \"_resizeHandler\",\n            value: function _resizeHandler(evt) {\n              var b = this._autoResize || this._initialResize ? this._container.getBoundingClientRect() : this._canvas.getBoundingClientRect();\n\n              if (b) {\n                var box = Pt_1.Bound.fromBoundingRect(b);\n                box.center = box.center.add(window.pageXOffset, window.pageYOffset);\n                this.resize(box, evt);\n              }\n            }\n          }, {\n            key: \"getForm\",\n            value: function getForm() {\n              return new CanvasForm(this);\n            }\n          }, {\n            key: \"clear\",\n            value: function clear(bg) {\n              if (bg) this._bgcolor = bg;\n              var lastColor = this._ctx.fillStyle;\n\n              if (this._bgcolor && this._bgcolor != \"transparent\") {\n                this._ctx.fillStyle = this._bgcolor;\n\n                this._ctx.fillRect(-1, -1, this._canvas.width + 1, this._canvas.height + 1);\n              } else {\n                this._ctx.clearRect(-1, -1, this._canvas.width + 1, this._canvas.height + 1);\n              }\n\n              this._ctx.fillStyle = lastColor;\n              return this;\n            }\n          }, {\n            key: \"clearOffscreen\",\n            value: function clearOffscreen(bg) {\n              if (this._offscreen) {\n                if (bg) {\n                  this._offCtx.fillStyle = bg;\n\n                  this._offCtx.fillRect(-1, -1, this._canvas.width + 1, this._canvas.height + 1);\n                } else {\n                  this._offCtx.clearRect(-1, -1, this._offCanvas.width + 1, this._offCanvas.height + 1);\n                }\n              }\n\n              return this;\n            }\n          }, {\n            key: \"playItems\",\n            value: function playItems(time) {\n              if (this._isReady) {\n                this._ctx.save();\n\n                if (this._offscreen) this._offCtx.save();\n\n                _get(CanvasSpace.prototype.__proto__ || Object.getPrototypeOf(CanvasSpace.prototype), \"playItems\", this).call(this, time);\n\n                this._ctx.restore();\n\n                if (this._offscreen) this._offCtx.restore();\n                this.render(this._ctx);\n              }\n            }\n          }, {\n            key: \"dispose\",\n            value: function dispose() {\n              window.removeEventListener('resize', this._resizeHandler.bind(this));\n              this.stop();\n              this.removeAll();\n              return this;\n            }\n          }, {\n            key: \"autoResize\",\n            set: function set(auto) {\n              this._autoResize = auto;\n\n              if (auto) {\n                window.addEventListener('resize', this._resizeHandler.bind(this));\n              } else {\n                window.removeEventListener('resize', this._resizeHandler.bind(this));\n              }\n            },\n            get: function get() {\n              return this._autoResize;\n            }\n          }, {\n            key: \"background\",\n            set: function set(bg) {\n              this._bgcolor = bg;\n            },\n            get: function get() {\n              return this._bgcolor;\n            }\n          }, {\n            key: \"pixelScale\",\n            get: function get() {\n              return this._pixelScale;\n            }\n          }, {\n            key: \"hasOffscreen\",\n            get: function get() {\n              return this._offscreen;\n            }\n          }, {\n            key: \"offscreenCtx\",\n            get: function get() {\n              return this._offCtx;\n            }\n          }, {\n            key: \"offscreenCanvas\",\n            get: function get() {\n              return this._offCanvas;\n            }\n          }, {\n            key: \"element\",\n            get: function get() {\n              return this._canvas;\n            }\n          }, {\n            key: \"parent\",\n            get: function get() {\n              return this._container;\n            }\n          }, {\n            key: \"ready\",\n            get: function get() {\n              return this._isReady;\n            }\n          }, {\n            key: \"ctx\",\n            get: function get() {\n              return this._ctx;\n            }\n          }]);\n\n          return CanvasSpace;\n        }(Space_1.MultiTouchSpace);\n\n        exports.CanvasSpace = CanvasSpace;\n\n        var CanvasForm = function (_Form_1$VisualForm) {\n          _inherits(CanvasForm, _Form_1$VisualForm);\n\n          function CanvasForm(space) {\n            _classCallCheck(this, CanvasForm);\n\n            var _this2 = _possibleConstructorReturn(this, (CanvasForm.__proto__ || Object.getPrototypeOf(CanvasForm)).call(this));\n\n            _this2._style = {\n              fillStyle: \"#f03\",\n              strokeStyle: \"#fff\",\n              lineWidth: 1,\n              lineJoin: \"bevel\",\n              lineCap: \"butt\",\n              globalAlpha: 1\n            };\n            _this2._space = space;\n\n            _this2._space.add({\n              start: function start() {\n                _this2._ctx = _this2._space.ctx;\n                _this2._ctx.fillStyle = _this2._style.fillStyle;\n                _this2._ctx.strokeStyle = _this2._style.strokeStyle;\n                _this2._ctx.lineJoin = \"bevel\";\n                _this2._ctx.font = _this2._font.value;\n                _this2._ready = true;\n              }\n            });\n\n            return _this2;\n          }\n\n          _createClass(CanvasForm, [{\n            key: \"useOffscreen\",\n            value: function useOffscreen() {\n              var off = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n              var clear = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              if (clear) this._space.clearOffscreen(typeof clear == \"string\" ? clear : null);\n              this._ctx = this._space.hasOffscreen && off ? this._space.offscreenCtx : this._space.ctx;\n              return this;\n            }\n          }, {\n            key: \"renderOffscreen\",\n            value: function renderOffscreen() {\n              var offset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [0, 0];\n\n              if (this._space.hasOffscreen) {\n                this._space.ctx.drawImage(this._space.offscreenCanvas, offset[0], offset[1], this._space.width, this._space.height);\n              }\n            }\n          }, {\n            key: \"alpha\",\n            value: function alpha(a) {\n              this._ctx.globalAlpha = a;\n              this._style.globalAlpha = a;\n              return this;\n            }\n          }, {\n            key: \"fill\",\n            value: function fill(c) {\n              if (typeof c == \"boolean\") {\n                this.filled = c;\n              } else {\n                this.filled = true;\n                this._style.fillStyle = c;\n                this._ctx.fillStyle = c;\n              }\n\n              return this;\n            }\n          }, {\n            key: \"stroke\",\n            value: function stroke(c, width, linejoin, linecap) {\n              if (typeof c == \"boolean\") {\n                this.stroked = c;\n              } else {\n                this.stroked = true;\n                this._style.strokeStyle = c;\n                this._ctx.strokeStyle = c;\n\n                if (width) {\n                  this._ctx.lineWidth = width;\n                  this._style.lineWidth = width;\n                }\n\n                if (linejoin) {\n                  this._ctx.lineJoin = linejoin;\n                  this._style.lineJoin = linejoin;\n                }\n\n                if (linecap) {\n                  this._ctx.lineCap = linecap;\n                  this._style.lineCap = linecap;\n                }\n              }\n\n              return this;\n            }\n          }, {\n            key: \"gradient\",\n            value: function gradient(stops) {\n              var _this3 = this;\n\n              var vals = [];\n              if (stops.length < 2) stops.push([0.99, \"#000\"], [1, \"#000\"]);\n\n              for (var i = 0, len = stops.length; i < len; i++) {\n                var t = typeof stops[i] === 'string' ? i * (1 / (stops.length - 1)) : stops[i][0];\n                var v = typeof stops[i] === 'string' ? stops[i] : stops[i][1];\n                vals.push([t, v]);\n              }\n\n              return function (area1, area2) {\n                area1 = area1.map(function (a) {\n                  return a.abs();\n                });\n                if (area2) area2.map(function (a) {\n                  return a.abs();\n                });\n                var grad = area2 ? _this3.ctx.createRadialGradient(area1[0][0], area1[0][1], area1[1][0], area2[0][0], area2[0][1], area2[1][0]) : _this3.ctx.createLinearGradient(area1[0][0], area1[0][1], area1[1][0], area1[1][1]);\n\n                for (var _i = 0, _len = vals.length; _i < _len; _i++) {\n                  grad.addColorStop(vals[_i][0], vals[_i][1]);\n                }\n\n                return grad;\n              };\n            }\n          }, {\n            key: \"composite\",\n            value: function composite() {\n              var mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'source-over';\n              this.ctx.globalCompositeOperation = mode;\n              return this;\n            }\n          }, {\n            key: \"clip\",\n            value: function clip() {\n              this.ctx.clip();\n              return this;\n            }\n          }, {\n            key: \"dash\",\n            value: function dash() {\n              var segments = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n              var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n              if (!segments) {\n                this._ctx.setLineDash([]);\n\n                this._ctx.lineDashOffset = 0;\n              } else {\n                if (segments === true) {\n                  segments = [5, 5];\n                }\n\n                this._ctx.setLineDash([segments[0], segments[1]]);\n\n                this._ctx.lineDashOffset = offset;\n              }\n\n              return this;\n            }\n          }, {\n            key: \"font\",\n            value: function font(sizeOrFont, weight, style, lineHeight, family) {\n              if (typeof sizeOrFont == \"number\") {\n                this._font.size = sizeOrFont;\n                if (family) this._font.face = family;\n                if (weight) this._font.weight = weight;\n                if (style) this._font.style = style;\n                if (lineHeight) this._font.lineHeight = lineHeight;\n              } else {\n                this._font = sizeOrFont;\n              }\n\n              this._ctx.font = this._font.value;\n              if (this._estimateTextWidth) this.fontWidthEstimate(true);\n              return this;\n            }\n          }, {\n            key: \"fontWidthEstimate\",\n            value: function fontWidthEstimate() {\n              var _this4 = this;\n\n              var estimate = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n              this._estimateTextWidth = estimate ? Typography_1.Typography.textWidthEstimator(function (c) {\n                return _this4._ctx.measureText(c).width;\n              }) : undefined;\n              return this;\n            }\n          }, {\n            key: \"getTextWidth\",\n            value: function getTextWidth(c) {\n              return !this._estimateTextWidth ? this._ctx.measureText(c + \" .\").width : this._estimateTextWidth(c);\n            }\n          }, {\n            key: \"_textTruncate\",\n            value: function _textTruncate(str, width) {\n              var tail = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"\";\n              return Typography_1.Typography.truncate(this.getTextWidth.bind(this), str, width, tail);\n            }\n          }, {\n            key: \"_textAlign\",\n            value: function _textAlign(box, vertical, offset, center) {\n              if (!center) center = Op_1.Rectangle.center(box);\n              var px = box[0][0];\n\n              if (this._ctx.textAlign == \"end\" || this._ctx.textAlign == \"right\") {\n                px = box[1][0];\n              } else if (this._ctx.textAlign == \"center\" || this._ctx.textAlign == \"middle\") {\n                px = center[0];\n              }\n\n              var py = center[1];\n\n              if (vertical == \"top\" || vertical == \"start\") {\n                py = box[0][1];\n              } else if (vertical == \"end\" || vertical == \"bottom\") {\n                py = box[1][1];\n              }\n\n              return offset ? new Pt_1.Pt(px + offset[0], py + offset[1]) : new Pt_1.Pt(px, py);\n            }\n          }, {\n            key: \"reset\",\n            value: function reset() {\n              for (var k in this._style) {\n                if (this._style.hasOwnProperty(k)) {\n                  this._ctx[k] = this._style[k];\n                }\n              }\n\n              this._font = new Form_1.Font();\n              this._ctx.font = this._font.value;\n              return this;\n            }\n          }, {\n            key: \"_paint\",\n            value: function _paint() {\n              if (this._filled) this._ctx.fill();\n              if (this._stroked) this._ctx.stroke();\n            }\n          }, {\n            key: \"point\",\n            value: function point(p) {\n              var radius = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 5;\n              var shape = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"square\";\n              if (!p) return;\n              if (!CanvasForm[shape]) throw new Error(shape + \" is not a static function of CanvasForm\");\n              CanvasForm[shape](this._ctx, p, radius);\n\n              this._paint();\n\n              return this;\n            }\n          }, {\n            key: \"circle\",\n            value: function circle(pts) {\n              CanvasForm.circle(this._ctx, pts[0], pts[1][0]);\n\n              this._paint();\n\n              return this;\n            }\n          }, {\n            key: \"ellipse\",\n            value: function ellipse(pt, radius) {\n              var rotation = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n              var startAngle = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n              var endAngle = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : Util_1.Const.two_pi;\n              var cc = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;\n              CanvasForm.ellipse(this._ctx, pt, radius, rotation, startAngle, endAngle, cc);\n\n              this._paint();\n\n              return this;\n            }\n          }, {\n            key: \"arc\",\n            value: function arc(pt, radius, startAngle, endAngle, cc) {\n              CanvasForm.arc(this._ctx, pt, radius, startAngle, endAngle, cc);\n\n              this._paint();\n\n              return this;\n            }\n          }, {\n            key: \"square\",\n            value: function square(pt, halfsize) {\n              CanvasForm.square(this._ctx, pt, halfsize);\n\n              this._paint();\n\n              return this;\n            }\n          }, {\n            key: \"line\",\n            value: function line(pts) {\n              CanvasForm.line(this._ctx, pts);\n\n              this._paint();\n\n              return this;\n            }\n          }, {\n            key: \"polygon\",\n            value: function polygon(pts) {\n              CanvasForm.polygon(this._ctx, pts);\n\n              this._paint();\n\n              return this;\n            }\n          }, {\n            key: \"rect\",\n            value: function rect(pts) {\n              CanvasForm.rect(this._ctx, pts);\n\n              this._paint();\n\n              return this;\n            }\n          }, {\n            key: \"image\",\n            value: function image(img, target, original) {\n              CanvasForm.image(this._ctx, img, target, original);\n              return this;\n            }\n          }, {\n            key: \"text\",\n            value: function text(pt, txt, maxWidth) {\n              CanvasForm.text(this._ctx, pt, txt, maxWidth);\n              return this;\n            }\n          }, {\n            key: \"textBox\",\n            value: function textBox(box, txt) {\n              var verticalAlign = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"middle\";\n              var tail = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"\";\n              var overrideBaseline = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n              if (overrideBaseline) this._ctx.textBaseline = verticalAlign;\n              var size = Op_1.Rectangle.size(box);\n\n              var t = this._textTruncate(txt, size[0], tail);\n\n              this.text(this._textAlign(box, verticalAlign), t[0]);\n              return this;\n            }\n          }, {\n            key: \"paragraphBox\",\n            value: function paragraphBox(box, txt) {\n              var lineHeight = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1.2;\n\n              var _this5 = this;\n\n              var verticalAlign = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"top\";\n              var crop = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n              var size = Op_1.Rectangle.size(box);\n              this._ctx.textBaseline = \"top\";\n              var lstep = this._font.size * lineHeight;\n\n              var nextLine = function nextLine(sub) {\n                var buffer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n                var cc = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n                if (!sub) return buffer;\n                if (crop && cc * lstep > size[1] - lstep * 2) return buffer;\n                if (cc > 10000) throw new Error(\"max recursion reached (10000)\");\n\n                var t = _this5._textTruncate(sub, size[0], \"\");\n\n                var newln = t[0].indexOf(\"\\n\");\n\n                if (newln >= 0) {\n                  buffer.push(t[0].substr(0, newln));\n                  return nextLine(sub.substr(newln + 1), buffer, cc + 1);\n                }\n\n                var dt = t[0].lastIndexOf(\" \") + 1;\n                if (dt <= 0 || t[1] === sub.length) dt = undefined;\n                var line = t[0].substr(0, dt);\n                buffer.push(line);\n                return t[1] <= 0 || t[1] === sub.length ? buffer : nextLine(sub.substr(dt || t[1]), buffer, cc + 1);\n              };\n\n              var lines = nextLine(txt);\n              var lsize = lines.length * lstep;\n              var lbox = box;\n\n              if (verticalAlign == \"middle\" || verticalAlign == \"center\") {\n                var lpad = (size[1] - lsize) / 2;\n                if (crop) lpad = Math.max(0, lpad);\n                lbox = new Pt_1.Group(box[0].$add(0, lpad), box[1].$subtract(0, lpad));\n              } else if (verticalAlign == \"bottom\") {\n                lbox = new Pt_1.Group(box[0].$add(0, size[1] - lsize), box[1]);\n              } else {\n                lbox = new Pt_1.Group(box[0], box[0].$add(size[0], lsize));\n              }\n\n              var center = Op_1.Rectangle.center(lbox);\n\n              for (var i = 0, len = lines.length; i < len; i++) {\n                this.text(this._textAlign(lbox, \"top\", [0, i * lstep], center), lines[i]);\n              }\n\n              return this;\n            }\n          }, {\n            key: \"alignText\",\n            value: function alignText() {\n              var alignment = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"left\";\n              var baseline = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"alphabetic\";\n              if (baseline == \"center\") baseline = \"middle\";\n              if (baseline == \"baseline\") baseline = \"alphabetic\";\n              this._ctx.textAlign = alignment;\n              this._ctx.textBaseline = baseline;\n              return this;\n            }\n          }, {\n            key: \"log\",\n            value: function log(txt) {\n              var w = this._ctx.measureText(txt).width + 20;\n              this.stroke(false).fill(\"rgba(0,0,0,.4)\").rect([[0, 0], [w, 20]]);\n              this.fill(\"#fff\").text([10, 14], txt);\n              return this;\n            }\n          }, {\n            key: \"space\",\n            get: function get() {\n              return this._space;\n            }\n          }, {\n            key: \"ctx\",\n            get: function get() {\n              return this._space.ctx;\n            }\n          }], [{\n            key: \"circle\",\n            value: function circle(ctx, pt) {\n              var radius = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10;\n              if (!pt) return;\n              ctx.beginPath();\n              ctx.arc(pt[0], pt[1], radius, 0, Util_1.Const.two_pi, false);\n              ctx.closePath();\n            }\n          }, {\n            key: \"ellipse\",\n            value: function ellipse(ctx, pt, radius) {\n              var rotation = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n              var startAngle = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n              var endAngle = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : Util_1.Const.two_pi;\n              var cc = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : false;\n              if (!pt || !radius) return;\n              ctx.beginPath();\n              ctx.ellipse(pt[0], pt[1], radius[0], radius[1], rotation, startAngle, endAngle, cc);\n            }\n          }, {\n            key: \"arc\",\n            value: function arc(ctx, pt, radius, startAngle, endAngle, cc) {\n              if (!pt) return;\n              ctx.beginPath();\n              ctx.arc(pt[0], pt[1], radius, startAngle, endAngle, cc);\n            }\n          }, {\n            key: \"square\",\n            value: function square(ctx, pt, halfsize) {\n              if (!pt) return;\n              var x1 = pt[0] - halfsize;\n              var y1 = pt[1] - halfsize;\n              var x2 = pt[0] + halfsize;\n              var y2 = pt[1] + halfsize;\n              ctx.beginPath();\n              ctx.moveTo(x1, y1);\n              ctx.lineTo(x1, y2);\n              ctx.lineTo(x2, y2);\n              ctx.lineTo(x2, y1);\n              ctx.closePath();\n            }\n          }, {\n            key: \"line\",\n            value: function line(ctx, pts) {\n              if (pts.length < 2) return;\n              ctx.beginPath();\n              ctx.moveTo(pts[0][0], pts[0][1]);\n\n              for (var i = 1, len = pts.length; i < len; i++) {\n                if (pts[i]) ctx.lineTo(pts[i][0], pts[i][1]);\n              }\n            }\n          }, {\n            key: \"polygon\",\n            value: function polygon(ctx, pts) {\n              if (pts.length < 2) return;\n              ctx.beginPath();\n              ctx.moveTo(pts[0][0], pts[0][1]);\n\n              for (var i = 1, len = pts.length; i < len; i++) {\n                if (pts[i]) ctx.lineTo(pts[i][0], pts[i][1]);\n              }\n\n              ctx.closePath();\n            }\n          }, {\n            key: \"rect\",\n            value: function rect(ctx, pts) {\n              if (pts.length < 2) return;\n              ctx.beginPath();\n              ctx.moveTo(pts[0][0], pts[0][1]);\n              ctx.lineTo(pts[0][0], pts[1][1]);\n              ctx.lineTo(pts[1][0], pts[1][1]);\n              ctx.lineTo(pts[1][0], pts[0][1]);\n              ctx.closePath();\n            }\n          }, {\n            key: \"image\",\n            value: function image(ctx, img) {\n              var target = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : new Pt_1.Pt();\n              var orig = arguments[3];\n\n              if (typeof target[0] === \"number\") {\n                ctx.drawImage(img, target[0], target[1]);\n              } else {\n                var t = target;\n\n                if (orig) {\n                  ctx.drawImage(img, orig[0][0], orig[0][1], orig[1][0] - orig[0][0], orig[1][1] - orig[0][1], t[0][0], t[0][1], t[1][0] - t[0][0], t[1][1] - t[0][1]);\n                } else {\n                  ctx.drawImage(img, t[0][0], t[0][1], t[1][0] - t[0][0], t[1][1] - t[0][1]);\n                }\n              }\n            }\n          }, {\n            key: \"text\",\n            value: function text(ctx, pt, txt, maxWidth) {\n              if (!pt) return;\n              ctx.fillText(txt, pt[0], pt[1], maxWidth);\n            }\n          }]);\n\n          return CanvasForm;\n        }(Form_1.VisualForm);\n\n        exports.CanvasForm = CanvasForm;\n        /***/\n      },\n\n      /***/\n      \"./src/Color.ts\":\n      /*!**********************!*\\\n        !*** ./src/Color.ts ***!\n        \\**********************/\n\n      /*! no static exports found */\n\n      /***/\n      function srcColorTs(module, exports, __webpack_require__) {\n        \"use strict\";\n        /*! Source code licensed under Apache License 2.0. Copyright  2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\n\n        var _slicedToArray = function () {\n          function sliceIterator(arr, i) {\n            var _arr = [];\n            var _n = true;\n            var _d = false;\n            var _e = undefined;\n\n            try {\n              for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n                _arr.push(_s.value);\n\n                if (i && _arr.length === i) break;\n              }\n            } catch (err) {\n              _d = true;\n              _e = err;\n            } finally {\n              try {\n                if (!_n && _i[\"return\"]) _i[\"return\"]();\n              } finally {\n                if (_d) throw _e;\n              }\n            }\n\n            return _arr;\n          }\n\n          return function (arr, i) {\n            if (Array.isArray(arr)) {\n              return arr;\n            } else if (Symbol.iterator in Object(arr)) {\n              return sliceIterator(arr, i);\n            } else {\n              throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n            }\n          };\n        }();\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var Pt_1 = __webpack_require__(\n        /*! ./Pt */\n        \"./src/Pt.ts\");\n\n        var Util_1 = __webpack_require__(\n        /*! ./Util */\n        \"./src/Util.ts\");\n\n        var Num_1 = __webpack_require__(\n        /*! ./Num */\n        \"./src/Num.ts\");\n\n        var Color = function (_Pt_1$Pt) {\n          _inherits(Color, _Pt_1$Pt);\n\n          function Color() {\n            var _ref;\n\n            _classCallCheck(this, Color);\n\n            for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = arguments[_key];\n            }\n\n            var _this = _possibleConstructorReturn(this, (_ref = Color.__proto__ || Object.getPrototypeOf(Color)).call.apply(_ref, [this].concat(args)));\n\n            _this._mode = \"rgb\";\n            _this._isNorm = false;\n            return _this;\n          }\n\n          _createClass(Color, [{\n            key: \"clone\",\n            value: function clone() {\n              var c = new Color(this);\n              c.toMode(this._mode);\n              return c;\n            }\n          }, {\n            key: \"toMode\",\n            value: function toMode(mode) {\n              var convert = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n              if (convert) {\n                var fname = this._mode.toUpperCase() + \"to\" + mode.toUpperCase();\n\n                if (Color[fname]) {\n                  this.to(Color[fname](this, this._isNorm, this._isNorm));\n                } else {\n                  throw new Error(\"Cannot convert color with \" + fname);\n                }\n              }\n\n              this._mode = mode;\n              return this;\n            }\n          }, {\n            key: \"normalize\",\n            value: function normalize() {\n              var toNorm = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n              if (this._isNorm == toNorm) return this;\n              var ranges = Color.ranges[this._mode];\n\n              for (var i = 0; i < 3; i++) {\n                this[i] = !toNorm ? Num_1.Num.mapToRange(this[i], 0, 1, ranges[i][0], ranges[i][1]) : Num_1.Num.mapToRange(this[i], ranges[i][0], ranges[i][1], 0, 1);\n              }\n\n              this._isNorm = toNorm;\n              return this;\n            }\n          }, {\n            key: \"$normalize\",\n            value: function $normalize() {\n              var toNorm = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n              return this.clone().normalize(toNorm);\n            }\n          }, {\n            key: \"toString\",\n            value: function toString() {\n              var format = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"mode\";\n\n              if (format == \"hex\") {\n                var _hex = function _hex(n) {\n                  var s = Math.floor(n).toString(16);\n                  return s.length < 2 ? '0' + s : s;\n                };\n\n                return \"#\" + _hex(this[0]) + _hex(this[1]) + _hex(this[2]);\n              } else if (format == \"rgba\") {\n                return \"rgba(\" + Math.floor(this[0]) + \",\" + Math.floor(this[1]) + \",\" + Math.floor(this[2]) + \",\" + this.alpha;\n              } else if (format == \"rgb\") {\n                return \"rgb(\" + Math.floor(this[0]) + \",\" + Math.floor(this[1]) + \",\" + Math.floor(this[2]);\n              } else {\n                return this._mode + \"(\" + this[0] + \",\" + this[1] + \",\" + this[2] + \",\" + this.alpha + \")\";\n              }\n            }\n          }, {\n            key: \"hex\",\n            get: function get() {\n              return this.toString(\"hex\");\n            }\n          }, {\n            key: \"rgb\",\n            get: function get() {\n              return this.toString(\"rgb\");\n            }\n          }, {\n            key: \"rgba\",\n            get: function get() {\n              return this.toString(\"rgba\");\n            }\n          }, {\n            key: \"mode\",\n            get: function get() {\n              return this._mode;\n            }\n          }, {\n            key: \"r\",\n            get: function get() {\n              return this[0];\n            },\n            set: function set(n) {\n              this[0] = n;\n            }\n          }, {\n            key: \"g\",\n            get: function get() {\n              return this[1];\n            },\n            set: function set(n) {\n              this[1] = n;\n            }\n          }, {\n            key: \"b\",\n            get: function get() {\n              return this[2];\n            },\n            set: function set(n) {\n              this[2] = n;\n            }\n          }, {\n            key: \"h\",\n            get: function get() {\n              return this._mode == \"lch\" ? this[2] : this[0];\n            },\n            set: function set(n) {\n              var i = this._mode == \"lch\" ? 2 : 0;\n              this[i] = n;\n            }\n          }, {\n            key: \"s\",\n            get: function get() {\n              return this[1];\n            },\n            set: function set(n) {\n              this[1] = n;\n            }\n          }, {\n            key: \"l\",\n            get: function get() {\n              return this._mode == \"hsl\" ? this[2] : this[0];\n            },\n            set: function set(n) {\n              var i = this._mode == \"hsl\" ? 2 : 0;\n              this[i] = n;\n            }\n          }, {\n            key: \"a\",\n            get: function get() {\n              return this[1];\n            },\n            set: function set(n) {\n              this[1] = n;\n            }\n          }, {\n            key: \"c\",\n            get: function get() {\n              return this[1];\n            },\n            set: function set(n) {\n              this[1] = n;\n            }\n          }, {\n            key: \"u\",\n            get: function get() {\n              return this[1];\n            },\n            set: function set(n) {\n              this[1] = n;\n            }\n          }, {\n            key: \"v\",\n            get: function get() {\n              return this[2];\n            },\n            set: function set(n) {\n              this[2] = n;\n            }\n          }, {\n            key: \"alpha\",\n            set: function set(n) {\n              if (this.length > 3) this[3] = n;\n            },\n            get: function get() {\n              return this.length > 3 ? this[3] : 1;\n            }\n          }, {\n            key: \"normalized\",\n            get: function get() {\n              return this._isNorm;\n            },\n            set: function set(b) {\n              this._isNorm = b;\n            }\n          }], [{\n            key: \"from\",\n            value: function from() {\n              var p = [1, 1, 1, 1];\n\n              for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                args[_key2] = arguments[_key2];\n              }\n\n              var c = Util_1.Util.getArgs(args);\n\n              for (var i = 0, len = p.length; i < len; i++) {\n                if (i < c.length) p[i] = c[i];\n              }\n\n              return new Color(p);\n            }\n          }, {\n            key: \"fromHex\",\n            value: function fromHex(hex) {\n              if (hex[0] == \"#\") hex = hex.substr(1);\n\n              if (hex.length <= 3) {\n                var fn = function fn(i) {\n                  return hex[i] || \"F\";\n                };\n\n                hex = \"\" + fn(0) + fn(0) + fn(1) + fn(1) + fn(2) + fn(2);\n              }\n\n              var alpha = 1;\n\n              if (hex.length === 8) {\n                alpha = hex.substr(6) && 0xFF / 255;\n                hex = hex.substring(0, 6);\n              }\n\n              var hexVal = parseInt(hex, 16);\n              return new Color(hexVal >> 16, hexVal >> 8 & 0xFF, hexVal & 0xFF, alpha);\n            }\n          }, {\n            key: \"rgb\",\n            value: function rgb() {\n              return Color.from.apply(Color, arguments).toMode(\"rgb\");\n            }\n          }, {\n            key: \"hsl\",\n            value: function hsl() {\n              return Color.from.apply(Color, arguments).toMode(\"hsl\");\n            }\n          }, {\n            key: \"hsb\",\n            value: function hsb() {\n              return Color.from.apply(Color, arguments).toMode(\"hsb\");\n            }\n          }, {\n            key: \"lab\",\n            value: function lab() {\n              return Color.from.apply(Color, arguments).toMode(\"lab\");\n            }\n          }, {\n            key: \"lch\",\n            value: function lch() {\n              return Color.from.apply(Color, arguments).toMode(\"lch\");\n            }\n          }, {\n            key: \"luv\",\n            value: function luv() {\n              return Color.from.apply(Color, arguments).toMode(\"luv\");\n            }\n          }, {\n            key: \"xyz\",\n            value: function xyz() {\n              return Color.from.apply(Color, arguments).toMode(\"xyz\");\n            }\n          }, {\n            key: \"maxValues\",\n            value: function maxValues(mode) {\n              return Color.ranges[mode].zipSlice(1).$take([0, 1, 2]);\n            }\n          }, {\n            key: \"RGBtoHSL\",\n            value: function RGBtoHSL(rgb) {\n              var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n              var _ref2 = !normalizedInput ? rgb.$normalize() : rgb,\n                  _ref3 = _slicedToArray(_ref2, 3),\n                  r = _ref3[0],\n                  g = _ref3[1],\n                  b = _ref3[2];\n\n              var max = Math.max(r, g, b);\n              var min = Math.min(r, g, b);\n              var h = (max + min) / 2;\n              var s = h;\n              var l = h;\n\n              if (max == min) {\n                h = 0;\n                s = 0;\n              } else {\n                var d = max - min;\n                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n                h = 0;\n\n                if (max === r) {\n                  h = (g - b) / d + (g < b ? 6 : 0);\n                } else if (max === g) {\n                  h = (b - r) / d + 2;\n                } else if (max === b) {\n                  h = (r - g) / d + 4;\n                }\n              }\n\n              return Color.hsl(normalizedOutput ? h / 60 : h * 60, s, l, rgb.alpha);\n            }\n          }, {\n            key: \"HSLtoRGB\",\n            value: function HSLtoRGB(hsl) {\n              var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n              var _hsl = _slicedToArray(hsl, 3),\n                  h = _hsl[0],\n                  s = _hsl[1],\n                  l = _hsl[2];\n\n              if (!normalizedInput) h = h / 360;\n              if (s == 0) return Color.rgb(l * 255, l * 255, l * 255, hsl.alpha);\n              var q = l <= 0.5 ? l * (1 + s) : l + s - l * s;\n              var p = 2 * l - q;\n\n              var convert = function convert(t) {\n                t = t < 0 ? t + 1 : t > 1 ? t - 1 : t;\n\n                if (t * 6 < 1) {\n                  return p + (q - p) * t * 6;\n                } else if (t * 2 < 1) {\n                  return q;\n                } else if (t * 3 < 2) {\n                  return p + (q - p) * (2 / 3 - t) * 6;\n                } else {\n                  return p;\n                }\n              };\n\n              var sc = normalizedOutput ? 1 : 255;\n              return Color.rgb(sc * convert(h + 1 / 3), sc * convert(h), sc * convert(h - 1 / 3), hsl.alpha);\n            }\n          }, {\n            key: \"RGBtoHSB\",\n            value: function RGBtoHSB(rgb) {\n              var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n              var _ref4 = !normalizedInput ? rgb.$normalize() : rgb,\n                  _ref5 = _slicedToArray(_ref4, 3),\n                  r = _ref5[0],\n                  g = _ref5[1],\n                  b = _ref5[2];\n\n              var max = Math.max(r, g, b);\n              var min = Math.min(r, g, b);\n              var d = max - min;\n              var h = 0;\n              var s = max === 0 ? 0 : d / max;\n              var v = max;\n\n              if (max != min) {\n                if (max === r) {\n                  h = (g - b) / d + (g < b ? 6 : 0);\n                } else if (max === g) {\n                  h = (b - r) / d + 2;\n                } else if (max === b) {\n                  h = (r - g) / d + 4;\n                }\n              }\n\n              return Color.hsb(normalizedOutput ? h / 60 : h * 60, s, v, rgb.alpha);\n            }\n          }, {\n            key: \"HSBtoRGB\",\n            value: function HSBtoRGB(hsb) {\n              var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n              var _hsb = _slicedToArray(hsb, 3),\n                  h = _hsb[0],\n                  s = _hsb[1],\n                  v = _hsb[2];\n\n              if (!normalizedInput) h = h / 360;\n              var i = Math.floor(h * 6);\n              var f = h * 6 - i;\n              var p = v * (1 - s);\n              var q = v * (1 - f * s);\n              var t = v * (1 - (1 - f) * s);\n              var pick = [[v, t, p], [q, v, p], [p, v, t], [p, q, v], [t, p, v], [v, p, q]];\n              var c = pick[i % 6];\n              var sc = normalizedOutput ? 1 : 255;\n              return Color.rgb(sc * c[0], sc * c[1], sc * c[2], hsb.alpha);\n            }\n          }, {\n            key: \"RGBtoLAB\",\n            value: function RGBtoLAB(rgb) {\n              var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              var c = normalizedInput ? rgb.$normalize(false) : rgb;\n              return Color.XYZtoLAB(Color.RGBtoXYZ(c), false, normalizedOutput);\n            }\n          }, {\n            key: \"LABtoRGB\",\n            value: function LABtoRGB(lab) {\n              var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              var c = normalizedInput ? lab.$normalize(false) : lab;\n              return Color.XYZtoRGB(Color.LABtoXYZ(c), false, normalizedOutput);\n            }\n          }, {\n            key: \"RGBtoLCH\",\n            value: function RGBtoLCH(rgb) {\n              var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              var c = normalizedInput ? rgb.$normalize(false) : rgb;\n              return Color.LABtoLCH(Color.RGBtoLAB(c), false, normalizedOutput);\n            }\n          }, {\n            key: \"LCHtoRGB\",\n            value: function LCHtoRGB(lch) {\n              var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              var c = normalizedInput ? lch.$normalize(false) : lch;\n              return Color.LABtoRGB(Color.LCHtoLAB(c), false, normalizedOutput);\n            }\n          }, {\n            key: \"RGBtoLUV\",\n            value: function RGBtoLUV(rgb) {\n              var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              var c = normalizedInput ? rgb.$normalize(false) : rgb;\n              return Color.XYZtoLUV(Color.RGBtoXYZ(c), false, normalizedOutput);\n            }\n          }, {\n            key: \"LUVtoRGB\",\n            value: function LUVtoRGB(luv) {\n              var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              var c = normalizedInput ? luv.$normalize(false) : luv;\n              return Color.XYZtoRGB(Color.LUVtoXYZ(c), false, normalizedOutput);\n            }\n          }, {\n            key: \"RGBtoXYZ\",\n            value: function RGBtoXYZ(rgb) {\n              var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              var c = !normalizedInput ? rgb.$normalize() : rgb.clone();\n\n              for (var i = 0; i < 3; i++) {\n                c[i] = c[i] > 0.04045 ? Math.pow((c[i] + 0.055) / 1.055, 2.4) : c[i] / 12.92;\n                if (!normalizedOutput) c[i] = c[i] * 100;\n              }\n\n              var cc = Color.xyz(c[0] * 0.4124564 + c[1] * 0.3575761 + c[2] * 0.1804375, c[0] * 0.2126729 + c[1] * 0.7151522 + c[2] * 0.0721750, c[0] * 0.0193339 + c[1] * 0.1191920 + c[2] * 0.9503041, rgb.alpha);\n              return normalizedOutput ? cc.normalize() : cc;\n            }\n          }, {\n            key: \"XYZtoRGB\",\n            value: function XYZtoRGB(xyz) {\n              var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n              var _ref6 = !normalizedInput ? xyz.$normalize() : xyz,\n                  _ref7 = _slicedToArray(_ref6, 3),\n                  x = _ref7[0],\n                  y = _ref7[1],\n                  z = _ref7[2];\n\n              var rgb = [x * 3.2404542 + y * -1.5371385 + z * -0.4985314, x * -0.9692660 + y * 1.8760108 + z * 0.0415560, x * 0.0556434 + y * -0.2040259 + z * 1.0572252];\n\n              for (var i = 0; i < 3; i++) {\n                rgb[i] = rgb[i] < 0 ? 0 : rgb[i] > 0.0031308 ? 1.055 * Math.pow(rgb[i], 1 / 2.4) - 0.055 : 12.92 * rgb[i];\n                rgb[i] = Math.max(0, Math.min(1, rgb[i]));\n                if (!normalizedOutput) rgb[i] = Math.round(rgb[i] * 255);\n              }\n\n              var cc = Color.rgb(rgb[0], rgb[1], rgb[2], xyz.alpha);\n              return normalizedOutput ? cc.normalize() : cc;\n            }\n          }, {\n            key: \"XYZtoLAB\",\n            value: function XYZtoLAB(xyz) {\n              var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              var c = normalizedInput ? xyz.$normalize(false) : xyz.clone();\n              c.divide(Color.D65);\n\n              var fn = function fn(n) {\n                return n > 0.008856 ? Math.pow(n, 1 / 3) : 7.787 * n + 16 / 116;\n              };\n\n              var cy = fn(c[1]);\n              var cc = Color.lab(116 * cy - 16, 500 * (fn(c[0]) - cy), 200 * (cy - fn(c[2])), xyz.alpha);\n              return normalizedOutput ? cc.normalize() : cc;\n            }\n          }, {\n            key: \"LABtoXYZ\",\n            value: function LABtoXYZ(lab) {\n              var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              var c = normalizedInput ? lab.$normalize(false) : lab;\n              var y = (c[0] + 16) / 116;\n              var x = c[1] / 500 + y;\n              var z = y - c[2] / 200;\n\n              var fn = function fn(n) {\n                var nnn = n * n * n;\n                return nnn > 0.008856 ? nnn : (n - 16 / 116) / 7.787;\n              };\n\n              var d = Color.D65;\n              var cc = Color.xyz(Math.max(0, d[0] * fn(x)), Math.max(0, d[1] * fn(y)), Math.max(0, d[2] * fn(z)), lab.alpha);\n              return normalizedOutput ? cc.normalize() : cc;\n            }\n          }, {\n            key: \"XYZtoLUV\",\n            value: function XYZtoLUV(xyz) {\n              var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n              var _ref8 = normalizedInput ? xyz.$normalize(false) : xyz,\n                  _ref9 = _slicedToArray(_ref8, 3),\n                  x = _ref9[0],\n                  y = _ref9[1],\n                  z = _ref9[2];\n\n              var u = 4 * x / (x + 15 * y + 3 * z);\n              var v = 9 * y / (x + 15 * y + 3 * z);\n              y = y / 100;\n              y = y > 0.008856 ? Math.pow(y, 1 / 3) : 7.787 * y + 16 / 116;\n              var refU = 4 * Color.D65[0] / (Color.D65[0] + 15 * Color.D65[1] + 3 * Color.D65[2]);\n              var refV = 9 * Color.D65[1] / (Color.D65[0] + 15 * Color.D65[1] + 3 * Color.D65[2]);\n              var L = 116 * y - 16;\n              return Color.luv(L, 13 * L * (u - refU), 13 * L * (v - refV), xyz.alpha);\n            }\n          }, {\n            key: \"LUVtoXYZ\",\n            value: function LUVtoXYZ(luv) {\n              var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n              var _ref10 = normalizedInput ? luv.$normalize(false) : luv,\n                  _ref11 = _slicedToArray(_ref10, 3),\n                  l = _ref11[0],\n                  u = _ref11[1],\n                  v = _ref11[2];\n\n              var y = (l + 16) / 116;\n              var cubeY = y * y * y;\n              y = cubeY > 0.008856 ? cubeY : (y - 16 / 116) / 7.787;\n              var refU = 4 * Color.D65[0] / (Color.D65[0] + 15 * Color.D65[1] + 3 * Color.D65[2]);\n              var refV = 9 * Color.D65[1] / (Color.D65[0] + 15 * Color.D65[1] + 3 * Color.D65[2]);\n              u = u / (13 * l) + refU;\n              v = v / (13 * l) + refV;\n              y = y * 100;\n              var x = -1 * (9 * y * u) / ((u - 4) * v - u * v);\n              var z = (9 * y - 15 * v * y - v * x) / (3 * v);\n              return Color.xyz(x, y, z, luv.alpha);\n            }\n          }, {\n            key: \"LABtoLCH\",\n            value: function LABtoLCH(lab) {\n              var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              var c = normalizedInput ? lab.$normalize(false) : lab;\n              var h = Num_1.Geom.toDegree(Num_1.Geom.boundRadian(Math.atan2(c[2], c[1])));\n              return Color.lch(c[0], Math.sqrt(c[1] * c[1] + c[2] * c[2]), h, lab.alpha);\n            }\n          }, {\n            key: \"LCHtoLAB\",\n            value: function LCHtoLAB(lch) {\n              var normalizedInput = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var normalizedOutput = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              var c = normalizedInput ? lch.$normalize(false) : lch;\n              var rad = Num_1.Geom.toRadian(c[2]);\n              return Color.lab(c[0], Math.cos(rad) * c[1], Math.sin(rad) * c[1], lch.alpha);\n            }\n          }]);\n\n          return Color;\n        }(Pt_1.Pt);\n\n        Color.D65 = new Pt_1.Pt(95.047, 100, 108.883, 1);\n        Color.ranges = {\n          rgb: new Pt_1.Group(new Pt_1.Pt(0, 255), new Pt_1.Pt(0, 255), new Pt_1.Pt(0, 255)),\n          hsl: new Pt_1.Group(new Pt_1.Pt(0, 360), new Pt_1.Pt(0, 1), new Pt_1.Pt(0, 1)),\n          hsb: new Pt_1.Group(new Pt_1.Pt(0, 360), new Pt_1.Pt(0, 1), new Pt_1.Pt(0, 1)),\n          lab: new Pt_1.Group(new Pt_1.Pt(0, 100), new Pt_1.Pt(-128, 127), new Pt_1.Pt(-128, 127)),\n          lch: new Pt_1.Group(new Pt_1.Pt(0, 100), new Pt_1.Pt(0, 100), new Pt_1.Pt(0, 360)),\n          luv: new Pt_1.Group(new Pt_1.Pt(0, 100), new Pt_1.Pt(-134, 220), new Pt_1.Pt(-140, 122)),\n          xyz: new Pt_1.Group(new Pt_1.Pt(0, 100), new Pt_1.Pt(0, 100), new Pt_1.Pt(0, 100))\n        };\n        exports.Color = Color;\n        /***/\n      },\n\n      /***/\n      \"./src/Create.ts\":\n      /*!***********************!*\\\n        !*** ./src/Create.ts ***!\n        \\***********************/\n\n      /*! no static exports found */\n\n      /***/\n      function srcCreateTs(module, exports, __webpack_require__) {\n        \"use strict\";\n        /*! Source code licensed under Apache License 2.0. Copyright  2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var Pt_1 = __webpack_require__(\n        /*! ./Pt */\n        \"./src/Pt.ts\");\n\n        var Op_1 = __webpack_require__(\n        /*! ./Op */\n        \"./src/Op.ts\");\n\n        var Util_1 = __webpack_require__(\n        /*! ./Util */\n        \"./src/Util.ts\");\n\n        var Num_1 = __webpack_require__(\n        /*! ./Num */\n        \"./src/Num.ts\");\n\n        var LinearAlgebra_1 = __webpack_require__(\n        /*! ./LinearAlgebra */\n        \"./src/LinearAlgebra.ts\");\n\n        var Create = function () {\n          function Create() {\n            _classCallCheck(this, Create);\n          }\n\n          _createClass(Create, null, [{\n            key: \"distributeRandom\",\n            value: function distributeRandom(bound, count) {\n              var dimensions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 2;\n              var pts = new Pt_1.Group();\n\n              for (var i = 0; i < count; i++) {\n                var p = [bound.x + Math.random() * bound.width];\n                if (dimensions > 1) p.push(bound.y + Math.random() * bound.height);\n                if (dimensions > 2) p.push(bound.z + Math.random() * bound.depth);\n                pts.push(new Pt_1.Pt(p));\n              }\n\n              return pts;\n            }\n          }, {\n            key: \"distributeLinear\",\n            value: function distributeLinear(line, count) {\n              var ln = Op_1.Line.subpoints(line, count - 2);\n              ln.unshift(line[0]);\n              ln.push(line[line.length - 1]);\n              return ln;\n            }\n          }, {\n            key: \"gridPts\",\n            value: function gridPts(bound, columns, rows) {\n              var orientation = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [0.5, 0.5];\n              if (columns === 0 || rows === 0) throw new Error(\"grid columns and rows cannot be 0\");\n              var unit = bound.size.$subtract(1).$divide(columns, rows);\n              var offset = unit.$multiply(orientation);\n              var g = new Pt_1.Group();\n\n              for (var r = 0; r < rows; r++) {\n                for (var c = 0; c < columns; c++) {\n                  g.push(bound.topLeft.$add(unit.$multiply(c, r)).add(offset));\n                }\n              }\n\n              return g;\n            }\n          }, {\n            key: \"gridCells\",\n            value: function gridCells(bound, columns, rows) {\n              if (columns === 0 || rows === 0) throw new Error(\"grid columns and rows cannot be 0\");\n              var unit = bound.size.$subtract(1).divide(columns, rows);\n              var g = [];\n\n              for (var r = 0; r < rows; r++) {\n                for (var c = 0; c < columns; c++) {\n                  g.push(new Pt_1.Group(bound.topLeft.$add(unit.$multiply(c, r)), bound.topLeft.$add(unit.$multiply(c, r).add(unit))));\n                }\n              }\n\n              return g;\n            }\n          }, {\n            key: \"radialPts\",\n            value: function radialPts(center, radius, count) {\n              var angleOffset = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : -Util_1.Const.half_pi;\n              var g = new Pt_1.Group();\n              var a = Util_1.Const.two_pi / count;\n\n              for (var i = 0; i < count; i++) {\n                g.push(new Pt_1.Pt(center).toAngle(a * i + angleOffset, radius, true));\n              }\n\n              return g;\n            }\n          }, {\n            key: \"noisePts\",\n            value: function noisePts(pts) {\n              var dx = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.01;\n              var dy = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.01;\n              var rows = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n              var columns = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n              var seed = Math.random();\n              var g = new Pt_1.Group();\n\n              for (var i = 0, len = pts.length; i < len; i++) {\n                var np = new Noise(pts[i]);\n                var r = rows && rows > 0 ? Math.floor(i / rows) : i;\n                var c = columns && columns > 0 ? i % columns : i;\n                np.initNoise(dx * c, dy * r);\n                np.seed(seed);\n                g.push(np);\n              }\n\n              return g;\n            }\n          }, {\n            key: \"delaunay\",\n            value: function delaunay(pts) {\n              return Delaunay.from(pts);\n            }\n          }]);\n\n          return Create;\n        }();\n\n        exports.Create = Create;\n        var __noise_grad3 = [[1, 1, 0], [-1, 1, 0], [1, -1, 0], [-1, -1, 0], [1, 0, 1], [-1, 0, 1], [1, 0, -1], [-1, 0, -1], [0, 1, 1], [0, -1, 1], [0, 1, -1], [0, -1, -1]];\n        var __noise_permTable = [151, 160, 137, 91, 90, 15, 131, 13, 201, 95, 96, 53, 194, 233, 7, 225, 140, 36, 103, 30, 69, 142, 8, 99, 37, 240, 21, 10, 23, 190, 6, 148, 247, 120, 234, 75, 0, 26, 197, 62, 94, 252, 219, 203, 117, 35, 11, 32, 57, 177, 33, 88, 237, 149, 56, 87, 174, 20, 125, 136, 171, 168, 68, 175, 74, 165, 71, 134, 139, 48, 27, 166, 77, 146, 158, 231, 83, 111, 229, 122, 60, 211, 133, 230, 220, 105, 92, 41, 55, 46, 245, 40, 244, 102, 143, 54, 65, 25, 63, 161, 1, 216, 80, 73, 209, 76, 132, 187, 208, 89, 18, 169, 200, 196, 135, 130, 116, 188, 159, 86, 164, 100, 109, 198, 173, 186, 3, 64, 52, 217, 226, 250, 124, 123, 5, 202, 38, 147, 118, 126, 255, 82, 85, 212, 207, 206, 59, 227, 47, 16, 58, 17, 182, 189, 28, 42, 223, 183, 170, 213, 119, 248, 152, 2, 44, 154, 163, 70, 221, 153, 101, 155, 167, 43, 172, 9, 129, 22, 39, 253, 9, 98, 108, 110, 79, 113, 224, 232, 178, 185, 112, 104, 218, 246, 97, 228, 251, 34, 242, 193, 238, 210, 144, 12, 191, 179, 162, 241, 81, 51, 145, 235, 249, 14, 239, 107, 49, 192, 214, 31, 181, 199, 106, 157, 184, 84, 204, 176, 115, 121, 50, 45, 127, 4, 150, 254, 138, 236, 205, 93, 222, 114, 67, 29, 24, 72, 243, 141, 128, 195, 78, 66, 215, 61, 156, 180];\n\n        var Noise = function (_Pt_1$Pt) {\n          _inherits(Noise, _Pt_1$Pt);\n\n          function Noise() {\n            var _ref;\n\n            _classCallCheck(this, Noise);\n\n            for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = arguments[_key];\n            }\n\n            var _this = _possibleConstructorReturn(this, (_ref = Noise.__proto__ || Object.getPrototypeOf(Noise)).call.apply(_ref, [this].concat(args)));\n\n            _this.perm = [];\n            _this._n = new Pt_1.Pt(0.01, 0.01);\n            _this.perm = __noise_permTable.concat(__noise_permTable);\n            return _this;\n          }\n\n          _createClass(Noise, [{\n            key: \"initNoise\",\n            value: function initNoise() {\n              for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                args[_key2] = arguments[_key2];\n              }\n\n              this._n = new (Function.prototype.bind.apply(Pt_1.Pt, [null].concat(args)))();\n              return this;\n            }\n          }, {\n            key: \"step\",\n            value: function step() {\n              var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n              var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n              this._n.add(x, y);\n\n              return this;\n            }\n          }, {\n            key: \"seed\",\n            value: function seed(s) {\n              if (s > 0 && s < 1) s *= 65536;\n              s = Math.floor(s);\n              if (s < 256) s |= s << 8;\n\n              for (var i = 0; i < 255; i++) {\n                var v = i & 1 ? __noise_permTable[i] ^ s & 255 : __noise_permTable[i] ^ s >> 8 & 255;\n                this.perm[i] = this.perm[i + 256] = v;\n              }\n\n              return this;\n            }\n          }, {\n            key: \"noise2D\",\n            value: function noise2D() {\n              var i = Math.max(0, Math.floor(this._n[0])) % 255;\n              var j = Math.max(0, Math.floor(this._n[1])) % 255;\n              var x = this._n[0] % 255 - i;\n              var y = this._n[1] % 255 - j;\n              var n00 = LinearAlgebra_1.Vec.dot(__noise_grad3[(i + this.perm[j]) % 12], [x, y, 0]);\n              var n01 = LinearAlgebra_1.Vec.dot(__noise_grad3[(i + this.perm[j + 1]) % 12], [x, y - 1, 0]);\n              var n10 = LinearAlgebra_1.Vec.dot(__noise_grad3[(i + 1 + this.perm[j]) % 12], [x - 1, y, 0]);\n              var n11 = LinearAlgebra_1.Vec.dot(__noise_grad3[(i + 1 + this.perm[j + 1]) % 12], [x - 1, y - 1, 0]);\n\n              var _fade = function _fade(f) {\n                return f * f * f * (f * (f * 6 - 15) + 10);\n              };\n\n              var tx = _fade(x);\n\n              return Num_1.Num.lerp(Num_1.Num.lerp(n00, n10, tx), Num_1.Num.lerp(n01, n11, tx), _fade(y));\n            }\n          }]);\n\n          return Noise;\n        }(Pt_1.Pt);\n\n        exports.Noise = Noise;\n\n        var Delaunay = function (_Pt_1$Group) {\n          _inherits(Delaunay, _Pt_1$Group);\n\n          function Delaunay() {\n            _classCallCheck(this, Delaunay);\n\n            var _this2 = _possibleConstructorReturn(this, (Delaunay.__proto__ || Object.getPrototypeOf(Delaunay)).apply(this, arguments));\n\n            _this2._mesh = [];\n            return _this2;\n          }\n\n          _createClass(Delaunay, [{\n            key: \"delaunay\",\n            value: function delaunay() {\n              var _this3 = this;\n\n              var triangleOnly = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n              if (this.length < 3) return [];\n              this._mesh = [];\n              var n = this.length;\n              var indices = [];\n\n              for (var i = 0; i < n; i++) {\n                indices[i] = i;\n              }\n\n              indices.sort(function (i, j) {\n                return _this3[j][0] - _this3[i][0];\n              });\n              var pts = this.slice();\n\n              var st = this._superTriangle();\n\n              pts = pts.concat(st);\n              var opened = [this._circum(n, n + 1, n + 2, st)];\n              var closed = [];\n              var tris = [];\n\n              for (var _i = 0, len = indices.length; _i < len; _i++) {\n                var c = indices[_i];\n                var edges = [];\n                var j = opened.length;\n                if (!this._mesh[c]) this._mesh[c] = {};\n\n                while (j--) {\n                  var circum = opened[j];\n                  var radius = circum.circle[1][0];\n                  var d = pts[c].$subtract(circum.circle[0]);\n\n                  if (d[0] > 0 && d[0] * d[0] > radius * radius) {\n                    closed.push(circum);\n                    tris.push(circum.triangle);\n                    opened.splice(j, 1);\n                    continue;\n                  }\n\n                  if (d[0] * d[0] + d[1] * d[1] - radius * radius > Util_1.Const.epsilon) {\n                    continue;\n                  }\n\n                  edges.push(circum.i, circum.j, circum.j, circum.k, circum.k, circum.i);\n                  opened.splice(j, 1);\n                }\n\n                Delaunay._dedupe(edges);\n\n                j = edges.length;\n\n                while (j > 1) {\n                  opened.push(this._circum(edges[--j], edges[--j], c, false, pts));\n                }\n              }\n\n              for (var _i2 = 0, _len3 = opened.length; _i2 < _len3; _i2++) {\n                var o = opened[_i2];\n\n                if (o.i < n && o.j < n && o.k < n) {\n                  closed.push(o);\n                  tris.push(o.triangle);\n\n                  this._cache(o);\n                }\n              }\n\n              return triangleOnly ? tris : closed;\n            }\n          }, {\n            key: \"voronoi\",\n            value: function voronoi() {\n              var vs = [];\n              var n = this._mesh;\n\n              for (var i = 0, len = n.length; i < len; i++) {\n                vs.push(this.neighborPts(i, true));\n              }\n\n              return vs;\n            }\n          }, {\n            key: \"mesh\",\n            value: function mesh() {\n              return this._mesh;\n            }\n          }, {\n            key: \"neighborPts\",\n            value: function neighborPts(i) {\n              var sort = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var cs = new Pt_1.Group();\n              var n = this._mesh;\n\n              for (var k in n[i]) {\n                if (n[i].hasOwnProperty(k)) cs.push(n[i][k].circle[0]);\n              }\n\n              return sort ? Num_1.Geom.sortEdges(cs) : cs;\n            }\n          }, {\n            key: \"neighbors\",\n            value: function neighbors(i) {\n              var cs = [];\n              var n = this._mesh;\n\n              for (var k in n[i]) {\n                if (n[i].hasOwnProperty(k)) cs.push(n[i][k]);\n              }\n\n              return cs;\n            }\n          }, {\n            key: \"_cache\",\n            value: function _cache(o) {\n              this._mesh[o.i][Math.min(o.j, o.k) + \"-\" + Math.max(o.j, o.k)] = o;\n              this._mesh[o.j][Math.min(o.i, o.k) + \"-\" + Math.max(o.i, o.k)] = o;\n              this._mesh[o.k][Math.min(o.i, o.j) + \"-\" + Math.max(o.i, o.j)] = o;\n            }\n          }, {\n            key: \"_superTriangle\",\n            value: function _superTriangle() {\n              var minPt = this[0];\n              var maxPt = this[0];\n\n              for (var i = 1, len = this.length; i < len; i++) {\n                minPt = minPt.$min(this[i]);\n                maxPt = maxPt.$max(this[i]);\n              }\n\n              var d = maxPt.$subtract(minPt);\n              var mid = minPt.$add(maxPt).divide(2);\n              var dmax = Math.max(d[0], d[1]);\n              return new Pt_1.Group(mid.$subtract(20 * dmax, dmax), mid.$add(0, 20 * dmax), mid.$add(20 * dmax, -dmax));\n            }\n          }, {\n            key: \"_triangle\",\n            value: function _triangle(i, j, k) {\n              var pts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : this;\n              return new Pt_1.Group(pts[i], pts[j], pts[k]);\n            }\n          }, {\n            key: \"_circum\",\n            value: function _circum(i, j, k, tri) {\n              var pts = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : this;\n\n              var t = tri || this._triangle(i, j, k, pts);\n\n              return {\n                i: i,\n                j: j,\n                k: k,\n                triangle: t,\n                circle: Op_1.Triangle.circumcircle(t)\n              };\n            }\n          }], [{\n            key: \"_dedupe\",\n            value: function _dedupe(edges) {\n              var j = edges.length;\n\n              while (j > 1) {\n                var b = edges[--j];\n                var a = edges[--j];\n                var i = j;\n\n                while (i > 1) {\n                  var n = edges[--i];\n                  var m = edges[--i];\n\n                  if (a == m && b == n || a == n && b == m) {\n                    edges.splice(j, 2);\n                    edges.splice(i, 2);\n                    break;\n                  }\n                }\n              }\n\n              return edges;\n            }\n          }]);\n\n          return Delaunay;\n        }(Pt_1.Group);\n\n        exports.Delaunay = Delaunay;\n        /***/\n      },\n\n      /***/\n      \"./src/Dom.ts\":\n      /*!********************!*\\\n        !*** ./src/Dom.ts ***!\n        \\********************/\n\n      /*! no static exports found */\n\n      /***/\n      function srcDomTs(module, exports, __webpack_require__) {\n        \"use strict\";\n        /*! Source code licensed under Apache License 2.0. Copyright  2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\n\n        var _get = function get(object, property, receiver) {\n          if (object === null) object = Function.prototype;\n          var desc = Object.getOwnPropertyDescriptor(object, property);\n\n          if (desc === undefined) {\n            var parent = Object.getPrototypeOf(object);\n\n            if (parent === null) {\n              return undefined;\n            } else {\n              return get(parent, property, receiver);\n            }\n          } else if (\"value\" in desc) {\n            return desc.value;\n          } else {\n            var getter = desc.get;\n\n            if (getter === undefined) {\n              return undefined;\n            }\n\n            return getter.call(receiver);\n          }\n        };\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var Space_1 = __webpack_require__(\n        /*! ./Space */\n        \"./src/Space.ts\");\n\n        var Form_1 = __webpack_require__(\n        /*! ./Form */\n        \"./src/Form.ts\");\n\n        var Util_1 = __webpack_require__(\n        /*! ./Util */\n        \"./src/Util.ts\");\n\n        var Pt_1 = __webpack_require__(\n        /*! ./Pt */\n        \"./src/Pt.ts\");\n\n        var DOMSpace = function (_Space_1$MultiTouchSp) {\n          _inherits(DOMSpace, _Space_1$MultiTouchSp);\n\n          function DOMSpace(elem, callback) {\n            _classCallCheck(this, DOMSpace);\n\n            var _this = _possibleConstructorReturn(this, (DOMSpace.__proto__ || Object.getPrototypeOf(DOMSpace)).call(this));\n\n            _this.id = \"domspace\";\n            _this._autoResize = true;\n            _this._bgcolor = \"#e1e9f0\";\n            _this._css = {};\n            var _selector = null;\n            var _existed = false;\n            _this.id = \"pts\";\n\n            if (elem instanceof Element) {\n              _selector = elem;\n              _this.id = \"pts_existing_space\";\n            } else {\n              _selector = document.querySelector(elem);\n              _existed = true;\n              _this.id = elem.substr(1);\n            }\n\n            if (!_selector) {\n              _this._container = DOMSpace.createElement(\"div\", \"pts_container\");\n              _this._canvas = DOMSpace.createElement(\"div\", \"pts_element\");\n\n              _this._container.appendChild(_this._canvas);\n\n              document.body.appendChild(_this._container);\n              _existed = false;\n            } else {\n              _this._canvas = _selector;\n              _this._container = _selector.parentElement;\n            }\n\n            setTimeout(_this._ready.bind(_this, callback), 50);\n            return _this;\n          }\n\n          _createClass(DOMSpace, [{\n            key: \"_ready\",\n            value: function _ready(callback) {\n              if (!this._container) throw new Error(\"Cannot initiate #\" + this.id + \" element\");\n              this._isReady = true;\n\n              this._resizeHandler(null);\n\n              this.clear(this._bgcolor);\n\n              this._canvas.dispatchEvent(new Event(\"ready\"));\n\n              for (var k in this.players) {\n                if (this.players.hasOwnProperty(k)) {\n                  if (this.players[k].start) this.players[k].start(this.bound.clone(), this);\n                }\n              }\n\n              this._pointer = this.center;\n              this.refresh(false);\n              if (callback) callback(this.bound, this._canvas);\n            }\n          }, {\n            key: \"setup\",\n            value: function setup(opt) {\n              if (opt.bgcolor) {\n                this._bgcolor = opt.bgcolor;\n              }\n\n              this.autoResize = opt.resize != undefined ? opt.resize : false;\n              return this;\n            }\n          }, {\n            key: \"getForm\",\n            value: function getForm() {\n              return null;\n            }\n          }, {\n            key: \"resize\",\n            value: function resize(b, evt) {\n              this.bound = b;\n              this.styles({\n                width: b.width + \"px\",\n                height: b.height + \"px\"\n              }, true);\n\n              for (var k in this.players) {\n                if (this.players.hasOwnProperty(k)) {\n                  var p = this.players[k];\n                  if (p.resize) p.resize(this.bound, evt);\n                }\n              }\n\n              return this;\n            }\n          }, {\n            key: \"_resizeHandler\",\n            value: function _resizeHandler(evt) {\n              var b = Pt_1.Bound.fromBoundingRect(this._container.getBoundingClientRect());\n\n              if (this._autoResize) {\n                this.styles({\n                  width: \"100%\",\n                  height: \"100%\"\n                }, true);\n              } else {\n                this.styles({\n                  width: b.width + \"px\",\n                  height: b.height + \"px\"\n                }, true);\n              }\n\n              this.resize(b, evt);\n            }\n          }, {\n            key: \"clear\",\n            value: function clear(bg) {\n              if (bg) this.background = bg;\n              this._canvas.innerHTML = \"\";\n              return this;\n            }\n          }, {\n            key: \"style\",\n            value: function style(key, val) {\n              var update = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              this._css[key] = val;\n              if (update) this._canvas.style[key] = val;\n              return this;\n            }\n          }, {\n            key: \"styles\",\n            value: function styles(_styles) {\n              var update = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n              for (var k in _styles) {\n                if (_styles.hasOwnProperty(k)) this.style(k, _styles[k], update);\n              }\n\n              return this;\n            }\n          }, {\n            key: \"dispose\",\n            value: function dispose() {\n              window.removeEventListener('resize', this._resizeHandler.bind(this));\n              this.stop();\n              this.removeAll();\n              return this;\n            }\n          }, {\n            key: \"autoResize\",\n            set: function set(auto) {\n              this._autoResize = auto;\n\n              if (auto) {\n                window.addEventListener('resize', this._resizeHandler.bind(this));\n              } else {\n                delete this._css['width'];\n                delete this._css['height'];\n                window.removeEventListener('resize', this._resizeHandler.bind(this));\n              }\n            },\n            get: function get() {\n              return this._autoResize;\n            }\n          }, {\n            key: \"element\",\n            get: function get() {\n              return this._canvas;\n            }\n          }, {\n            key: \"parent\",\n            get: function get() {\n              return this._container;\n            }\n          }, {\n            key: \"ready\",\n            get: function get() {\n              return this._isReady;\n            }\n          }, {\n            key: \"background\",\n            set: function set(bg) {\n              this._bgcolor = bg;\n              this._container.style.backgroundColor = this._bgcolor;\n            },\n            get: function get() {\n              return this._bgcolor;\n            }\n          }], [{\n            key: \"createElement\",\n            value: function createElement() {\n              var elem = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"div\";\n              var id = arguments[1];\n              var appendTo = arguments[2];\n              var d = document.createElement(elem);\n              if (id) d.setAttribute(\"id\", id);\n              if (appendTo && appendTo.appendChild) appendTo.appendChild(d);\n              return d;\n            }\n          }, {\n            key: \"setAttr\",\n            value: function setAttr(elem, data) {\n              for (var k in data) {\n                if (data.hasOwnProperty(k)) {\n                  elem.setAttribute(k, data[k]);\n                }\n              }\n\n              return elem;\n            }\n          }, {\n            key: \"getInlineStyles\",\n            value: function getInlineStyles(data) {\n              var str = \"\";\n\n              for (var k in data) {\n                if (data.hasOwnProperty(k)) {\n                  if (data[k]) str += k + \": \" + data[k] + \"; \";\n                }\n              }\n\n              return str;\n            }\n          }]);\n\n          return DOMSpace;\n        }(Space_1.MultiTouchSpace);\n\n        exports.DOMSpace = DOMSpace;\n\n        var HTMLSpace = function (_DOMSpace) {\n          _inherits(HTMLSpace, _DOMSpace);\n\n          function HTMLSpace() {\n            _classCallCheck(this, HTMLSpace);\n\n            return _possibleConstructorReturn(this, (HTMLSpace.__proto__ || Object.getPrototypeOf(HTMLSpace)).apply(this, arguments));\n          }\n\n          _createClass(HTMLSpace, [{\n            key: \"getForm\",\n            value: function getForm() {\n              return new HTMLForm(this);\n            }\n          }, {\n            key: \"remove\",\n            value: function remove(player) {\n              var temp = this._container.querySelectorAll(\".\" + HTMLForm.scopeID(player));\n\n              temp.forEach(function (el) {\n                el.parentNode.removeChild(el);\n              });\n              return _get(HTMLSpace.prototype.__proto__ || Object.getPrototypeOf(HTMLSpace.prototype), \"remove\", this).call(this, player);\n            }\n          }, {\n            key: \"removeAll\",\n            value: function removeAll() {\n              this._container.innerHTML = \"\";\n              return _get(HTMLSpace.prototype.__proto__ || Object.getPrototypeOf(HTMLSpace.prototype), \"removeAll\", this).call(this);\n            }\n          }], [{\n            key: \"htmlElement\",\n            value: function htmlElement(parent, name, id) {\n              var autoClass = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n              if (!parent || !parent.appendChild) throw new Error(\"parent is not a valid DOM element\");\n              var elem = document.querySelector(\"#\" + id);\n\n              if (!elem) {\n                elem = document.createElement(name);\n                elem.setAttribute(\"id\", id);\n                if (autoClass) elem.setAttribute(\"class\", id.substring(0, id.indexOf(\"-\")));\n                parent.appendChild(elem);\n              }\n\n              return elem;\n            }\n          }]);\n\n          return HTMLSpace;\n        }(DOMSpace);\n\n        exports.HTMLSpace = HTMLSpace;\n\n        var HTMLForm = function (_Form_1$VisualForm) {\n          _inherits(HTMLForm, _Form_1$VisualForm);\n\n          function HTMLForm(space) {\n            _classCallCheck(this, HTMLForm);\n\n            var _this3 = _possibleConstructorReturn(this, (HTMLForm.__proto__ || Object.getPrototypeOf(HTMLForm)).call(this));\n\n            _this3._style = {\n              \"filled\": true,\n              \"stroked\": true,\n              \"background\": \"#f03\",\n              \"border-color\": \"#fff\",\n              \"color\": \"#000\",\n              \"border-width\": \"1px\",\n              \"border-radius\": \"0\",\n              \"border-style\": \"solid\",\n              \"opacity\": 1,\n              \"position\": \"absolute\",\n              \"top\": 0,\n              \"left\": 0,\n              \"width\": 0,\n              \"height\": 0\n            };\n            _this3._ctx = {\n              group: null,\n              groupID: \"pts\",\n              groupCount: 0,\n              currentID: \"pts0\",\n              currentClass: \"\",\n              style: {}\n            };\n            _this3._ready = false;\n            _this3._space = space;\n\n            _this3._space.add({\n              start: function start() {\n                _this3._ctx.group = _this3._space.element;\n                _this3._ctx.groupID = \"pts_dom_\" + HTMLForm.groupID++;\n                _this3._ctx.style = Object.assign({}, _this3._style);\n                _this3._ready = true;\n              }\n            });\n\n            return _this3;\n          }\n\n          _createClass(HTMLForm, [{\n            key: \"styleTo\",\n            value: function styleTo(k, v) {\n              var unit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n              if (this._ctx.style[k] === undefined) throw new Error(k + \" style property doesn't exist\");\n              this._ctx.style[k] = \"\" + v + unit;\n            }\n          }, {\n            key: \"alpha\",\n            value: function alpha(a) {\n              this.styleTo(\"opacity\", a);\n              return this;\n            }\n          }, {\n            key: \"fill\",\n            value: function fill(c) {\n              if (typeof c == \"boolean\") {\n                this.styleTo(\"filled\", c);\n                if (!c) this.styleTo(\"background\", \"transparent\");\n              } else {\n                this.styleTo(\"filled\", true);\n                this.styleTo(\"background\", c);\n              }\n\n              return this;\n            }\n          }, {\n            key: \"stroke\",\n            value: function stroke(c, width, linejoin, linecap) {\n              if (typeof c == \"boolean\") {\n                this.styleTo(\"stroked\", c);\n                if (!c) this.styleTo(\"border-width\", 0);\n              } else {\n                this.styleTo(\"stroked\", true);\n                this.styleTo(\"border-color\", c);\n                this.styleTo(\"border-width\", (width || 1) + \"px\");\n              }\n\n              return this;\n            }\n          }, {\n            key: \"fillText\",\n            value: function fillText(c) {\n              this.styleTo(\"color\", c);\n              return this;\n            }\n          }, {\n            key: \"cls\",\n            value: function cls(c) {\n              if (typeof c == \"boolean\") {\n                this._ctx.currentClass = \"\";\n              } else {\n                this._ctx.currentClass = c;\n              }\n\n              return this;\n            }\n          }, {\n            key: \"font\",\n            value: function font(sizeOrFont, weight, style, lineHeight, family) {\n              if (typeof sizeOrFont == \"number\") {\n                this._font.size = sizeOrFont;\n                if (family) this._font.face = family;\n                if (weight) this._font.weight = weight;\n                if (style) this._font.style = style;\n                if (lineHeight) this._font.lineHeight = lineHeight;\n              } else {\n                this._font = sizeOrFont;\n              }\n\n              this._ctx.style['font'] = this._font.value;\n              return this;\n            }\n          }, {\n            key: \"reset\",\n            value: function reset() {\n              this._ctx.style = Object.assign({}, this._style);\n              this._font = new Form_1.Font(10, \"sans-serif\");\n              this._ctx.style['font'] = this._font.value;\n              return this;\n            }\n          }, {\n            key: \"updateScope\",\n            value: function updateScope(group_id, group) {\n              this._ctx.group = group;\n              this._ctx.groupID = group_id;\n              this._ctx.groupCount = 0;\n              this.nextID();\n              return this._ctx;\n            }\n          }, {\n            key: \"scope\",\n            value: function scope(item) {\n              if (!item || item.animateID == null) throw new Error(\"item not defined or not yet added to Space\");\n              return this.updateScope(HTMLForm.scopeID(item), this.space.element);\n            }\n          }, {\n            key: \"nextID\",\n            value: function nextID() {\n              this._ctx.groupCount++;\n              this._ctx.currentID = this._ctx.groupID + \"-\" + this._ctx.groupCount;\n              return this._ctx.currentID;\n            }\n          }, {\n            key: \"point\",\n            value: function point(pt) {\n              var radius = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 5;\n              var shape = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"square\";\n              this.nextID();\n              if (shape == \"circle\") this.styleTo(\"border-radius\", \"100%\");\n              HTMLForm.point(this._ctx, pt, radius, shape);\n              return this;\n            }\n          }, {\n            key: \"circle\",\n            value: function circle(pts) {\n              this.nextID();\n              this.styleTo(\"border-radius\", \"100%\");\n              HTMLForm.circle(this._ctx, pts[0], pts[1][0]);\n              return this;\n            }\n          }, {\n            key: \"square\",\n            value: function square(pt, halfsize) {\n              this.nextID();\n              HTMLForm.square(this._ctx, pt, halfsize);\n              return this;\n            }\n          }, {\n            key: \"rect\",\n            value: function rect(pts) {\n              this.nextID();\n              this.styleTo(\"border-radius\", \"0\");\n              HTMLForm.rect(this._ctx, pts);\n              return this;\n            }\n          }, {\n            key: \"text\",\n            value: function text(pt, txt) {\n              this.nextID();\n              HTMLForm.text(this._ctx, pt, txt);\n              return this;\n            }\n          }, {\n            key: \"log\",\n            value: function log(txt) {\n              this.fill(\"#000\").stroke(\"#fff\", 0.5).text([10, 14], txt);\n              return this;\n            }\n          }, {\n            key: \"arc\",\n            value: function arc(pt, radius, startAngle, endAngle, cc) {\n              Util_1.Util.warn(\"arc is not implemented in HTMLForm\");\n              return this;\n            }\n          }, {\n            key: \"line\",\n            value: function line(pts) {\n              Util_1.Util.warn(\"line is not implemented in HTMLForm\");\n              return this;\n            }\n          }, {\n            key: \"polygon\",\n            value: function polygon(pts) {\n              Util_1.Util.warn(\"polygon is not implemented in HTMLForm\");\n              return this;\n            }\n          }, {\n            key: \"space\",\n            get: function get() {\n              return this._space;\n            }\n          }], [{\n            key: \"getID\",\n            value: function getID(ctx) {\n              return ctx.currentID || \"p-\" + HTMLForm.domID++;\n            }\n          }, {\n            key: \"scopeID\",\n            value: function scopeID(item) {\n              return \"item-\" + item.animateID;\n            }\n          }, {\n            key: \"style\",\n            value: function style(elem, styles) {\n              var st = [];\n              if (!styles[\"filled\"]) st.push(\"background: none\");\n              if (!styles[\"stroked\"]) st.push(\"border: none\");\n\n              for (var k in styles) {\n                if (styles.hasOwnProperty(k) && k != \"filled\" && k != \"stroked\") {\n                  var v = styles[k];\n\n                  if (v) {\n                    if (!styles[\"filled\"] && k.indexOf('background') === 0) {\n                      continue;\n                    } else if (!styles[\"stroked\"] && k.indexOf('border-width') === 0) {\n                      continue;\n                    } else {\n                      st.push(k + \": \" + v);\n                    }\n                  }\n                }\n              }\n\n              return HTMLSpace.setAttr(elem, {\n                style: st.join(\";\")\n              });\n            }\n          }, {\n            key: \"rectStyle\",\n            value: function rectStyle(ctx, pt, size) {\n              ctx.style[\"left\"] = pt[0] + \"px\";\n              ctx.style[\"top\"] = pt[1] + \"px\";\n              ctx.style[\"width\"] = size[0] + \"px\";\n              ctx.style[\"height\"] = size[1] + \"px\";\n              return ctx;\n            }\n          }, {\n            key: \"textStyle\",\n            value: function textStyle(ctx, pt) {\n              ctx.style[\"left\"] = pt[0] + \"px\";\n              ctx.style[\"top\"] = pt[1] + \"px\";\n              return ctx;\n            }\n          }, {\n            key: \"point\",\n            value: function point(ctx, pt) {\n              var radius = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 5;\n              var shape = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"square\";\n\n              if (shape === \"circle\") {\n                return HTMLForm.circle(ctx, pt, radius);\n              } else {\n                return HTMLForm.square(ctx, pt, radius);\n              }\n            }\n          }, {\n            key: \"circle\",\n            value: function circle(ctx, pt) {\n              var radius = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10;\n              var elem = HTMLSpace.htmlElement(ctx.group, \"div\", HTMLForm.getID(ctx));\n              HTMLSpace.setAttr(elem, {\n                class: \"pts-form pts-circle \" + ctx.currentClass\n              });\n              HTMLForm.rectStyle(ctx, new Pt_1.Pt(pt).$subtract(radius), new Pt_1.Pt(radius * 2, radius * 2));\n              HTMLForm.style(elem, ctx.style);\n              return elem;\n            }\n          }, {\n            key: \"square\",\n            value: function square(ctx, pt, halfsize) {\n              var elem = HTMLSpace.htmlElement(ctx.group, \"div\", HTMLForm.getID(ctx));\n              HTMLSpace.setAttr(elem, {\n                class: \"pts-form pts-square \" + ctx.currentClass\n              });\n              HTMLForm.rectStyle(ctx, new Pt_1.Pt(pt).$subtract(halfsize), new Pt_1.Pt(halfsize * 2, halfsize * 2));\n              HTMLForm.style(elem, ctx.style);\n              return elem;\n            }\n          }, {\n            key: \"rect\",\n            value: function rect(ctx, pts) {\n              if (!this._checkSize(pts)) return;\n              var elem = HTMLSpace.htmlElement(ctx.group, \"div\", HTMLForm.getID(ctx));\n              HTMLSpace.setAttr(elem, {\n                class: \"pts-form pts-rect \" + ctx.currentClass\n              });\n              HTMLForm.rectStyle(ctx, pts[0], pts[1]);\n              HTMLForm.style(elem, ctx.style);\n              return elem;\n            }\n          }, {\n            key: \"text\",\n            value: function text(ctx, pt, txt) {\n              var elem = HTMLSpace.htmlElement(ctx.group, \"div\", HTMLForm.getID(ctx));\n              HTMLSpace.setAttr(elem, {\n                class: \"pts-form pts-text \" + ctx.currentClass\n              });\n              elem.textContent = txt;\n              HTMLForm.textStyle(ctx, pt);\n              HTMLForm.style(elem, ctx.style);\n              return elem;\n            }\n          }]);\n\n          return HTMLForm;\n        }(Form_1.VisualForm);\n\n        HTMLForm.groupID = 0;\n        HTMLForm.domID = 0;\n        exports.HTMLForm = HTMLForm;\n        /***/\n      },\n\n      /***/\n      \"./src/Form.ts\":\n      /*!*********************!*\\\n        !*** ./src/Form.ts ***!\n        \\*********************/\n\n      /*! no static exports found */\n\n      /***/\n      function srcFormTs(module, exports, __webpack_require__) {\n        \"use strict\";\n        /*! Source code licensed under Apache License 2.0. Copyright  2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var Util_1 = __webpack_require__(\n        /*! ./Util */\n        \"./src/Util.ts\");\n\n        var Form = function () {\n          function Form() {\n            _classCallCheck(this, Form);\n\n            this._ready = false;\n          }\n\n          _createClass(Form, [{\n            key: \"ready\",\n            get: function get() {\n              return this._ready;\n            }\n          }], [{\n            key: \"_checkSize\",\n            value: function _checkSize(pts) {\n              var required = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n\n              if (pts.length < required) {\n                Util_1.Util.warn(\"Requires 2 or more Pts in this Group.\");\n                return false;\n              }\n\n              return true;\n            }\n          }]);\n\n          return Form;\n        }();\n\n        exports.Form = Form;\n\n        var VisualForm = function (_Form) {\n          _inherits(VisualForm, _Form);\n\n          function VisualForm() {\n            _classCallCheck(this, VisualForm);\n\n            var _this = _possibleConstructorReturn(this, (VisualForm.__proto__ || Object.getPrototypeOf(VisualForm)).apply(this, arguments));\n\n            _this._filled = true;\n            _this._stroked = true;\n            _this._font = new Font(14, \"sans-serif\");\n            return _this;\n          }\n\n          _createClass(VisualForm, [{\n            key: \"_multiple\",\n            value: function _multiple(groups, shape) {\n              if (!groups) return this;\n\n              for (var _len = arguments.length, rest = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n                rest[_key - 2] = arguments[_key];\n              }\n\n              for (var i = 0, len = groups.length; i < len; i++) {\n                this[shape].apply(this, [groups[i]].concat(rest));\n              }\n\n              return this;\n            }\n          }, {\n            key: \"alpha\",\n            value: function alpha(a) {\n              return this;\n            }\n          }, {\n            key: \"fill\",\n            value: function fill(c) {\n              return this;\n            }\n          }, {\n            key: \"fillOnly\",\n            value: function fillOnly(c) {\n              this.stroke(false);\n              return this.fill(c);\n            }\n          }, {\n            key: \"stroke\",\n            value: function stroke(c, width, linejoin, linecap) {\n              return this;\n            }\n          }, {\n            key: \"strokeOnly\",\n            value: function strokeOnly(c, width, linejoin, linecap) {\n              this.fill(false);\n              return this.stroke(c, width, linejoin, linecap);\n            }\n          }, {\n            key: \"points\",\n            value: function points(pts, radius, shape) {\n              if (!pts) return;\n\n              for (var i = 0, len = pts.length; i < len; i++) {\n                this.point(pts[i], radius, shape);\n              }\n\n              return this;\n            }\n          }, {\n            key: \"circles\",\n            value: function circles(groups) {\n              return this._multiple(groups, \"circle\");\n            }\n          }, {\n            key: \"squares\",\n            value: function squares(groups) {\n              return this._multiple(groups, \"square\");\n            }\n          }, {\n            key: \"lines\",\n            value: function lines(groups) {\n              return this._multiple(groups, \"line\");\n            }\n          }, {\n            key: \"polygons\",\n            value: function polygons(groups) {\n              return this._multiple(groups, \"polygon\");\n            }\n          }, {\n            key: \"rects\",\n            value: function rects(groups) {\n              return this._multiple(groups, \"rect\");\n            }\n          }, {\n            key: \"filled\",\n            get: function get() {\n              return this._filled;\n            },\n            set: function set(b) {\n              this._filled = b;\n            }\n          }, {\n            key: \"stroked\",\n            get: function get() {\n              return this._stroked;\n            },\n            set: function set(b) {\n              this._stroked = b;\n            }\n          }, {\n            key: \"currentFont\",\n            get: function get() {\n              return this._font;\n            }\n          }]);\n\n          return VisualForm;\n        }(Form);\n\n        exports.VisualForm = VisualForm;\n\n        var Font = function () {\n          function Font() {\n            var size = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 12;\n            var face = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"sans-serif\";\n            var weight = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"\";\n            var style = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"\";\n            var lineHeight = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1.5;\n\n            _classCallCheck(this, Font);\n\n            this.size = size;\n            this.face = face;\n            this.style = style;\n            this.weight = weight;\n            this.lineHeight = lineHeight;\n          }\n\n          _createClass(Font, [{\n            key: \"toString\",\n            value: function toString() {\n              return this.value;\n            }\n          }, {\n            key: \"value\",\n            get: function get() {\n              return this.style + \" \" + this.weight + \" \" + this.size + \"px/\" + this.lineHeight + \" \" + this.face;\n            }\n          }]);\n\n          return Font;\n        }();\n\n        exports.Font = Font;\n        /***/\n      },\n\n      /***/\n      \"./src/LinearAlgebra.ts\":\n      /*!******************************!*\\\n        !*** ./src/LinearAlgebra.ts ***!\n        \\******************************/\n\n      /*! no static exports found */\n\n      /***/\n      function srcLinearAlgebraTs(module, exports, __webpack_require__) {\n        \"use strict\";\n        /*! Source code licensed under Apache License 2.0. Copyright  2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var Pt_1 = __webpack_require__(\n        /*! ./Pt */\n        \"./src/Pt.ts\");\n\n        var Op_1 = __webpack_require__(\n        /*! ./Op */\n        \"./src/Op.ts\");\n\n        var Vec = function () {\n          function Vec() {\n            _classCallCheck(this, Vec);\n          }\n\n          _createClass(Vec, null, [{\n            key: \"add\",\n            value: function add(a, b) {\n              if (typeof b == \"number\") {\n                for (var i = 0, len = a.length; i < len; i++) {\n                  a[i] += b;\n                }\n              } else {\n                for (var _i = 0, _len = a.length; _i < _len; _i++) {\n                  a[_i] += b[_i] || 0;\n                }\n              }\n\n              return a;\n            }\n          }, {\n            key: \"subtract\",\n            value: function subtract(a, b) {\n              if (typeof b == \"number\") {\n                for (var i = 0, len = a.length; i < len; i++) {\n                  a[i] -= b;\n                }\n              } else {\n                for (var _i2 = 0, _len2 = a.length; _i2 < _len2; _i2++) {\n                  a[_i2] -= b[_i2] || 0;\n                }\n              }\n\n              return a;\n            }\n          }, {\n            key: \"multiply\",\n            value: function multiply(a, b) {\n              if (typeof b == \"number\") {\n                for (var i = 0, len = a.length; i < len; i++) {\n                  a[i] *= b;\n                }\n              } else {\n                if (a.length != b.length) {\n                  throw new Error(\"Cannot do element-wise multiply since the array lengths don't match: \" + a.toString() + \" multiply-with \" + b.toString());\n                }\n\n                for (var _i3 = 0, _len3 = a.length; _i3 < _len3; _i3++) {\n                  a[_i3] *= b[_i3];\n                }\n              }\n\n              return a;\n            }\n          }, {\n            key: \"divide\",\n            value: function divide(a, b) {\n              if (typeof b == \"number\") {\n                if (b === 0) throw new Error(\"Cannot divide by zero\");\n\n                for (var i = 0, len = a.length; i < len; i++) {\n                  a[i] /= b;\n                }\n              } else {\n                if (a.length != b.length) {\n                  throw new Error(\"Cannot do element-wise divide since the array lengths don't match. \" + a.toString() + \" divide-by \" + b.toString());\n                }\n\n                for (var _i4 = 0, _len4 = a.length; _i4 < _len4; _i4++) {\n                  a[_i4] /= b[_i4];\n                }\n              }\n\n              return a;\n            }\n          }, {\n            key: \"dot\",\n            value: function dot(a, b) {\n              if (a.length != b.length) throw new Error(\"Array lengths don't match\");\n              var d = 0;\n\n              for (var i = 0, len = a.length; i < len; i++) {\n                d += a[i] * b[i];\n              }\n\n              return d;\n            }\n          }, {\n            key: \"cross2D\",\n            value: function cross2D(a, b) {\n              return a[0] * b[1] - a[1] * b[0];\n            }\n          }, {\n            key: \"cross\",\n            value: function cross(a, b) {\n              return new Pt_1.Pt(a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]);\n            }\n          }, {\n            key: \"magnitude\",\n            value: function magnitude(a) {\n              return Math.sqrt(Vec.dot(a, a));\n            }\n          }, {\n            key: \"unit\",\n            value: function unit(a) {\n              var magnitude = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n              var m = magnitude === undefined ? Vec.magnitude(a) : magnitude;\n              if (m === 0) return Pt_1.Pt.make(a.length);\n              return Vec.divide(a, m);\n            }\n          }, {\n            key: \"abs\",\n            value: function abs(a) {\n              return Vec.map(a, Math.abs);\n            }\n          }, {\n            key: \"floor\",\n            value: function floor(a) {\n              return Vec.map(a, Math.floor);\n            }\n          }, {\n            key: \"ceil\",\n            value: function ceil(a) {\n              return Vec.map(a, Math.ceil);\n            }\n          }, {\n            key: \"round\",\n            value: function round(a) {\n              return Vec.map(a, Math.round);\n            }\n          }, {\n            key: \"max\",\n            value: function max(a) {\n              var m = Number.MIN_VALUE;\n              var index = 0;\n\n              for (var i = 0, len = a.length; i < len; i++) {\n                m = Math.max(m, a[i]);\n                if (m === a[i]) index = i;\n              }\n\n              return {\n                value: m,\n                index: index\n              };\n            }\n          }, {\n            key: \"min\",\n            value: function min(a) {\n              var m = Number.MAX_VALUE;\n              var index = 0;\n\n              for (var i = 0, len = a.length; i < len; i++) {\n                m = Math.min(m, a[i]);\n                if (m === a[i]) index = i;\n              }\n\n              return {\n                value: m,\n                index: index\n              };\n            }\n          }, {\n            key: \"sum\",\n            value: function sum(a) {\n              var s = 0;\n\n              for (var i = 0, len = a.length; i < len; i++) {\n                s += a[i];\n              }\n\n              return s;\n            }\n          }, {\n            key: \"map\",\n            value: function map(a, fn) {\n              for (var i = 0, len = a.length; i < len; i++) {\n                a[i] = fn(a[i], i, a);\n              }\n\n              return a;\n            }\n          }]);\n\n          return Vec;\n        }();\n\n        exports.Vec = Vec;\n\n        var Mat = function () {\n          function Mat() {\n            _classCallCheck(this, Mat);\n          }\n\n          _createClass(Mat, null, [{\n            key: \"add\",\n            value: function add(a, b) {\n              if (typeof b != \"number\") {\n                if (a[0].length != b[0].length) throw new Error(\"Cannot add matrix if rows' and columns' size don't match.\");\n                if (a.length != b.length) throw new Error(\"Cannot add matrix if rows' and columns' size don't match.\");\n              }\n\n              var g = new Pt_1.Group();\n              var isNum = typeof b == \"number\";\n\n              for (var i = 0, len = a.length; i < len; i++) {\n                g.push(a[i].$add(isNum ? b : b[i]));\n              }\n\n              return g;\n            }\n          }, {\n            key: \"multiply\",\n            value: function multiply(a, b) {\n              var transposed = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              var elementwise = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n              var g = new Pt_1.Group();\n\n              if (typeof b != \"number\") {\n                if (elementwise) {\n                  if (a.length != b.length) throw new Error(\"Cannot multiply matrix element-wise because the matrices' sizes don't match.\");\n\n                  for (var ai = 0, alen = a.length; ai < alen; ai++) {\n                    g.push(a[ai].$multiply(b[ai]));\n                  }\n                } else {\n                  if (!transposed && a[0].length != b.length) throw new Error(\"Cannot multiply matrix if rows in matrix-a don't match columns in matrix-b.\");\n                  if (transposed && a[0].length != b[0].length) throw new Error(\"Cannot multiply matrix if transposed and the columns in both matrices don't match.\");\n                  if (!transposed) b = Mat.transpose(b);\n\n                  for (var _ai = 0, _alen = a.length; _ai < _alen; _ai++) {\n                    var p = Pt_1.Pt.make(b.length, 0);\n\n                    for (var bi = 0, blen = b.length; bi < blen; bi++) {\n                      p[bi] = Vec.dot(a[_ai], b[bi]);\n                    }\n\n                    g.push(p);\n                  }\n                }\n              } else {\n                for (var _ai2 = 0, _alen2 = a.length; _ai2 < _alen2; _ai2++) {\n                  g.push(a[_ai2].$multiply(b));\n                }\n              }\n\n              return g;\n            }\n          }, {\n            key: \"zipSlice\",\n            value: function zipSlice(g, index) {\n              var defaultValue = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              var z = [];\n\n              for (var i = 0, len = g.length; i < len; i++) {\n                if (g[i].length - 1 < index && defaultValue === false) throw \"Index \" + index + \" is out of bounds\";\n                z.push(g[i][index] || defaultValue);\n              }\n\n              return new Pt_1.Pt(z);\n            }\n          }, {\n            key: \"zip\",\n            value: function zip(g) {\n              var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var useLongest = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              var ps = new Pt_1.Group();\n              var len = useLongest ? g.reduce(function (a, b) {\n                return Math.max(a, b.length);\n              }, 0) : g[0].length;\n\n              for (var i = 0; i < len; i++) {\n                ps.push(Mat.zipSlice(g, i, defaultValue));\n              }\n\n              return ps;\n            }\n          }, {\n            key: \"transpose\",\n            value: function transpose(g) {\n              var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var useLongest = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              return Mat.zip(g, defaultValue, useLongest);\n            }\n          }, {\n            key: \"transform2D\",\n            value: function transform2D(pt, m) {\n              var x = pt[0] * m[0][0] + pt[1] * m[1][0] + m[2][0];\n              var y = pt[0] * m[0][1] + pt[1] * m[1][1] + m[2][1];\n              return new Pt_1.Pt(x, y);\n            }\n          }, {\n            key: \"scale2DMatrix\",\n            value: function scale2DMatrix(x, y) {\n              return new Pt_1.Group(new Pt_1.Pt(x, 0, 0), new Pt_1.Pt(0, y, 0), new Pt_1.Pt(0, 0, 1));\n            }\n          }, {\n            key: \"rotate2DMatrix\",\n            value: function rotate2DMatrix(cosA, sinA) {\n              return new Pt_1.Group(new Pt_1.Pt(cosA, sinA, 0), new Pt_1.Pt(-sinA, cosA, 0), new Pt_1.Pt(0, 0, 1));\n            }\n          }, {\n            key: \"shear2DMatrix\",\n            value: function shear2DMatrix(tanX, tanY) {\n              return new Pt_1.Group(new Pt_1.Pt(1, tanX, 0), new Pt_1.Pt(tanY, 1, 0), new Pt_1.Pt(0, 0, 1));\n            }\n          }, {\n            key: \"translate2DMatrix\",\n            value: function translate2DMatrix(x, y) {\n              return new Pt_1.Group(new Pt_1.Pt(1, 0, 0), new Pt_1.Pt(0, 1, 0), new Pt_1.Pt(x, y, 1));\n            }\n          }, {\n            key: \"scaleAt2DMatrix\",\n            value: function scaleAt2DMatrix(sx, sy, at) {\n              var m = Mat.scale2DMatrix(sx, sy);\n              m[2][0] = -at[0] * sx + at[0];\n              m[2][1] = -at[1] * sy + at[1];\n              return m;\n            }\n          }, {\n            key: \"rotateAt2DMatrix\",\n            value: function rotateAt2DMatrix(cosA, sinA, at) {\n              var m = Mat.rotate2DMatrix(cosA, sinA);\n              m[2][0] = at[0] * (1 - cosA) + at[1] * sinA;\n              m[2][1] = at[1] * (1 - cosA) - at[0] * sinA;\n              return m;\n            }\n          }, {\n            key: \"shearAt2DMatrix\",\n            value: function shearAt2DMatrix(tanX, tanY, at) {\n              var m = Mat.shear2DMatrix(tanX, tanY);\n              m[2][0] = -at[1] * tanY;\n              m[2][1] = -at[0] * tanX;\n              return m;\n            }\n          }, {\n            key: \"reflectAt2DMatrix\",\n            value: function reflectAt2DMatrix(p1, p2) {\n              var intercept = Op_1.Line.intercept(p1, p2);\n\n              if (intercept == undefined) {\n                return [new Pt_1.Pt([-1, 0, 0]), new Pt_1.Pt([0, 1, 0]), new Pt_1.Pt([p1[0] + p2[0], 0, 1])];\n              } else {\n                var yi = intercept.yi;\n                var ang2 = Math.atan(intercept.slope) * 2;\n                var cosA = Math.cos(ang2);\n                var sinA = Math.sin(ang2);\n                return [new Pt_1.Pt([cosA, sinA, 0]), new Pt_1.Pt([sinA, -cosA, 0]), new Pt_1.Pt([-yi * sinA, yi + yi * cosA, 1])];\n              }\n            }\n          }]);\n\n          return Mat;\n        }();\n\n        exports.Mat = Mat;\n        /***/\n      },\n\n      /***/\n      \"./src/Num.ts\":\n      /*!********************!*\\\n        !*** ./src/Num.ts ***!\n        \\********************/\n\n      /*! no static exports found */\n\n      /***/\n      function srcNumTs(module, exports, __webpack_require__) {\n        \"use strict\";\n        /*! Source code licensed under Apache License 2.0. Copyright  2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var Util_1 = __webpack_require__(\n        /*! ./Util */\n        \"./src/Util.ts\");\n\n        var Op_1 = __webpack_require__(\n        /*! ./Op */\n        \"./src/Op.ts\");\n\n        var Pt_1 = __webpack_require__(\n        /*! ./Pt */\n        \"./src/Pt.ts\");\n\n        var LinearAlgebra_1 = __webpack_require__(\n        /*! ./LinearAlgebra */\n        \"./src/LinearAlgebra.ts\");\n\n        var Num = function () {\n          function Num() {\n            _classCallCheck(this, Num);\n          }\n\n          _createClass(Num, null, [{\n            key: \"equals\",\n            value: function equals(a, b) {\n              var threshold = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.00001;\n              return Math.abs(a - b) < threshold;\n            }\n          }, {\n            key: \"lerp\",\n            value: function lerp(a, b, t) {\n              return (1 - t) * a + t * b;\n            }\n          }, {\n            key: \"clamp\",\n            value: function clamp(val, min, max) {\n              return Math.max(min, Math.min(max, val));\n            }\n          }, {\n            key: \"boundValue\",\n            value: function boundValue(val, min, max) {\n              var len = Math.abs(max - min);\n              var a = val % len;\n              if (a > max) a -= len;else if (a < min) a += len;\n              return a;\n            }\n          }, {\n            key: \"within\",\n            value: function within(p, a, b) {\n              return p >= Math.min(a, b) && p <= Math.max(a, b);\n            }\n          }, {\n            key: \"randomRange\",\n            value: function randomRange(a) {\n              var b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n              var r = a > b ? a - b : b - a;\n              return a + Math.random() * r;\n            }\n          }, {\n            key: \"normalizeValue\",\n            value: function normalizeValue(n, a, b) {\n              var min = Math.min(a, b);\n              var max = Math.max(a, b);\n              return (n - min) / (max - min);\n            }\n          }, {\n            key: \"sum\",\n            value: function sum(pts) {\n              var c = new Pt_1.Pt(pts[0]);\n\n              for (var i = 1, len = pts.length; i < len; i++) {\n                LinearAlgebra_1.Vec.add(c, pts[i]);\n              }\n\n              return c;\n            }\n          }, {\n            key: \"average\",\n            value: function average(pts) {\n              return Num.sum(pts).divide(pts.length);\n            }\n          }, {\n            key: \"cycle\",\n            value: function cycle(t) {\n              var method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Shaping.sineInOut;\n              return method(t > 0.5 ? 2 - t * 2 : t * 2);\n            }\n          }, {\n            key: \"mapToRange\",\n            value: function mapToRange(n, currA, currB, targetA, targetB) {\n              if (currA == currB) throw new Error(\"[currMin, currMax] must define a range that is not zero\");\n              var min = Math.min(targetA, targetB);\n              var max = Math.max(targetA, targetB);\n              return Num.normalizeValue(n, currA, currB) * (max - min) + min;\n            }\n          }]);\n\n          return Num;\n        }();\n\n        exports.Num = Num;\n\n        var Geom = function () {\n          function Geom() {\n            _classCallCheck(this, Geom);\n          }\n\n          _createClass(Geom, null, [{\n            key: \"boundAngle\",\n            value: function boundAngle(angle) {\n              return Num.boundValue(angle, 0, 360);\n            }\n          }, {\n            key: \"boundRadian\",\n            value: function boundRadian(radian) {\n              return Num.boundValue(radian, 0, Util_1.Const.two_pi);\n            }\n          }, {\n            key: \"toRadian\",\n            value: function toRadian(angle) {\n              return angle * Util_1.Const.deg_to_rad;\n            }\n          }, {\n            key: \"toDegree\",\n            value: function toDegree(radian) {\n              return radian * Util_1.Const.rad_to_deg;\n            }\n          }, {\n            key: \"boundingBox\",\n            value: function boundingBox(pts) {\n              var minPt = pts.reduce(function (a, p) {\n                return a.$min(p);\n              });\n              var maxPt = pts.reduce(function (a, p) {\n                return a.$max(p);\n              });\n              return new Pt_1.Group(minPt, maxPt);\n            }\n          }, {\n            key: \"centroid\",\n            value: function centroid(pts) {\n              return Num.average(pts);\n            }\n          }, {\n            key: \"anchor\",\n            value: function anchor(pts) {\n              var ptOrIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n              var direction = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"to\";\n              var method = direction == \"to\" ? \"subtract\" : \"add\";\n\n              for (var i = 0, len = pts.length; i < len; i++) {\n                if (typeof ptOrIndex == \"number\") {\n                  if (ptOrIndex !== i) pts[i][method](pts[ptOrIndex]);\n                } else {\n                  pts[i][method](ptOrIndex);\n                }\n              }\n            }\n          }, {\n            key: \"interpolate\",\n            value: function interpolate(a, b) {\n              var t = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.5;\n              var len = Math.min(a.length, b.length);\n              var d = Pt_1.Pt.make(len);\n\n              for (var i = 0; i < len; i++) {\n                d[i] = a[i] * (1 - t) + b[i] * t;\n              }\n\n              return d;\n            }\n          }, {\n            key: \"perpendicular\",\n            value: function perpendicular(pt) {\n              var axis = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Util_1.Const.xy;\n              var y = axis[1];\n              var x = axis[0];\n              var p = new Pt_1.Pt(pt);\n              var pa = new Pt_1.Pt(p);\n              pa[x] = -p[y];\n              pa[y] = p[x];\n              var pb = new Pt_1.Pt(p);\n              pb[x] = p[y];\n              pb[y] = -p[x];\n              return new Pt_1.Group(pa, pb);\n            }\n          }, {\n            key: \"isPerpendicular\",\n            value: function isPerpendicular(p1, p2) {\n              return new Pt_1.Pt(p1).dot(p2) === 0;\n            }\n          }, {\n            key: \"withinBound\",\n            value: function withinBound(pt, boundPt1, boundPt2) {\n              for (var i = 0, len = Math.min(pt.length, boundPt1.length, boundPt2.length); i < len; i++) {\n                if (!Num.within(pt[i], boundPt1[i], boundPt2[i])) return false;\n              }\n\n              return true;\n            }\n          }, {\n            key: \"sortEdges\",\n            value: function sortEdges(pts) {\n              var bounds = Geom.boundingBox(pts);\n              var center = bounds[1].add(bounds[0]).divide(2);\n\n              var fn = function fn(a, b) {\n                if (a.length < 2 || b.length < 2) throw new Error(\"Pt dimension cannot be less than 2\");\n                var da = a.$subtract(center);\n                var db = b.$subtract(center);\n                if (da[0] >= 0 && db[0] < 0) return 1;\n                if (da[0] < 0 && db[0] >= 0) return -1;\n\n                if (da[0] == 0 && db[0] == 0) {\n                  if (da[1] >= 0 || db[1] >= 0) return da[1] > db[1] ? 1 : -1;\n                  return db[1] > da[1] ? 1 : -1;\n                }\n\n                var det = da.$cross2D(db);\n                if (det < 0) return 1;\n                if (det > 0) return -1;\n                return da[0] * da[0] + da[1] * da[1] > db[0] * db[0] + db[1] * db[1] ? 1 : -1;\n              };\n\n              return pts.sort(fn);\n            }\n          }, {\n            key: \"scale\",\n            value: function scale(ps, _scale, anchor) {\n              var pts = !Array.isArray(ps) ? [ps] : ps;\n              var scs = typeof _scale == \"number\" ? Pt_1.Pt.make(pts[0].length, _scale) : _scale;\n              if (!anchor) anchor = Pt_1.Pt.make(pts[0].length, 0);\n\n              for (var i = 0, len = pts.length; i < len; i++) {\n                var p = pts[i];\n\n                for (var k = 0, lenP = p.length; k < lenP; k++) {\n                  p[k] = anchor && anchor[k] ? anchor[k] + (p[k] - anchor[k]) * scs[k] : p[k] * scs[k];\n                }\n              }\n\n              return Geom;\n            }\n          }, {\n            key: \"rotate2D\",\n            value: function rotate2D(ps, angle, anchor, axis) {\n              var pts = !Array.isArray(ps) ? [ps] : ps;\n              var fn = anchor ? LinearAlgebra_1.Mat.rotateAt2DMatrix : LinearAlgebra_1.Mat.rotate2DMatrix;\n              if (!anchor) anchor = Pt_1.Pt.make(pts[0].length, 0);\n              var cos = Math.cos(angle);\n              var sin = Math.sin(angle);\n\n              for (var i = 0, len = pts.length; i < len; i++) {\n                var p = axis ? pts[i].$take(axis) : pts[i];\n                p.to(LinearAlgebra_1.Mat.transform2D(p, fn(cos, sin, anchor)));\n\n                if (axis) {\n                  for (var k = 0; k < axis.length; k++) {\n                    pts[i][axis[k]] = p[k];\n                  }\n                }\n              }\n\n              return Geom;\n            }\n          }, {\n            key: \"shear2D\",\n            value: function shear2D(ps, scale, anchor, axis) {\n              var pts = !Array.isArray(ps) ? [ps] : ps;\n              var s = typeof scale == \"number\" ? [scale, scale] : scale;\n              if (!anchor) anchor = Pt_1.Pt.make(pts[0].length, 0);\n              var fn = anchor ? LinearAlgebra_1.Mat.shearAt2DMatrix : LinearAlgebra_1.Mat.shear2DMatrix;\n              var tanx = Math.tan(s[0]);\n              var tany = Math.tan(s[1]);\n\n              for (var i = 0, len = pts.length; i < len; i++) {\n                var p = axis ? pts[i].$take(axis) : pts[i];\n                p.to(LinearAlgebra_1.Mat.transform2D(p, fn(tanx, tany, anchor)));\n\n                if (axis) {\n                  for (var k = 0; k < axis.length; k++) {\n                    pts[i][axis[k]] = p[k];\n                  }\n                }\n              }\n\n              return Geom;\n            }\n          }, {\n            key: \"reflect2D\",\n            value: function reflect2D(ps, line, axis) {\n              var pts = !Array.isArray(ps) ? [ps] : ps;\n              var mat = LinearAlgebra_1.Mat.reflectAt2DMatrix(line[0], line[1]);\n\n              for (var i = 0, len = pts.length; i < len; i++) {\n                var p = axis ? pts[i].$take(axis) : pts[i];\n                p.to(LinearAlgebra_1.Mat.transform2D(p, mat));\n\n                if (axis) {\n                  for (var k = 0; k < axis.length; k++) {\n                    pts[i][axis[k]] = p[k];\n                  }\n                }\n              }\n\n              return Geom;\n            }\n          }, {\n            key: \"cosTable\",\n            value: function cosTable() {\n              var cos = new Float64Array(360);\n\n              for (var i = 0; i < 360; i++) {\n                cos[i] = Math.cos(i * Math.PI / 180);\n              }\n\n              var find = function find(rad) {\n                return cos[Math.floor(Geom.boundAngle(Geom.toDegree(rad)))];\n              };\n\n              return {\n                table: cos,\n                cos: find\n              };\n            }\n          }, {\n            key: \"sinTable\",\n            value: function sinTable() {\n              var sin = new Float64Array(360);\n\n              for (var i = 0; i < 360; i++) {\n                sin[i] = Math.sin(i * Math.PI / 180);\n              }\n\n              var find = function find(rad) {\n                return sin[Math.floor(Geom.boundAngle(Geom.toDegree(rad)))];\n              };\n\n              return {\n                table: sin,\n                sin: find\n              };\n            }\n          }]);\n\n          return Geom;\n        }();\n\n        exports.Geom = Geom;\n\n        var Shaping = function () {\n          function Shaping() {\n            _classCallCheck(this, Shaping);\n          }\n\n          _createClass(Shaping, null, [{\n            key: \"linear\",\n            value: function linear(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              return c * t;\n            }\n          }, {\n            key: \"quadraticIn\",\n            value: function quadraticIn(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              return c * t * t;\n            }\n          }, {\n            key: \"quadraticOut\",\n            value: function quadraticOut(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              return -c * t * (t - 2);\n            }\n          }, {\n            key: \"quadraticInOut\",\n            value: function quadraticInOut(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var dt = t * 2;\n              return t < 0.5 ? c / 2 * t * t * 4 : -c / 2 * ((dt - 1) * (dt - 3) - 1);\n            }\n          }, {\n            key: \"cubicIn\",\n            value: function cubicIn(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              return c * t * t * t;\n            }\n          }, {\n            key: \"cubicOut\",\n            value: function cubicOut(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var dt = t - 1;\n              return c * (dt * dt * dt + 1);\n            }\n          }, {\n            key: \"cubicInOut\",\n            value: function cubicInOut(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var dt = t * 2;\n              return t < 0.5 ? c / 2 * dt * dt * dt : c / 2 * ((dt - 2) * (dt - 2) * (dt - 2) + 2);\n            }\n          }, {\n            key: \"exponentialIn\",\n            value: function exponentialIn(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var p = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.25;\n              return c * Math.pow(t, 1 / p);\n            }\n          }, {\n            key: \"exponentialOut\",\n            value: function exponentialOut(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var p = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.25;\n              return c * Math.pow(t, p);\n            }\n          }, {\n            key: \"sineIn\",\n            value: function sineIn(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              return -c * Math.cos(t * Util_1.Const.half_pi) + c;\n            }\n          }, {\n            key: \"sineOut\",\n            value: function sineOut(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              return c * Math.sin(t * Util_1.Const.half_pi);\n            }\n          }, {\n            key: \"sineInOut\",\n            value: function sineInOut(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              return -c / 2 * (Math.cos(Math.PI * t) - 1);\n            }\n          }, {\n            key: \"cosineApprox\",\n            value: function cosineApprox(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var t2 = t * t;\n              var t4 = t2 * t2;\n              var t6 = t4 * t2;\n              return c * (4 * t6 / 9 - 17 * t4 / 9 + 22 * t2 / 9);\n            }\n          }, {\n            key: \"circularIn\",\n            value: function circularIn(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              return -c * (Math.sqrt(1 - t * t) - 1);\n            }\n          }, {\n            key: \"circularOut\",\n            value: function circularOut(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var dt = t - 1;\n              return c * Math.sqrt(1 - dt * dt);\n            }\n          }, {\n            key: \"circularInOut\",\n            value: function circularInOut(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var dt = t * 2;\n              return t < 0.5 ? -c / 2 * (Math.sqrt(1 - dt * dt) - 1) : c / 2 * (Math.sqrt(1 - (dt - 2) * (dt - 2)) + 1);\n            }\n          }, {\n            key: \"elasticIn\",\n            value: function elasticIn(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var p = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.7;\n              var dt = t - 1;\n              var s = p / Util_1.Const.two_pi * 1.5707963267948966;\n              return c * (-Math.pow(2, 10 * dt) * Math.sin((dt - s) * Util_1.Const.two_pi / p));\n            }\n          }, {\n            key: \"elasticOut\",\n            value: function elasticOut(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var p = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.7;\n              var s = p / Util_1.Const.two_pi * 1.5707963267948966;\n              return c * (Math.pow(2, -10 * t) * Math.sin((t - s) * Util_1.Const.two_pi / p)) + c;\n            }\n          }, {\n            key: \"elasticInOut\",\n            value: function elasticInOut(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var p = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.6;\n              var dt = t * 2;\n              var s = p / Util_1.Const.two_pi * 1.5707963267948966;\n\n              if (t < 0.5) {\n                dt -= 1;\n                return c * (-0.5 * (Math.pow(2, 10 * dt) * Math.sin((dt - s) * Util_1.Const.two_pi / p)));\n              } else {\n                dt -= 1;\n                return c * (0.5 * (Math.pow(2, -10 * dt) * Math.sin((dt - s) * Util_1.Const.two_pi / p))) + c;\n              }\n            }\n          }, {\n            key: \"bounceIn\",\n            value: function bounceIn(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              return c - Shaping.bounceOut(1 - t, c);\n            }\n          }, {\n            key: \"bounceOut\",\n            value: function bounceOut(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n              if (t < 1 / 2.75) {\n                return c * (7.5625 * t * t);\n              } else if (t < 2 / 2.75) {\n                t -= 1.5 / 2.75;\n                return c * (7.5625 * t * t + 0.75);\n              } else if (t < 2.5 / 2.75) {\n                t -= 2.25 / 2.75;\n                return c * (7.5625 * t * t + 0.9375);\n              } else {\n                t -= 2.625 / 2.75;\n                return c * (7.5625 * t * t + 0.984375);\n              }\n            }\n          }, {\n            key: \"bounceInOut\",\n            value: function bounceInOut(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              return t < 0.5 ? Shaping.bounceIn(t * 2, c) / 2 : Shaping.bounceOut(t * 2 - 1, c) / 2 + c / 2;\n            }\n          }, {\n            key: \"sigmoid\",\n            value: function sigmoid(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var p = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10;\n              var d = p * (t - 0.5);\n              return c / (1 + Math.exp(-d));\n            }\n          }, {\n            key: \"logSigmoid\",\n            value: function logSigmoid(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var p = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.7;\n              p = Math.max(Util_1.Const.epsilon, Math.min(1 - Util_1.Const.epsilon, p));\n              p = 1 / (1 - p);\n              var A = 1 / (1 + Math.exp((t - 0.5) * p * -2));\n              var B = 1 / (1 + Math.exp(p));\n              var C = 1 / (1 + Math.exp(-p));\n              return c * (A - B) / (C - B);\n            }\n          }, {\n            key: \"seat\",\n            value: function seat(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var p = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.5;\n\n              if (t < 0.5) {\n                return c * Math.pow(2 * t, 1 - p) / 2;\n              } else {\n                return c * (1 - Math.pow(2 * (1 - t), 1 - p) / 2);\n              }\n            }\n          }, {\n            key: \"quadraticBezier\",\n            value: function quadraticBezier(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var p = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [0.05, 0.95];\n              var a = typeof p != \"number\" ? p[0] : p;\n              var b = typeof p != \"number\" ? p[1] : 0.5;\n              var om2a = 1 - 2 * a;\n\n              if (om2a === 0) {\n                om2a = Util_1.Const.epsilon;\n              }\n\n              var d = (Math.sqrt(a * a + om2a * t) - a) / om2a;\n              return c * ((1 - 2 * b) * (d * d) + 2 * b * d);\n            }\n          }, {\n            key: \"cubicBezier\",\n            value: function cubicBezier(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var p1 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [0.1, 0.7];\n              var p2 = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [0.9, 0.2];\n              var curve = new Pt_1.Group(new Pt_1.Pt(0, 0), new Pt_1.Pt(p1), new Pt_1.Pt(p2), new Pt_1.Pt(1, 1));\n              return c * Op_1.Curve.bezierStep(new Pt_1.Pt(t * t * t, t * t, t, 1), Op_1.Curve.controlPoints(curve)).y;\n            }\n          }, {\n            key: \"quadraticTarget\",\n            value: function quadraticTarget(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var p1 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [0.2, 0.35];\n              var a = Math.min(1 - Util_1.Const.epsilon, Math.max(Util_1.Const.epsilon, p1[0]));\n              var b = Math.min(1, Math.max(0, p1[1]));\n              var A = (1 - b) / (1 - a) - b / a;\n              var B = (A * (a * a) - b) / a;\n              var y = A * (t * t) - B * t;\n              return c * Math.min(1, Math.max(0, y));\n            }\n          }, {\n            key: \"cliff\",\n            value: function cliff(t) {\n              var c = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var p = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.5;\n              return t > p ? c : 0;\n            }\n          }, {\n            key: \"step\",\n            value: function step(fn, steps, t, c) {\n              var s = 1 / steps;\n              var tt = Math.floor(t / s) * s;\n\n              for (var _len = arguments.length, args = Array(_len > 4 ? _len - 4 : 0), _key = 4; _key < _len; _key++) {\n                args[_key - 4] = arguments[_key];\n              }\n\n              return fn.apply(undefined, [tt, c].concat(args));\n            }\n          }]);\n\n          return Shaping;\n        }();\n\n        exports.Shaping = Shaping;\n\n        var Range = function () {\n          function Range(g) {\n            _classCallCheck(this, Range);\n\n            this._dims = 0;\n            this._source = Pt_1.Group.fromPtArray(g);\n            this.calc();\n          }\n\n          _createClass(Range, [{\n            key: \"calc\",\n            value: function calc() {\n              if (!this._source) return;\n              var dims = this._source[0].length;\n              this._dims = dims;\n              var max = new Pt_1.Pt(dims);\n              var min = new Pt_1.Pt(dims);\n              var mag = new Pt_1.Pt(dims);\n\n              for (var i = 0; i < dims; i++) {\n                max[i] = Util_1.Const.min;\n                min[i] = Util_1.Const.max;\n                mag[i] = 0;\n\n                var s = this._source.zipSlice(i);\n\n                for (var k = 0, len = s.length; k < len; k++) {\n                  max[i] = Math.max(max[i], s[k]);\n                  min[i] = Math.min(min[i], s[k]);\n                  mag[i] = max[i] - min[i];\n                }\n              }\n\n              this._max = max;\n              this._min = min;\n              this._mag = mag;\n              return this;\n            }\n          }, {\n            key: \"mapTo\",\n            value: function mapTo(min, max, exclude) {\n              var target = new Pt_1.Group();\n\n              for (var i = 0, len = this._source.length; i < len; i++) {\n                var g = this._source[i];\n                var n = new Pt_1.Pt(this._dims);\n\n                for (var k = 0; k < this._dims; k++) {\n                  n[k] = exclude && exclude[k] ? g[k] : Num.mapToRange(g[k], this._min[k], this._max[k], min, max);\n                }\n\n                target.push(n);\n              }\n\n              return target;\n            }\n          }, {\n            key: \"append\",\n            value: function append(g) {\n              var update = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n              if (g[0].length !== this._dims) throw new Error(\"Dimensions don't match. \" + this._dims + \" dimensions in Range and \" + g[0].length + \" provided in parameter. \");\n              this._source = this._source.concat(g);\n              if (update) this.calc();\n              return this;\n            }\n          }, {\n            key: \"ticks\",\n            value: function ticks(count) {\n              var g = new Pt_1.Group();\n\n              for (var i = 0; i <= count; i++) {\n                var p = new Pt_1.Pt(this._dims);\n\n                for (var k = 0, len = this._max.length; k < len; k++) {\n                  p[k] = Num.lerp(this._min[k], this._max[k], i / count);\n                }\n\n                g.push(p);\n              }\n\n              return g;\n            }\n          }, {\n            key: \"max\",\n            get: function get() {\n              return this._max.clone();\n            }\n          }, {\n            key: \"min\",\n            get: function get() {\n              return this._min.clone();\n            }\n          }, {\n            key: \"magnitude\",\n            get: function get() {\n              return this._mag.clone();\n            }\n          }]);\n\n          return Range;\n        }();\n\n        exports.Range = Range;\n        /***/\n      },\n\n      /***/\n      \"./src/Op.ts\":\n      /*!*******************!*\\\n        !*** ./src/Op.ts ***!\n        \\*******************/\n\n      /*! no static exports found */\n\n      /***/\n      function srcOpTs(module, exports, __webpack_require__) {\n        \"use strict\";\n        /*! Source code licensed under Apache License 2.0. Copyright  2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\n\n        var _slicedToArray = function () {\n          function sliceIterator(arr, i) {\n            var _arr = [];\n            var _n = true;\n            var _d = false;\n            var _e = undefined;\n\n            try {\n              for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n                _arr.push(_s.value);\n\n                if (i && _arr.length === i) break;\n              }\n            } catch (err) {\n              _d = true;\n              _e = err;\n            } finally {\n              try {\n                if (!_n && _i[\"return\"]) _i[\"return\"]();\n              } finally {\n                if (_d) throw _e;\n              }\n            }\n\n            return _arr;\n          }\n\n          return function (arr, i) {\n            if (Array.isArray(arr)) {\n              return arr;\n            } else if (Symbol.iterator in Object(arr)) {\n              return sliceIterator(arr, i);\n            } else {\n              throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n            }\n          };\n        }();\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var Util_1 = __webpack_require__(\n        /*! ./Util */\n        \"./src/Util.ts\");\n\n        var Num_1 = __webpack_require__(\n        /*! ./Num */\n        \"./src/Num.ts\");\n\n        var Pt_1 = __webpack_require__(\n        /*! ./Pt */\n        \"./src/Pt.ts\");\n\n        var LinearAlgebra_1 = __webpack_require__(\n        /*! ./LinearAlgebra */\n        \"./src/LinearAlgebra.ts\");\n\n        var _errorLength = function _errorLength(obj) {\n          var param = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"expected\";\n          return Util_1.Util.warn(\"Group's length is less than \" + param, obj);\n        };\n\n        var _errorOutofBound = function _errorOutofBound(obj) {\n          var param = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n          return Util_1.Util.warn(\"Index \" + param + \" is out of bound in Group\", obj);\n        };\n\n        var Line = function () {\n          function Line() {\n            _classCallCheck(this, Line);\n          }\n\n          _createClass(Line, null, [{\n            key: \"fromAngle\",\n            value: function fromAngle(anchor, angle, magnitude) {\n              var g = new Pt_1.Group(new Pt_1.Pt(anchor), new Pt_1.Pt(anchor));\n              g[1].toAngle(angle, magnitude, true);\n              return g;\n            }\n          }, {\n            key: \"slope\",\n            value: function slope(p1, p2) {\n              return p2[0] - p1[0] === 0 ? undefined : (p2[1] - p1[1]) / (p2[0] - p1[0]);\n            }\n          }, {\n            key: \"intercept\",\n            value: function intercept(p1, p2) {\n              if (p2[0] - p1[0] === 0) {\n                return undefined;\n              } else {\n                var m = (p2[1] - p1[1]) / (p2[0] - p1[0]);\n                var c = p1[1] - m * p1[0];\n                return {\n                  slope: m,\n                  yi: c,\n                  xi: m === 0 ? undefined : -c / m\n                };\n              }\n            }\n          }, {\n            key: \"sideOfPt2D\",\n            value: function sideOfPt2D(line, pt) {\n              return (line[1][0] - line[0][0]) * (pt[1] - line[0][1]) - (pt[0] - line[0][0]) * (line[1][1] - line[0][1]);\n            }\n          }, {\n            key: \"collinear\",\n            value: function collinear(p1, p2, p3) {\n              var threshold = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0.01;\n              var a = new Pt_1.Pt(0, 0, 0).to(p1).$subtract(p2);\n              var b = new Pt_1.Pt(0, 0, 0).to(p1).$subtract(p3);\n              return a.$cross(b).divide(1000).equals(new Pt_1.Pt(0, 0, 0), threshold);\n            }\n          }, {\n            key: \"magnitude\",\n            value: function magnitude(line) {\n              return line.length >= 2 ? line[1].$subtract(line[0]).magnitude() : 0;\n            }\n          }, {\n            key: \"magnitudeSq\",\n            value: function magnitudeSq(line) {\n              return line.length >= 2 ? line[1].$subtract(line[0]).magnitudeSq() : 0;\n            }\n          }, {\n            key: \"perpendicularFromPt\",\n            value: function perpendicularFromPt(line, pt) {\n              var asProjection = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              if (line[0].equals(line[1])) return undefined;\n              var a = line[0].$subtract(line[1]);\n              var b = line[1].$subtract(pt);\n              var proj = b.$subtract(a.$project(b));\n              return asProjection ? proj : proj.$add(pt);\n            }\n          }, {\n            key: \"distanceFromPt\",\n            value: function distanceFromPt(line, pt) {\n              var projectionVector = Line.perpendicularFromPt(line, pt, true);\n\n              if (projectionVector) {\n                return projectionVector.magnitude();\n              } else {\n                return line[0].$subtract(pt).magnitude();\n              }\n            }\n          }, {\n            key: \"intersectRay2D\",\n            value: function intersectRay2D(la, lb) {\n              var a = Line.intercept(la[0], la[1]);\n              var b = Line.intercept(lb[0], lb[1]);\n              var pa = la[0];\n              var pb = lb[0];\n\n              if (a == undefined) {\n                if (b == undefined) return undefined;\n                var y1 = -b.slope * (pb[0] - pa[0]) + pb[1];\n                return new Pt_1.Pt(pa[0], y1);\n              } else {\n                if (b == undefined) {\n                  var _y = -a.slope * (pa[0] - pb[0]) + pa[1];\n\n                  return new Pt_1.Pt(pb[0], _y);\n                } else if (b.slope != a.slope) {\n                  var px = (a.slope * pa[0] - b.slope * pb[0] + pb[1] - pa[1]) / (a.slope - b.slope);\n                  var py = a.slope * (px - pa[0]) + pa[1];\n                  return new Pt_1.Pt(px, py);\n                } else {\n                  if (a.yi == b.yi) {\n                    return new Pt_1.Pt(pa[0], pa[1]);\n                  } else {\n                    return undefined;\n                  }\n                }\n              }\n            }\n          }, {\n            key: \"intersectLine2D\",\n            value: function intersectLine2D(la, lb) {\n              var pt = Line.intersectRay2D(la, lb);\n              return pt && Num_1.Geom.withinBound(pt, la[0], la[1]) && Num_1.Geom.withinBound(pt, lb[0], lb[1]) ? pt : undefined;\n            }\n          }, {\n            key: \"intersectLineWithRay2D\",\n            value: function intersectLineWithRay2D(line, ray) {\n              var pt = Line.intersectRay2D(line, ray);\n              return pt && Num_1.Geom.withinBound(pt, line[0], line[1]) ? pt : undefined;\n            }\n          }, {\n            key: \"intersectPolygon2D\",\n            value: function intersectPolygon2D(lineOrRay, poly) {\n              var sourceIsRay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              var fn = sourceIsRay ? Line.intersectLineWithRay2D : Line.intersectLine2D;\n              var pts = new Pt_1.Group();\n\n              for (var i = 0, len = poly.length; i < len; i++) {\n                var next = i === len - 1 ? 0 : i + 1;\n                var d = fn([poly[i], poly[next]], lineOrRay);\n                if (d) pts.push(d);\n              }\n\n              return pts.length > 0 ? pts : undefined;\n            }\n          }, {\n            key: \"intersectLines2D\",\n            value: function intersectLines2D(lines1, lines2) {\n              var isRay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              var group = new Pt_1.Group();\n              var fn = isRay ? Line.intersectLineWithRay2D : Line.intersectLine2D;\n\n              for (var i = 0, len = lines1.length; i < len; i++) {\n                for (var k = 0, lenk = lines2.length; k < lenk; k++) {\n                  var _ip = fn(lines1[i], lines2[k]);\n\n                  if (_ip) group.push(_ip);\n                }\n              }\n\n              return group;\n            }\n          }, {\n            key: \"intersectGridWithRay2D\",\n            value: function intersectGridWithRay2D(ray, gridPt) {\n              var t = Line.intercept(new Pt_1.Pt(ray[0]).subtract(gridPt), new Pt_1.Pt(ray[1]).subtract(gridPt));\n              var g = new Pt_1.Group();\n              if (t && t.xi) g.push(new Pt_1.Pt(gridPt[0] + t.xi, gridPt[1]));\n              if (t && t.yi) g.push(new Pt_1.Pt(gridPt[0], gridPt[1] + t.yi));\n              return g;\n            }\n          }, {\n            key: \"intersectGridWithLine2D\",\n            value: function intersectGridWithLine2D(line, gridPt) {\n              var g = Line.intersectGridWithRay2D(line, gridPt);\n              var gg = new Pt_1.Group();\n\n              for (var i = 0, len = g.length; i < len; i++) {\n                if (Num_1.Geom.withinBound(g[i], line[0], line[1])) gg.push(g[i]);\n              }\n\n              return gg;\n            }\n          }, {\n            key: \"intersectRect2D\",\n            value: function intersectRect2D(line, rect) {\n              var box = Num_1.Geom.boundingBox(Pt_1.Group.fromPtArray(line));\n              if (!Rectangle.hasIntersectRect2D(box, rect)) return new Pt_1.Group();\n              return Line.intersectLines2D([line], Rectangle.sides(rect));\n            }\n          }, {\n            key: \"subpoints\",\n            value: function subpoints(line, num) {\n              var pts = new Pt_1.Group();\n\n              for (var i = 1; i <= num; i++) {\n                pts.push(Num_1.Geom.interpolate(line[0], line[1], i / (num + 1)));\n              }\n\n              return pts;\n            }\n          }, {\n            key: \"crop\",\n            value: function crop(line, size) {\n              var index = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n              var cropAsCircle = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n              var tdx = index === 0 ? 1 : 0;\n              var ls = line[tdx].$subtract(line[index]);\n              if (ls[0] === 0 || size[0] === 0) return line[index];\n\n              if (cropAsCircle) {\n                var d = ls.unit().multiply(size[1]);\n                return line[index].$add(d);\n              } else {\n                var rect = Rectangle.fromCenter(line[index], size);\n                var sides = Rectangle.sides(rect);\n                var sideIdx = 0;\n\n                if (Math.abs(ls[1] / ls[0]) > Math.abs(size[1] / size[0])) {\n                  sideIdx = ls[1] < 0 ? 0 : 2;\n                } else {\n                  sideIdx = ls[0] < 0 ? 3 : 1;\n                }\n\n                return Line.intersectRay2D(sides[sideIdx], line);\n              }\n            }\n          }, {\n            key: \"marker\",\n            value: function marker(line, size) {\n              var graphic = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"arrow\" || \"line\";\n              var atTail = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n              var h = atTail ? 0 : 1;\n              var t = atTail ? 1 : 0;\n              var unit = line[h].$subtract(line[t]);\n              if (unit.magnitudeSq() === 0) return new Pt_1.Group();\n              unit.unit();\n              var ps = Num_1.Geom.perpendicular(unit).multiply(size[0]).add(line[t]);\n\n              if (graphic == \"arrow\") {\n                ps.add(unit.$multiply(size[1]));\n                return new Pt_1.Group(line[t], ps[0], ps[1]);\n              } else {\n                return new Pt_1.Group(ps[0], ps[1]);\n              }\n            }\n          }, {\n            key: \"toRect\",\n            value: function toRect(line) {\n              return new Pt_1.Group(line[0].$min(line[1]), line[0].$max(line[1]));\n            }\n          }]);\n\n          return Line;\n        }();\n\n        exports.Line = Line;\n\n        var Rectangle = function () {\n          function Rectangle() {\n            _classCallCheck(this, Rectangle);\n          }\n\n          _createClass(Rectangle, null, [{\n            key: \"from\",\n            value: function from(topLeft, widthOrSize, height) {\n              return Rectangle.fromTopLeft(topLeft, widthOrSize, height);\n            }\n          }, {\n            key: \"fromTopLeft\",\n            value: function fromTopLeft(topLeft, widthOrSize, height) {\n              var size = typeof widthOrSize == \"number\" ? [widthOrSize, height || widthOrSize] : widthOrSize;\n              return new Pt_1.Group(new Pt_1.Pt(topLeft), new Pt_1.Pt(topLeft).add(size));\n            }\n          }, {\n            key: \"fromCenter\",\n            value: function fromCenter(center, widthOrSize, height) {\n              var half = typeof widthOrSize == \"number\" ? [widthOrSize / 2, (height || widthOrSize) / 2] : new Pt_1.Pt(widthOrSize).divide(2);\n              return new Pt_1.Group(new Pt_1.Pt(center).subtract(half), new Pt_1.Pt(center).add(half));\n            }\n          }, {\n            key: \"toCircle\",\n            value: function toCircle(pts) {\n              var within = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n              return Circle.fromRect(pts, within);\n            }\n          }, {\n            key: \"toSquare\",\n            value: function toSquare(pts) {\n              var enclose = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var s = Rectangle.size(pts);\n              var m = enclose ? s.maxValue().value : s.minValue().value;\n              return Rectangle.fromCenter(Rectangle.center(pts), m, m);\n            }\n          }, {\n            key: \"size\",\n            value: function size(pts) {\n              return pts[0].$max(pts[1]).subtract(pts[0].$min(pts[1]));\n            }\n          }, {\n            key: \"center\",\n            value: function center(pts) {\n              var min = pts[0].$min(pts[1]);\n              var max = pts[0].$max(pts[1]);\n              return min.add(max.$subtract(min).divide(2));\n            }\n          }, {\n            key: \"corners\",\n            value: function corners(rect) {\n              var p0 = rect[0].$min(rect[1]);\n              var p2 = rect[0].$max(rect[1]);\n              return new Pt_1.Group(p0, new Pt_1.Pt(p2.x, p0.y), p2, new Pt_1.Pt(p0.x, p2.y));\n            }\n          }, {\n            key: \"sides\",\n            value: function sides(rect) {\n              var _Rectangle$corners = Rectangle.corners(rect),\n                  _Rectangle$corners2 = _slicedToArray(_Rectangle$corners, 4),\n                  p0 = _Rectangle$corners2[0],\n                  p1 = _Rectangle$corners2[1],\n                  p2 = _Rectangle$corners2[2],\n                  p3 = _Rectangle$corners2[3];\n\n              return [new Pt_1.Group(p0, p1), new Pt_1.Group(p1, p2), new Pt_1.Group(p2, p3), new Pt_1.Group(p3, p0)];\n            }\n          }, {\n            key: \"boundingBox\",\n            value: function boundingBox(rects) {\n              var merged = Util_1.Util.flatten(rects, false);\n              var min = Pt_1.Pt.make(2, Number.MAX_VALUE);\n              var max = Pt_1.Pt.make(2, Number.MIN_VALUE);\n\n              for (var i = 0, len = merged.length; i < len; i++) {\n                for (var k = 0; k < 2; k++) {\n                  min[k] = Math.min(min[k], merged[i][k]);\n                  max[k] = Math.max(max[k], merged[i][k]);\n                }\n              }\n\n              return new Pt_1.Group(min, max);\n            }\n          }, {\n            key: \"polygon\",\n            value: function polygon(rect) {\n              return Rectangle.corners(rect);\n            }\n          }, {\n            key: \"quadrants\",\n            value: function quadrants(rect, center) {\n              var corners = Rectangle.corners(rect);\n\n              var _center = center != undefined ? new Pt_1.Pt(center) : Rectangle.center(rect);\n\n              return corners.map(function (c) {\n                return new Pt_1.Group(c, _center).boundingBox();\n              });\n            }\n          }, {\n            key: \"halves\",\n            value: function halves(rect) {\n              var ratio = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.5;\n              var asRows = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              var min = rect[0].$min(rect[1]);\n              var max = rect[0].$max(rect[1]);\n              var mid = asRows ? Num_1.Num.lerp(min[1], max[1], ratio) : Num_1.Num.lerp(min[0], max[0], ratio);\n              return asRows ? [new Pt_1.Group(min, new Pt_1.Pt(max[0], mid)), new Pt_1.Group(new Pt_1.Pt(min[0], mid), max)] : [new Pt_1.Group(min, new Pt_1.Pt(mid, max[1])), new Pt_1.Group(new Pt_1.Pt(mid, min[1]), max)];\n            }\n          }, {\n            key: \"withinBound\",\n            value: function withinBound(rect, pt) {\n              return Num_1.Geom.withinBound(pt, rect[0], rect[1]);\n            }\n          }, {\n            key: \"hasIntersectRect2D\",\n            value: function hasIntersectRect2D(rect1, rect2) {\n              var resetBoundingBox = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n              if (resetBoundingBox) {\n                rect1 = Num_1.Geom.boundingBox(rect1);\n                rect2 = Num_1.Geom.boundingBox(rect2);\n              }\n\n              if (rect1[0][0] > rect2[1][0] || rect2[0][0] > rect1[1][0]) return false;\n              if (rect1[0][1] > rect2[1][1] || rect2[0][1] > rect1[1][1]) return false;\n              return true;\n            }\n          }, {\n            key: \"intersectRect2D\",\n            value: function intersectRect2D(rect1, rect2) {\n              if (!Rectangle.hasIntersectRect2D(rect1, rect2)) return new Pt_1.Group();\n              return Line.intersectLines2D(Rectangle.sides(rect1), Rectangle.sides(rect2));\n            }\n          }]);\n\n          return Rectangle;\n        }();\n\n        exports.Rectangle = Rectangle;\n\n        var Circle = function () {\n          function Circle() {\n            _classCallCheck(this, Circle);\n          }\n\n          _createClass(Circle, null, [{\n            key: \"fromRect\",\n            value: function fromRect(pts) {\n              var enclose = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var r = 0;\n              var min = r = Rectangle.size(pts).minValue().value / 2;\n\n              if (enclose) {\n                var max = Rectangle.size(pts).maxValue().value / 2;\n                r = Math.sqrt(min * min + max * max);\n              } else {\n                r = min;\n              }\n\n              return new Pt_1.Group(Rectangle.center(pts), new Pt_1.Pt(r, r));\n            }\n          }, {\n            key: \"fromTriangle\",\n            value: function fromTriangle(pts) {\n              var enclose = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n              if (enclose) {\n                return Triangle.circumcircle(pts);\n              } else {\n                return Triangle.incircle(pts);\n              }\n            }\n          }, {\n            key: \"fromCenter\",\n            value: function fromCenter(pt, radius) {\n              return new Pt_1.Group(new Pt_1.Pt(pt), new Pt_1.Pt(radius, radius));\n            }\n          }, {\n            key: \"withinBound\",\n            value: function withinBound(pts, pt) {\n              var threshold = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n              var d = pts[0].$subtract(pt);\n              return d.dot(d) + threshold < pts[1].x * pts[1].x;\n            }\n          }, {\n            key: \"intersectRay2D\",\n            value: function intersectRay2D(pts, ray) {\n              var d = ray[0].$subtract(ray[1]);\n              var f = pts[0].$subtract(ray[0]);\n              var a = d.dot(d);\n              var b = f.dot(d);\n              var c = f.dot(f) - pts[1].x * pts[1].x;\n              var p = b / a;\n              var q = c / a;\n              var disc = p * p - q;\n\n              if (disc < 0) {\n                return new Pt_1.Group();\n              } else {\n                var discSqrt = Math.sqrt(disc);\n                var t1 = -p + discSqrt;\n                var p1 = ray[0].$subtract(d.$multiply(t1));\n                if (disc === 0) return new Pt_1.Group(p1);\n                var t2 = -p - discSqrt;\n                var p2 = ray[0].$subtract(d.$multiply(t2));\n                return new Pt_1.Group(p1, p2);\n              }\n            }\n          }, {\n            key: \"intersectLine2D\",\n            value: function intersectLine2D(pts, line) {\n              var ps = Circle.intersectRay2D(pts, line);\n              var g = new Pt_1.Group();\n\n              if (ps.length > 0) {\n                for (var i = 0, len = ps.length; i < len; i++) {\n                  if (Rectangle.withinBound(line, ps[i])) g.push(ps[i]);\n                }\n              }\n\n              return g;\n            }\n          }, {\n            key: \"intersectCircle2D\",\n            value: function intersectCircle2D(pts, circle) {\n              var dv = circle[0].$subtract(pts[0]);\n              var dr2 = dv.magnitudeSq();\n              var dr = Math.sqrt(dr2);\n              var ar = pts[1].x;\n              var br = circle[1].x;\n              var ar2 = ar * ar;\n              var br2 = br * br;\n\n              if (dr > ar + br) {\n                return new Pt_1.Group();\n              } else if (dr < Math.abs(ar - br)) {\n                return new Pt_1.Group(pts[0].clone());\n              } else {\n                var a = (ar2 - br2 + dr2) / (2 * dr);\n                var h = Math.sqrt(ar2 - a * a);\n                var p = dv.$multiply(a / dr).add(pts[0]);\n                return new Pt_1.Group(new Pt_1.Pt(p.x + h * dv.y / dr, p.y - h * dv.x / dr), new Pt_1.Pt(p.x - h * dv.y / dr, p.y + h * dv.x / dr));\n              }\n            }\n          }, {\n            key: \"intersectRect2D\",\n            value: function intersectRect2D(pts, rect) {\n              var sides = Rectangle.sides(rect);\n              var g = [];\n\n              for (var i = 0, len = sides.length; i < len; i++) {\n                var ps = Circle.intersectLine2D(pts, sides[i]);\n                if (ps.length > 0) g.push(ps);\n              }\n\n              return Util_1.Util.flatten(g);\n            }\n          }, {\n            key: \"toRect\",\n            value: function toRect(pts) {\n              var within = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var r = pts[1][0];\n\n              if (within) {\n                var half = Math.sqrt(r * r) / 2;\n                return new Pt_1.Group(pts[0].$subtract(half), pts[0].$add(half));\n              } else {\n                return new Pt_1.Group(pts[0].$subtract(r), pts[0].$add(r));\n              }\n            }\n          }, {\n            key: \"toTriangle\",\n            value: function toTriangle(pts) {\n              var within = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n              if (within) {\n                var ang = -Math.PI / 2;\n                var inc = Math.PI * 2 / 3;\n                var g = new Pt_1.Group();\n\n                for (var i = 0; i < 3; i++) {\n                  g.push(pts[0].clone().toAngle(ang, pts[1][0], true));\n                  ang += inc;\n                }\n\n                return g;\n              } else {\n                return Triangle.fromCenter(pts[0], pts[1][0]);\n              }\n            }\n          }]);\n\n          return Circle;\n        }();\n\n        exports.Circle = Circle;\n\n        var Triangle = function () {\n          function Triangle() {\n            _classCallCheck(this, Triangle);\n          }\n\n          _createClass(Triangle, null, [{\n            key: \"fromRect\",\n            value: function fromRect(rect) {\n              var top = rect[0].$add(rect[1]).divide(2);\n              top.y = rect[0][1];\n              var left = rect[1].clone();\n              left.x = rect[0][0];\n              return new Pt_1.Group(top, rect[1].clone(), left);\n            }\n          }, {\n            key: \"fromCircle\",\n            value: function fromCircle(circle) {\n              return Circle.toTriangle(circle, true);\n            }\n          }, {\n            key: \"fromCenter\",\n            value: function fromCenter(pt, size) {\n              return Triangle.fromCircle(Circle.fromCenter(pt, size));\n            }\n          }, {\n            key: \"medial\",\n            value: function medial(pts) {\n              if (pts.length < 3) return _errorLength(new Pt_1.Group(), 3);\n              return Polygon.midpoints(pts, true);\n            }\n          }, {\n            key: \"oppositeSide\",\n            value: function oppositeSide(pts, index) {\n              if (pts.length < 3) return _errorLength(new Pt_1.Group(), 3);\n\n              if (index === 0) {\n                return Pt_1.Group.fromPtArray([pts[1], pts[2]]);\n              } else if (index === 1) {\n                return Pt_1.Group.fromPtArray([pts[0], pts[2]]);\n              } else {\n                return Pt_1.Group.fromPtArray([pts[0], pts[1]]);\n              }\n            }\n          }, {\n            key: \"altitude\",\n            value: function altitude(pts, index) {\n              var opp = Triangle.oppositeSide(pts, index);\n\n              if (opp.length > 1) {\n                return new Pt_1.Group(pts[index], Line.perpendicularFromPt(opp, pts[index]));\n              } else {\n                return new Pt_1.Group();\n              }\n            }\n          }, {\n            key: \"orthocenter\",\n            value: function orthocenter(pts) {\n              if (pts.length < 3) return _errorLength(undefined, 3);\n              var a = Triangle.altitude(pts, 0);\n              var b = Triangle.altitude(pts, 1);\n              return Line.intersectRay2D(a, b);\n            }\n          }, {\n            key: \"incenter\",\n            value: function incenter(pts) {\n              if (pts.length < 3) return _errorLength(undefined, 3);\n              var a = Polygon.bisector(pts, 0).add(pts[0]);\n              var b = Polygon.bisector(pts, 1).add(pts[1]);\n              return Line.intersectRay2D(new Pt_1.Group(pts[0], a), new Pt_1.Group(pts[1], b));\n            }\n          }, {\n            key: \"incircle\",\n            value: function incircle(pts, center) {\n              var c = center ? center : Triangle.incenter(pts);\n              var area = Polygon.area(pts);\n              var perim = Polygon.perimeter(pts, true);\n              var r = 2 * area / perim.total;\n              return Circle.fromCenter(c, r);\n            }\n          }, {\n            key: \"circumcenter\",\n            value: function circumcenter(pts) {\n              var md = Triangle.medial(pts);\n              var a = [md[0], Num_1.Geom.perpendicular(pts[0].$subtract(md[0])).p1.$add(md[0])];\n              var b = [md[1], Num_1.Geom.perpendicular(pts[1].$subtract(md[1])).p1.$add(md[1])];\n              return Line.intersectRay2D(a, b);\n            }\n          }, {\n            key: \"circumcircle\",\n            value: function circumcircle(pts, center) {\n              var c = center ? center : Triangle.circumcenter(pts);\n              var r = pts[0].$subtract(c).magnitude();\n              return Circle.fromCenter(c, r);\n            }\n          }]);\n\n          return Triangle;\n        }();\n\n        exports.Triangle = Triangle;\n\n        var Polygon = function () {\n          function Polygon() {\n            _classCallCheck(this, Polygon);\n          }\n\n          _createClass(Polygon, null, [{\n            key: \"centroid\",\n            value: function centroid(pts) {\n              return Num_1.Geom.centroid(pts);\n            }\n          }, {\n            key: \"rectangle\",\n            value: function rectangle(center, widthOrSize, height) {\n              return Rectangle.corners(Rectangle.fromCenter(center, widthOrSize, height));\n            }\n          }, {\n            key: \"fromCenter\",\n            value: function fromCenter(center, radius, sides) {\n              var g = new Pt_1.Group();\n\n              for (var i = 0; i < sides; i++) {\n                var ang = Math.PI * 2 * i / sides;\n                g.push(new Pt_1.Pt(Math.cos(ang) * radius, Math.sin(ang) * radius).add(center));\n              }\n\n              return g;\n            }\n          }, {\n            key: \"lineAt\",\n            value: function lineAt(pts, idx) {\n              if (idx < 0 || idx >= pts.length) throw new Error(\"index out of the Polygon's range\");\n              return new Pt_1.Group(pts[idx], idx === pts.length - 1 ? pts[0] : pts[idx + 1]);\n            }\n          }, {\n            key: \"lines\",\n            value: function lines(pts) {\n              var closePath = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n              if (pts.length < 2) return _errorLength(new Pt_1.Group(), 2);\n              var sp = Util_1.Util.split(pts, 2, 1);\n              if (closePath) sp.push(new Pt_1.Group(pts[pts.length - 1], pts[0]));\n              return sp.map(function (g) {\n                return g;\n              });\n            }\n          }, {\n            key: \"midpoints\",\n            value: function midpoints(pts) {\n              var closePath = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var t = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.5;\n              if (pts.length < 2) return _errorLength(new Pt_1.Group(), 2);\n              var sides = Polygon.lines(pts, closePath);\n              var mids = sides.map(function (s) {\n                return Num_1.Geom.interpolate(s[0], s[1], t);\n              });\n              return mids;\n            }\n          }, {\n            key: \"adjacentSides\",\n            value: function adjacentSides(pts, index) {\n              var closePath = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              if (pts.length < 2) return _errorLength(new Pt_1.Group(), 2);\n              if (index < 0 || index >= pts.length) return _errorOutofBound(new Pt_1.Group(), index);\n              var gs = [];\n              var left = index - 1;\n              if (closePath && left < 0) left = pts.length - 1;\n              if (left >= 0) gs.push(new Pt_1.Group(pts[index], pts[left]));\n              var right = index + 1;\n              if (closePath && right > pts.length - 1) right = 0;\n              if (right <= pts.length - 1) gs.push(new Pt_1.Group(pts[index], pts[right]));\n              return gs;\n            }\n          }, {\n            key: \"bisector\",\n            value: function bisector(pts, index) {\n              var sides = Polygon.adjacentSides(pts, index, true);\n\n              if (sides.length >= 2) {\n                var a = sides[0][1].$subtract(sides[0][0]).unit();\n                var b = sides[1][1].$subtract(sides[1][0]).unit();\n                return a.add(b).divide(2);\n              } else {\n                return undefined;\n              }\n            }\n          }, {\n            key: \"perimeter\",\n            value: function perimeter(pts) {\n              var closePath = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              if (pts.length < 2) return _errorLength(new Pt_1.Group(), 2);\n              var lines = Polygon.lines(pts, closePath);\n              var mag = 0;\n              var p = Pt_1.Pt.make(lines.length, 0);\n\n              for (var i = 0, len = lines.length; i < len; i++) {\n                var m = Line.magnitude(lines[i]);\n                mag += m;\n                p[i] = m;\n              }\n\n              return {\n                total: mag,\n                segments: p\n              };\n            }\n          }, {\n            key: \"area\",\n            value: function area(pts) {\n              if (pts.length < 3) return _errorLength(new Pt_1.Group(), 3);\n\n              var det = function det(a, b) {\n                return a[0] * b[1] - a[1] * b[0];\n              };\n\n              var area = 0;\n\n              for (var i = 0, len = pts.length; i < len; i++) {\n                if (i < pts.length - 1) {\n                  area += det(pts[i], pts[i + 1]);\n                } else {\n                  area += det(pts[i], pts[0]);\n                }\n              }\n\n              return Math.abs(area / 2);\n            }\n          }, {\n            key: \"convexHull\",\n            value: function convexHull(pts) {\n              var sorted = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              if (pts.length < 3) return _errorLength(new Pt_1.Group(), 3);\n\n              if (!sorted) {\n                pts = pts.slice();\n                pts.sort(function (a, b) {\n                  return a[0] - b[0];\n                });\n              }\n\n              var left = function left(a, b, c) {\n                return (b[0] - a[0]) * (c[1] - a[1]) - (c[0] - a[0]) * (b[1] - a[1]) > 0;\n              };\n\n              var dq = [];\n              var bot = pts.length - 2;\n              var top = bot + 3;\n              dq[bot] = pts[2];\n              dq[top] = pts[2];\n\n              if (left(pts[0], pts[1], pts[2])) {\n                dq[bot + 1] = pts[0];\n                dq[bot + 2] = pts[1];\n              } else {\n                dq[bot + 1] = pts[1];\n                dq[bot + 2] = pts[0];\n              }\n\n              for (var i = 3, len = pts.length; i < len; i++) {\n                var pt = pts[i];\n\n                if (left(dq[bot], dq[bot + 1], pt) && left(dq[top - 1], dq[top], pt)) {\n                  continue;\n                }\n\n                while (!left(dq[bot], dq[bot + 1], pt)) {\n                  bot += 1;\n                }\n\n                bot -= 1;\n                dq[bot] = pt;\n\n                while (!left(dq[top - 1], dq[top], pt)) {\n                  top -= 1;\n                }\n\n                top += 1;\n                dq[top] = pt;\n              }\n\n              var hull = new Pt_1.Group();\n\n              for (var h = 0; h < top - bot; h++) {\n                hull.push(dq[bot + h]);\n              }\n\n              return hull;\n            }\n          }, {\n            key: \"network\",\n            value: function network(pts) {\n              var originIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n              var g = [];\n\n              for (var i = 0, len = pts.length; i < len; i++) {\n                if (i != originIndex) g.push(new Pt_1.Group(pts[originIndex], pts[i]));\n              }\n\n              return g;\n            }\n          }, {\n            key: \"nearestPt\",\n            value: function nearestPt(pts, pt) {\n              var _near = Number.MAX_VALUE;\n\n              var _item = -1;\n\n              for (var i = 0, len = pts.length; i < len; i++) {\n                var d = pts[i].$subtract(pt).magnitudeSq();\n\n                if (d < _near) {\n                  _near = d;\n                  _item = i;\n                }\n              }\n\n              return _item;\n            }\n          }, {\n            key: \"projectAxis\",\n            value: function projectAxis(poly, unitAxis) {\n              var dot = unitAxis.dot(poly[0]);\n              var d = new Pt_1.Pt(dot, dot);\n\n              for (var n = 1, len = poly.length; n < len; n++) {\n                dot = unitAxis.dot(poly[n]);\n                d = new Pt_1.Pt(Math.min(dot, d[0]), Math.max(dot, d[1]));\n              }\n\n              return d;\n            }\n          }, {\n            key: \"_axisOverlap\",\n            value: function _axisOverlap(poly1, poly2, unitAxis) {\n              var pa = Polygon.projectAxis(poly1, unitAxis);\n              var pb = Polygon.projectAxis(poly2, unitAxis);\n              return pa[0] < pb[0] ? pb[0] - pa[1] : pa[0] - pb[1];\n            }\n          }, {\n            key: \"hasIntersectPoint\",\n            value: function hasIntersectPoint(poly, pt) {\n              var c = false;\n\n              for (var i = 0, len = poly.length; i < len; i++) {\n                var ln = Polygon.lineAt(poly, i);\n\n                if (ln[0][1] > pt[1] != ln[1][1] > pt[1] && pt[0] < (ln[1][0] - ln[0][0]) * (pt[1] - ln[0][1]) / (ln[1][1] - ln[0][1]) + ln[0][0]) {\n                  c = !c;\n                }\n              }\n\n              return c;\n            }\n          }, {\n            key: \"hasIntersectCircle\",\n            value: function hasIntersectCircle(poly, circle) {\n              var info = {\n                which: -1,\n                dist: 0,\n                normal: null,\n                edge: null,\n                vertex: null\n              };\n              var c = circle[0];\n              var r = circle[1][0];\n              var minDist = Number.MAX_SAFE_INTEGER;\n\n              for (var i = 0, len = poly.length; i < len; i++) {\n                var edge = Polygon.lineAt(poly, i);\n                var axis = new Pt_1.Pt(edge[0].y - edge[1].y, edge[1].x - edge[0].x).unit();\n                var poly2 = new Pt_1.Group(c.$add(axis.$multiply(r)), c.$subtract(axis.$multiply(r)));\n\n                var dist = Polygon._axisOverlap(poly, poly2, axis);\n\n                if (dist > 0) {\n                  return null;\n                } else if (Math.abs(dist) < minDist) {\n                  var check = Rectangle.withinBound(edge, Line.perpendicularFromPt(edge, c)) || Circle.intersectLine2D(circle, edge).length > 0;\n\n                  if (check) {\n                    info.edge = edge;\n                    info.normal = axis;\n                    minDist = Math.abs(dist);\n                    info.which = i;\n                  }\n                }\n              }\n\n              if (!info.edge) return null;\n              var dir = c.$subtract(Polygon.centroid(poly)).dot(info.normal);\n              if (dir < 0) info.normal.multiply(-1);\n              info.dist = minDist;\n              info.vertex = c;\n              return info;\n            }\n          }, {\n            key: \"hasIntersectPolygon\",\n            value: function hasIntersectPolygon(poly1, poly2) {\n              var info = {\n                which: -1,\n                dist: 0,\n                normal: new Pt_1.Pt(),\n                edge: new Pt_1.Group(),\n                vertex: new Pt_1.Pt()\n              };\n              var minDist = Number.MAX_SAFE_INTEGER;\n\n              for (var i = 0, plen = poly1.length + poly2.length; i < plen; i++) {\n                var edge = i < poly1.length ? Polygon.lineAt(poly1, i) : Polygon.lineAt(poly2, i - poly1.length);\n                var axis = new Pt_1.Pt(edge[0].y - edge[1].y, edge[1].x - edge[0].x).unit();\n\n                var dist = Polygon._axisOverlap(poly1, poly2, axis);\n\n                if (dist > 0) {\n                  return null;\n                } else if (Math.abs(dist) < minDist) {\n                  info.edge = edge;\n                  info.normal = axis;\n                  minDist = Math.abs(dist);\n                  info.which = i < poly1.length ? 0 : 1;\n                }\n              }\n\n              info.dist = minDist;\n              var b1 = info.which === 0 ? poly2 : poly1;\n              var b2 = info.which === 0 ? poly1 : poly2;\n              var c1 = Polygon.centroid(b1);\n              var c2 = Polygon.centroid(b2);\n              var dir = c1.$subtract(c2).dot(info.normal);\n              if (dir < 0) info.normal.multiply(-1);\n              var smallest = Number.MAX_SAFE_INTEGER;\n\n              for (var _i = 0, len = b1.length; _i < len; _i++) {\n                var d = info.normal.dot(b1[_i].$subtract(c2));\n\n                if (d < smallest) {\n                  smallest = d;\n                  info.vertex = b1[_i];\n                }\n              }\n\n              return info;\n            }\n          }, {\n            key: \"intersectPolygon2D\",\n            value: function intersectPolygon2D(poly1, poly2) {\n              var lp = Polygon.lines(poly1);\n              var g = [];\n\n              for (var i = 0, len = lp.length; i < len; i++) {\n                var ins = Line.intersectPolygon2D(lp[i], poly2, false);\n                if (ins) g.push(ins);\n              }\n\n              return Util_1.Util.flatten(g, true);\n            }\n          }, {\n            key: \"toRects\",\n            value: function toRects(polys) {\n              var boxes = polys.map(function (g) {\n                return Num_1.Geom.boundingBox(g);\n              });\n              var merged = Util_1.Util.flatten(boxes, false);\n              boxes.unshift(Num_1.Geom.boundingBox(merged));\n              return boxes;\n            }\n          }]);\n\n          return Polygon;\n        }();\n\n        exports.Polygon = Polygon;\n\n        var Curve = function () {\n          function Curve() {\n            _classCallCheck(this, Curve);\n          }\n\n          _createClass(Curve, null, [{\n            key: \"getSteps\",\n            value: function getSteps(steps) {\n              var ts = new Pt_1.Group();\n\n              for (var i = 0; i <= steps; i++) {\n                var t = i / steps;\n                ts.push(new Pt_1.Pt(t * t * t, t * t, t, 1));\n              }\n\n              return ts;\n            }\n          }, {\n            key: \"controlPoints\",\n            value: function controlPoints(pts) {\n              var index = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n              var copyStart = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              if (index > pts.length - 1) return new Pt_1.Group();\n\n              var _index = function _index(i) {\n                return i < pts.length - 1 ? i : pts.length - 1;\n              };\n\n              var p0 = pts[index];\n              index = copyStart ? index : index + 1;\n              return new Pt_1.Group(p0, pts[_index(index++)], pts[_index(index++)], pts[_index(index++)]);\n            }\n          }, {\n            key: \"_calcPt\",\n            value: function _calcPt(ctrls, params) {\n              var x = ctrls.reduce(function (a, c, i) {\n                return a + c.x * params[i];\n              }, 0);\n              var y = ctrls.reduce(function (a, c, i) {\n                return a + c.y * params[i];\n              }, 0);\n\n              if (ctrls[0].length > 2) {\n                var z = ctrls.reduce(function (a, c, i) {\n                  return a + c.z * params[i];\n                }, 0);\n                return new Pt_1.Pt(x, y, z);\n              }\n\n              return new Pt_1.Pt(x, y);\n            }\n          }, {\n            key: \"catmullRom\",\n            value: function catmullRom(pts) {\n              var steps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n              if (pts.length < 2) return new Pt_1.Group();\n              var ps = new Pt_1.Group();\n              var ts = Curve.getSteps(steps);\n              var c = Curve.controlPoints(pts, 0, true);\n\n              for (var i = 0; i <= steps; i++) {\n                ps.push(Curve.catmullRomStep(ts[i], c));\n              }\n\n              var k = 0;\n\n              while (k < pts.length - 2) {\n                var cp = Curve.controlPoints(pts, k);\n\n                if (cp.length > 0) {\n                  for (var _i2 = 0; _i2 <= steps; _i2++) {\n                    ps.push(Curve.catmullRomStep(ts[_i2], cp));\n                  }\n\n                  k++;\n                }\n              }\n\n              return ps;\n            }\n          }, {\n            key: \"catmullRomStep\",\n            value: function catmullRomStep(step, ctrls) {\n              var m = new Pt_1.Group(new Pt_1.Pt(-0.5, 1, -0.5, 0), new Pt_1.Pt(1.5, -2.5, 0, 1), new Pt_1.Pt(-1.5, 2, 0.5, 0), new Pt_1.Pt(0.5, -0.5, 0, 0));\n              return Curve._calcPt(ctrls, LinearAlgebra_1.Mat.multiply([step], m, true)[0]);\n            }\n          }, {\n            key: \"cardinal\",\n            value: function cardinal(pts) {\n              var steps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n              var tension = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.5;\n              if (pts.length < 2) return new Pt_1.Group();\n              var ps = new Pt_1.Group();\n              var ts = Curve.getSteps(steps);\n              var c = Curve.controlPoints(pts, 0, true);\n\n              for (var i = 0; i <= steps; i++) {\n                ps.push(Curve.cardinalStep(ts[i], c, tension));\n              }\n\n              var k = 0;\n\n              while (k < pts.length - 2) {\n                var cp = Curve.controlPoints(pts, k);\n\n                if (cp.length > 0) {\n                  for (var _i3 = 0; _i3 <= steps; _i3++) {\n                    ps.push(Curve.cardinalStep(ts[_i3], cp, tension));\n                  }\n\n                  k++;\n                }\n              }\n\n              return ps;\n            }\n          }, {\n            key: \"cardinalStep\",\n            value: function cardinalStep(step, ctrls) {\n              var tension = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.5;\n              var m = new Pt_1.Group(new Pt_1.Pt(-1, 2, -1, 0), new Pt_1.Pt(-1, 1, 0, 0), new Pt_1.Pt(1, -2, 1, 0), new Pt_1.Pt(1, -1, 0, 0));\n              var h = LinearAlgebra_1.Mat.multiply([step], m, true)[0].multiply(tension);\n              var h2 = 2 * step[0] - 3 * step[1] + 1;\n              var h3 = -2 * step[0] + 3 * step[1];\n\n              var pt = Curve._calcPt(ctrls, h);\n\n              pt.x += h2 * ctrls[1].x + h3 * ctrls[2].x;\n              pt.y += h2 * ctrls[1].y + h3 * ctrls[2].y;\n              if (pt.length > 2) pt.z += h2 * ctrls[1].z + h3 * ctrls[2].z;\n              return pt;\n            }\n          }, {\n            key: \"bezier\",\n            value: function bezier(pts) {\n              var steps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n              if (pts.length < 4) return new Pt_1.Group();\n              var ps = new Pt_1.Group();\n              var ts = Curve.getSteps(steps);\n              var k = 0;\n\n              while (k < pts.length - 3) {\n                var c = Curve.controlPoints(pts, k);\n\n                if (c.length > 0) {\n                  for (var i = 0; i <= steps; i++) {\n                    ps.push(Curve.bezierStep(ts[i], c));\n                  }\n\n                  k += 3;\n                }\n              }\n\n              return ps;\n            }\n          }, {\n            key: \"bezierStep\",\n            value: function bezierStep(step, ctrls) {\n              var m = new Pt_1.Group(new Pt_1.Pt(-1, 3, -3, 1), new Pt_1.Pt(3, -6, 3, 0), new Pt_1.Pt(-3, 3, 0, 0), new Pt_1.Pt(1, 0, 0, 0));\n              return Curve._calcPt(ctrls, LinearAlgebra_1.Mat.multiply([step], m, true)[0]);\n            }\n          }, {\n            key: \"bspline\",\n            value: function bspline(pts) {\n              var steps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n              var tension = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n              if (pts.length < 2) return new Pt_1.Group();\n              var ps = new Pt_1.Group();\n              var ts = Curve.getSteps(steps);\n              var k = 0;\n\n              while (k < pts.length - 3) {\n                var c = Curve.controlPoints(pts, k);\n\n                if (c.length > 0) {\n                  if (tension !== 1) {\n                    for (var i = 0; i <= steps; i++) {\n                      ps.push(Curve.bsplineTensionStep(ts[i], c, tension));\n                    }\n                  } else {\n                    for (var _i4 = 0; _i4 <= steps; _i4++) {\n                      ps.push(Curve.bsplineStep(ts[_i4], c));\n                    }\n                  }\n\n                  k++;\n                }\n              }\n\n              return ps;\n            }\n          }, {\n            key: \"bsplineStep\",\n            value: function bsplineStep(step, ctrls) {\n              var m = new Pt_1.Group(new Pt_1.Pt(-0.16666666666666666, 0.5, -0.5, 0.16666666666666666), new Pt_1.Pt(0.5, -1, 0, 0.6666666666666666), new Pt_1.Pt(-0.5, 0.5, 0.5, 0.16666666666666666), new Pt_1.Pt(0.16666666666666666, 0, 0, 0));\n              return Curve._calcPt(ctrls, LinearAlgebra_1.Mat.multiply([step], m, true)[0]);\n            }\n          }, {\n            key: \"bsplineTensionStep\",\n            value: function bsplineTensionStep(step, ctrls) {\n              var tension = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n              var m = new Pt_1.Group(new Pt_1.Pt(-0.16666666666666666, 0.5, -0.5, 0.16666666666666666), new Pt_1.Pt(-1.5, 2, 0, -0.3333333333333333), new Pt_1.Pt(1.5, -2.5, 0.5, 0.16666666666666666), new Pt_1.Pt(0.16666666666666666, 0, 0, 0));\n              var h = LinearAlgebra_1.Mat.multiply([step], m, true)[0].multiply(tension);\n              var h2 = 2 * step[0] - 3 * step[1] + 1;\n              var h3 = -2 * step[0] + 3 * step[1];\n\n              var pt = Curve._calcPt(ctrls, h);\n\n              pt.x += h2 * ctrls[1].x + h3 * ctrls[2].x;\n              pt.y += h2 * ctrls[1].y + h3 * ctrls[2].y;\n              if (pt.length > 2) pt.z += h2 * ctrls[1].z + h3 * ctrls[2].z;\n              return pt;\n            }\n          }]);\n\n          return Curve;\n        }();\n\n        exports.Curve = Curve;\n        /***/\n      },\n\n      /***/\n      \"./src/Physics.ts\":\n      /*!************************!*\\\n        !*** ./src/Physics.ts ***!\n        \\************************/\n\n      /*! no static exports found */\n\n      /***/\n      function srcPhysicsTs(module, exports, __webpack_require__) {\n        \"use strict\";\n        /*! Source code licensed under Apache License 2.0. Copyright  2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\n\n        var _slicedToArray = function () {\n          function sliceIterator(arr, i) {\n            var _arr = [];\n            var _n = true;\n            var _d = false;\n            var _e = undefined;\n\n            try {\n              for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n                _arr.push(_s.value);\n\n                if (i && _arr.length === i) break;\n              }\n            } catch (err) {\n              _d = true;\n              _e = err;\n            } finally {\n              try {\n                if (!_n && _i[\"return\"]) _i[\"return\"]();\n              } finally {\n                if (_d) throw _e;\n              }\n            }\n\n            return _arr;\n          }\n\n          return function (arr, i) {\n            if (Array.isArray(arr)) {\n              return arr;\n            } else if (Symbol.iterator in Object(arr)) {\n              return sliceIterator(arr, i);\n            } else {\n              throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n            }\n          };\n        }();\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var Pt_1 = __webpack_require__(\n        /*! ./Pt */\n        \"./src/Pt.ts\");\n\n        var Op_1 = __webpack_require__(\n        /*! ./Op */\n        \"./src/Op.ts\");\n\n        var World = function () {\n          function World(bound) {\n            var friction = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n            var gravity = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n            _classCallCheck(this, World);\n\n            this._lastTime = null;\n            this._gravity = new Pt_1.Pt();\n            this._friction = 1;\n            this._damping = 0.75;\n            this._particles = [];\n            this._bodies = [];\n            this._pnames = [];\n            this._bnames = [];\n            this._bound = Pt_1.Bound.fromGroup(bound);\n            this._friction = friction;\n            this._gravity = typeof gravity === \"number\" ? new Pt_1.Pt(0, gravity) : new Pt_1.Pt(gravity);\n            return this;\n          }\n\n          _createClass(World, [{\n            key: \"body\",\n            value: function body(id) {\n              var idx = id;\n\n              if (typeof id === \"string\" && id.length > 0) {\n                idx = this._bnames.indexOf(id);\n              }\n\n              if (!(idx >= 0)) return undefined;\n              return this._bodies[idx];\n            }\n          }, {\n            key: \"particle\",\n            value: function particle(id) {\n              var idx = id;\n\n              if (typeof id === \"string\" && id.length > 0) {\n                idx = this._pnames.indexOf(id);\n              }\n\n              if (!(idx >= 0)) return undefined;\n              return this._particles[idx];\n            }\n          }, {\n            key: \"bodyIndex\",\n            value: function bodyIndex(name) {\n              return this._bnames.indexOf(name);\n            }\n          }, {\n            key: \"particleIndex\",\n            value: function particleIndex(name) {\n              return this._pnames.indexOf(name);\n            }\n          }, {\n            key: \"update\",\n            value: function update(ms) {\n              var dt = ms / 1000;\n\n              this._updateParticles(dt);\n\n              this._updateBodies(dt);\n            }\n          }, {\n            key: \"drawParticles\",\n            value: function drawParticles(fn) {\n              this._drawParticles = fn;\n            }\n          }, {\n            key: \"drawBodies\",\n            value: function drawBodies(fn) {\n              this._drawBodies = fn;\n            }\n          }, {\n            key: \"add\",\n            value: function add(p) {\n              var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n              if (p instanceof Body) {\n                this._bodies.push(p);\n\n                this._bnames.push(name);\n              } else {\n                this._particles.push(p);\n\n                this._pnames.push(name);\n              }\n\n              return this;\n            }\n          }, {\n            key: \"_index\",\n            value: function _index(fn, id) {\n              var index = 0;\n\n              if (typeof id === \"string\") {\n                index = fn(id);\n                if (index < 0) throw new Error(\"Cannot find index of \" + id + \". You can use particleIndex() or bodyIndex() function to check existence by name.\");\n              } else {\n                index = id;\n              }\n\n              return index;\n            }\n          }, {\n            key: \"removeBody\",\n            value: function removeBody(from) {\n              var count = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n              var index = this._index(this.bodyIndex.bind(this), from);\n\n              var param = index < 0 ? [index * -1 - 1, count] : [index, count];\n\n              this._bodies.splice(param[0], param[1]);\n\n              this._bnames.splice(param[0], param[1]);\n\n              return this;\n            }\n          }, {\n            key: \"removeParticle\",\n            value: function removeParticle(from) {\n              var count = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n              var index = this._index(this.particleIndex.bind(this), from);\n\n              var param = index < 0 ? [index * -1 - 1, count] : [index, count];\n\n              this._particles.splice(param[0], param[1]);\n\n              this._pnames.splice(param[0], param[1]);\n\n              return this;\n            }\n          }, {\n            key: \"integrate\",\n            value: function integrate(p, dt, prevDt) {\n              p.addForce(this._gravity);\n              p.verlet(dt, this._friction, prevDt);\n              return p;\n            }\n          }, {\n            key: \"_updateParticles\",\n            value: function _updateParticles(dt) {\n              for (var i = 0, len = this._particles.length; i < len; i++) {\n                var p = this._particles[i];\n                this.integrate(p, dt, this._lastTime);\n                World.boundConstraint(p, this._bound, this._damping);\n\n                for (var k = i + 1; k < len; k++) {\n                  if (i !== k) {\n                    var p2 = this._particles[k];\n                    p.collide(p2, this._damping);\n                  }\n                }\n\n                if (this._drawParticles) this._drawParticles(p, i);\n              }\n\n              this._lastTime = dt;\n            }\n          }, {\n            key: \"_updateBodies\",\n            value: function _updateBodies(dt) {\n              for (var i = 0, len = this._bodies.length; i < len; i++) {\n                var bds = this._bodies[i];\n\n                if (bds) {\n                  for (var k = 0, klen = bds.length; k < klen; k++) {\n                    var bk = bds[k];\n                    World.boundConstraint(bk, this._bound, this._damping);\n                    this.integrate(bk, dt, this._lastTime);\n                  }\n\n                  for (var _k = i + 1; _k < len; _k++) {\n                    bds.processBody(this._bodies[_k]);\n                  }\n\n                  for (var m = 0, mlen = this._particles.length; m < mlen; m++) {\n                    bds.processParticle(this._particles[m]);\n                  }\n\n                  bds.processEdges();\n                  if (this._drawBodies) this._drawBodies(bds, i);\n                }\n              }\n            }\n          }, {\n            key: \"bound\",\n            get: function get() {\n              return this._bound;\n            },\n            set: function set(bound) {\n              this._bound = bound;\n            }\n          }, {\n            key: \"gravity\",\n            get: function get() {\n              return this._gravity;\n            },\n            set: function set(g) {\n              this._gravity = g;\n            }\n          }, {\n            key: \"friction\",\n            get: function get() {\n              return this._friction;\n            },\n            set: function set(f) {\n              this._friction = f;\n            }\n          }, {\n            key: \"damping\",\n            get: function get() {\n              return this._damping;\n            },\n            set: function set(f) {\n              this._damping = f;\n            }\n          }, {\n            key: \"bodyCount\",\n            get: function get() {\n              return this._bodies.length;\n            }\n          }, {\n            key: \"particleCount\",\n            get: function get() {\n              return this._particles.length;\n            }\n          }], [{\n            key: \"edgeConstraint\",\n            value: function edgeConstraint(p1, p2, dist) {\n              var stiff = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n              var precise = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n              var m1 = 1 / (p1.mass || 1);\n              var m2 = 1 / (p2.mass || 1);\n              var mm = m1 + m2;\n              var delta = p2.$subtract(p1);\n              var distSq = dist * dist;\n              var d = precise ? dist / delta.magnitude() - 1 : distSq / (delta.dot(delta) + distSq) - 0.5;\n              var f = delta.$multiply(d * stiff);\n              p1.subtract(f.$multiply(m1 / mm));\n              p2.add(f.$multiply(m2 / mm));\n              return p1;\n            }\n          }, {\n            key: \"boundConstraint\",\n            value: function boundConstraint(p, rect) {\n              var damping = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.75;\n              var bound = rect.boundingBox();\n              var np = p.$min(bound[1].subtract(p.radius)).$max(bound[0].add(p.radius));\n\n              if (np[0] === bound[0][0] || np[0] === bound[1][0]) {\n                var c = p.changed.$multiply(damping);\n                p.previous = np.$subtract(new Pt_1.Pt(-c[0], c[1]));\n              } else if (np[1] === bound[0][1] || np[1] === bound[1][1]) {\n                var _c = p.changed.$multiply(damping);\n\n                p.previous = np.$subtract(new Pt_1.Pt(_c[0], -_c[1]));\n              }\n\n              p.to(np);\n            }\n          }]);\n\n          return World;\n        }();\n\n        exports.World = World;\n\n        var Particle = function (_Pt_1$Pt) {\n          _inherits(Particle, _Pt_1$Pt);\n\n          function Particle() {\n            var _ref;\n\n            _classCallCheck(this, Particle);\n\n            for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = arguments[_key];\n            }\n\n            var _this = _possibleConstructorReturn(this, (_ref = Particle.__proto__ || Object.getPrototypeOf(Particle)).call.apply(_ref, [this].concat(args)));\n\n            _this._mass = 1;\n            _this._radius = 0;\n            _this._force = new Pt_1.Pt();\n            _this._prev = new Pt_1.Pt();\n            _this._lock = false;\n            _this._prev = _this.clone();\n            return _this;\n          }\n\n          _createClass(Particle, [{\n            key: \"size\",\n            value: function size(r) {\n              this._mass = r;\n              this._radius = r;\n              return this;\n            }\n          }, {\n            key: \"addForce\",\n            value: function addForce() {\n              var _force;\n\n              (_force = this._force).add.apply(_force, arguments);\n\n              return this._force;\n            }\n          }, {\n            key: \"verlet\",\n            value: function verlet(dt, friction, lastDt) {\n              if (this._lock) {\n                this.to(this._lockPt);\n              } else {\n                var lt = lastDt ? lastDt : dt;\n\n                var a = this._force.multiply(dt * (dt + lt) / 2);\n\n                var v = this.changed.multiply(friction * dt / lt).add(a);\n                this._prev = this.clone();\n                this.add(v);\n                this._force = new Pt_1.Pt();\n              }\n\n              return this;\n            }\n          }, {\n            key: \"hit\",\n            value: function hit() {\n              for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                args[_key2] = arguments[_key2];\n              }\n\n              this._prev.subtract(new (Function.prototype.bind.apply(Pt_1.Pt, [null].concat(args)))().$divide(Math.sqrt(this._mass)));\n\n              return this;\n            }\n          }, {\n            key: \"collide\",\n            value: function collide(p2) {\n              var damp = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var p1 = this;\n              var dp = p1.$subtract(p2);\n              var distSq = dp.magnitudeSq();\n              var dr = p1.radius + p2.radius;\n\n              if (distSq < dr * dr) {\n                var c1 = p1.changed;\n                var c2 = p2.changed;\n                var dist = Math.sqrt(distSq);\n                var d = dp.$multiply((dist - dr) / dist / 2);\n                var np1 = p1.$subtract(d);\n                var np2 = p2.$add(d);\n                p1.to(np1);\n                p2.to(np2);\n                var f1 = damp * dp.dot(c1) / distSq;\n                var f2 = damp * dp.dot(c2) / distSq;\n                var dm1 = p1.mass / (p1.mass + p2.mass);\n                var dm2 = p2.mass / (p1.mass + p2.mass);\n                c1.add(new Pt_1.Pt(f2 * dp[0] - f1 * dp[0], f2 * dp[1] - f1 * dp[1]).$multiply(dm2));\n                c2.add(new Pt_1.Pt(f1 * dp[0] - f2 * dp[0], f1 * dp[1] - f2 * dp[1]).$multiply(dm1));\n                p1.previous = p1.$subtract(c1);\n                p2.previous = p2.$subtract(c2);\n              }\n            }\n          }, {\n            key: \"toString\",\n            value: function toString() {\n              return \"Particle: \" + this[0] + \" \" + this[1] + \" | previous \" + this._prev[0] + \" \" + this._prev[1] + \" | mass \" + this._mass;\n            }\n          }, {\n            key: \"mass\",\n            get: function get() {\n              return this._mass;\n            },\n            set: function set(m) {\n              this._mass = m;\n            }\n          }, {\n            key: \"radius\",\n            get: function get() {\n              return this._radius;\n            },\n            set: function set(f) {\n              this._radius = f;\n            }\n          }, {\n            key: \"previous\",\n            get: function get() {\n              return this._prev;\n            },\n            set: function set(p) {\n              this._prev = p;\n            }\n          }, {\n            key: \"force\",\n            get: function get() {\n              return this._force;\n            },\n            set: function set(g) {\n              this._force = g;\n            }\n          }, {\n            key: \"body\",\n            get: function get() {\n              return this._body;\n            },\n            set: function set(b) {\n              this._body = b;\n            }\n          }, {\n            key: \"lock\",\n            get: function get() {\n              return this._lock;\n            },\n            set: function set(b) {\n              this._lock = b;\n              this._lockPt = new Pt_1.Pt(this);\n            }\n          }, {\n            key: \"changed\",\n            get: function get() {\n              return this.$subtract(this._prev);\n            }\n          }, {\n            key: \"position\",\n            set: function set(p) {\n              this.previous.to(this);\n              if (this._lock) this._lockPt = p;\n              this.to(p);\n            }\n          }]);\n\n          return Particle;\n        }(Pt_1.Pt);\n\n        exports.Particle = Particle;\n\n        var Body = function (_Pt_1$Group) {\n          _inherits(Body, _Pt_1$Group);\n\n          function Body() {\n            _classCallCheck(this, Body);\n\n            var _this2 = _possibleConstructorReturn(this, (Body.__proto__ || Object.getPrototypeOf(Body)).call(this));\n\n            _this2._cs = [];\n            _this2._stiff = 1;\n            _this2._locks = {};\n            _this2._mass = 1;\n            return _this2;\n          }\n\n          _createClass(Body, [{\n            key: \"init\",\n            value: function init(list) {\n              var stiff = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var c = new Pt_1.Pt();\n\n              for (var i = 0, len = list.length; i < len; i++) {\n                var p = new Particle(list[i]);\n                p.body = this;\n                c.add(list[i]);\n                this.push(p);\n              }\n\n              this._stiff = stiff;\n              return this;\n            }\n          }, {\n            key: \"autoMass\",\n            value: function autoMass() {\n              this.mass = Math.sqrt(Op_1.Polygon.area(this)) / 10;\n              return this;\n            }\n          }, {\n            key: \"link\",\n            value: function link(index1, index2, stiff) {\n              if (index1 < 0 || index1 >= this.length) throw new Error(\"index1 is not in the Group's indices\");\n              if (index2 < 0 || index2 >= this.length) throw new Error(\"index1 is not in the Group's indices\");\n              var d = this[index1].$subtract(this[index2]).magnitude();\n\n              this._cs.push([index1, index2, d, stiff || this._stiff]);\n\n              return this;\n            }\n          }, {\n            key: \"linkAll\",\n            value: function linkAll(stiff) {\n              var half = this.length / 2;\n\n              for (var i = 0, len = this.length; i < len; i++) {\n                var n = i >= len - 1 ? 0 : i + 1;\n                this.link(i, n, stiff);\n\n                if (len > 4) {\n                  var nd = Math.floor(half / 2) + 1;\n                  var n2 = i >= len - nd ? i % len : i + nd;\n                  this.link(i, n2, stiff);\n                }\n\n                if (i <= half - 1) {\n                  this.link(i, Math.min(this.length - 1, i + Math.floor(half)));\n                }\n              }\n            }\n          }, {\n            key: \"linksToLines\",\n            value: function linksToLines() {\n              var gs = [];\n\n              for (var i = 0, len = this._cs.length; i < len; i++) {\n                var ln = this._cs[i];\n                gs.push(new Pt_1.Group(this[ln[0]], this[ln[1]]));\n              }\n\n              return gs;\n            }\n          }, {\n            key: \"processEdges\",\n            value: function processEdges() {\n              for (var i = 0, len = this._cs.length; i < len; i++) {\n                var _cs$i = _slicedToArray(this._cs[i], 4),\n                    m = _cs$i[0],\n                    n = _cs$i[1],\n                    d = _cs$i[2],\n                    s = _cs$i[3];\n\n                World.edgeConstraint(this[m], this[n], d, s);\n              }\n            }\n          }, {\n            key: \"processBody\",\n            value: function processBody(b) {\n              var b1 = this;\n              var b2 = b;\n              var hit = Op_1.Polygon.hasIntersectPolygon(b1, b2);\n\n              if (hit) {\n                var cv = hit.normal.$multiply(hit.dist);\n                var t = void 0;\n                var eg = hit.edge;\n\n                if (Math.abs(eg[0][0] - eg[1][0]) > Math.abs(eg[0][1] - eg[1][1])) {\n                  t = (hit.vertex[0] - cv[0] - eg[0][0]) / (eg[1][0] - eg[0][0]);\n                } else {\n                  t = (hit.vertex[1] - cv[1] - eg[0][1]) / (eg[1][1] - eg[0][1]);\n                }\n\n                var lambda = 1 / (t * t + (1 - t) * (1 - t));\n                var m0 = hit.vertex.body.mass || 1;\n                var m1 = hit.edge[0].body.mass || 1;\n                var mr0 = m0 / (m0 + m1);\n                var mr1 = m1 / (m0 + m1);\n                eg[0].subtract(cv.$multiply(mr0 * (1 - t) * lambda / 2));\n                eg[1].subtract(cv.$multiply(mr0 * t * lambda / 2));\n                hit.vertex.add(cv.$multiply(mr1));\n              }\n            }\n          }, {\n            key: \"processParticle\",\n            value: function processParticle(b) {\n              var b1 = this;\n              var b2 = b;\n              var hit = Op_1.Polygon.hasIntersectCircle(b1, Op_1.Circle.fromCenter(b, b.radius));\n\n              if (hit) {\n                var cv = hit.normal.$multiply(hit.dist);\n                var t = void 0;\n                var eg = hit.edge;\n\n                if (Math.abs(eg[0][0] - eg[1][0]) > Math.abs(eg[0][1] - eg[1][1])) {\n                  t = (hit.vertex[0] - cv[0] - eg[0][0]) / (eg[1][0] - eg[0][0]);\n                } else {\n                  t = (hit.vertex[1] - cv[1] - eg[0][1]) / (eg[1][1] - eg[0][1]);\n                }\n\n                var lambda = 1 / (t * t + (1 - t) * (1 - t));\n                var m0 = hit.vertex.mass || b2.mass || 1;\n                var m1 = hit.edge[0].body.mass || 1;\n                var mr0 = m0 / (m0 + m1);\n                var mr1 = m1 / (m0 + m1);\n                eg[0].subtract(cv.$multiply(mr0 * (1 - t) * lambda / 2));\n                eg[1].subtract(cv.$multiply(mr0 * t * lambda / 2));\n                var c1 = b.changed.add(cv.$multiply(mr1));\n                b.previous = b.$subtract(c1);\n              }\n            }\n          }, {\n            key: \"mass\",\n            get: function get() {\n              return this._mass;\n            },\n            set: function set(m) {\n              this._mass = m;\n\n              for (var i = 0, len = this.length; i < len; i++) {\n                this[i].mass = this._mass;\n              }\n            }\n          }], [{\n            key: \"fromGroup\",\n            value: function fromGroup(list) {\n              var stiff = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var autoLink = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n              var autoMass = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n              var b = new Body().init(list);\n              if (autoLink) b.linkAll(stiff);\n              if (autoMass) b.autoMass();\n              return b;\n            }\n          }]);\n\n          return Body;\n        }(Pt_1.Group);\n\n        exports.Body = Body;\n        /***/\n      },\n\n      /***/\n      \"./src/Play.ts\":\n      /*!*********************!*\\\n        !*** ./src/Play.ts ***!\n        \\*********************/\n\n      /*! no static exports found */\n\n      /***/\n      function srcPlayTs(module, exports, __webpack_require__) {\n        \"use strict\";\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        var __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {\n          return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n              try {\n                step(generator.next(value));\n              } catch (e) {\n                reject(e);\n              }\n            }\n\n            function rejected(value) {\n              try {\n                step(generator[\"throw\"](value));\n              } catch (e) {\n                reject(e);\n              }\n            }\n\n            function step(result) {\n              result.done ? resolve(result.value) : new P(function (resolve) {\n                resolve(result.value);\n              }).then(fulfilled, rejected);\n            }\n\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n          });\n        };\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var Pt_1 = __webpack_require__(\n        /*! ./Pt */\n        \"./src/Pt.ts\");\n\n        var Num_1 = __webpack_require__(\n        /*! ./Num */\n        \"./src/Num.ts\");\n\n        var Tempo = function () {\n          function Tempo(bpm) {\n            _classCallCheck(this, Tempo);\n\n            this._listeners = {};\n            this._listenerInc = 0;\n            this.bpm = bpm;\n          }\n\n          _createClass(Tempo, [{\n            key: \"_createID\",\n            value: function _createID(listener) {\n              var id = '';\n\n              if (typeof listener === 'function') {\n                id = '_b' + this._listenerInc++;\n              } else {\n                id = listener.name || '_b' + this._listenerInc++;\n              }\n\n              return id;\n            }\n          }, {\n            key: \"every\",\n            value: function every(beats) {\n              var self = this;\n              var p = Array.isArray(beats) ? beats[0] : beats;\n              return {\n                start: function start(fn) {\n                  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n                  var name = arguments[2];\n\n                  var id = name || self._createID(fn);\n\n                  self._listeners[id] = {\n                    name: id,\n                    beats: beats,\n                    period: p,\n                    index: 0,\n                    offset: offset,\n                    duration: -1,\n                    continuous: false,\n                    fn: fn\n                  };\n                  return this;\n                },\n                progress: function progress(fn) {\n                  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n                  var name = arguments[2];\n\n                  var id = name || self._createID(fn);\n\n                  self._listeners[id] = {\n                    name: id,\n                    beats: beats,\n                    period: p,\n                    index: 0,\n                    offset: offset,\n                    duration: -1,\n                    continuous: true,\n                    fn: fn\n                  };\n                  return this;\n                }\n              };\n            }\n          }, {\n            key: \"track\",\n            value: function track(time) {\n              for (var k in this._listeners) {\n                if (this._listeners.hasOwnProperty(k)) {\n                  var li = this._listeners[k];\n\n                  var _t = li.offset ? time + li.offset : time;\n\n                  var ms = li.period * this._ms;\n                  var isStart = false;\n\n                  if (_t > li.duration + ms) {\n                    li.duration = _t - _t % this._ms;\n\n                    if (Array.isArray(li.beats)) {\n                      li.index = (li.index + 1) % li.beats.length;\n                      li.period = li.beats[li.index];\n                    }\n\n                    isStart = true;\n                  }\n\n                  var count = Math.max(0, Math.ceil(Math.floor(li.duration / this._ms) / li.period));\n                  var params = li.continuous ? [count, Num_1.Num.clamp((_t - li.duration) / ms, 0, 1), _t, isStart] : [count];\n\n                  if (li.continuous || isStart) {\n                    var done = li.fn.apply(li, params);\n                    if (done) delete this._listeners[li.name];\n                  }\n                }\n              }\n            }\n          }, {\n            key: \"stop\",\n            value: function stop(name) {\n              if (this._listeners[name]) delete this._listeners[name];\n            }\n          }, {\n            key: \"animate\",\n            value: function animate(time, ftime) {\n              this.track(time);\n            }\n          }, {\n            key: \"resize\",\n            value: function resize(bound, evt) {\n              return;\n            }\n          }, {\n            key: \"action\",\n            value: function action(type, px, py, evt) {\n              return;\n            }\n          }, {\n            key: \"bpm\",\n            get: function get() {\n              return this._bpm;\n            },\n            set: function set(n) {\n              this._bpm = n;\n              this._ms = 60000 / this._bpm;\n            }\n          }, {\n            key: \"ms\",\n            get: function get() {\n              return this._ms;\n            },\n            set: function set(n) {\n              this._bpm = Math.floor(60000 / n);\n              this._ms = 60000 / this._bpm;\n            }\n          }], [{\n            key: \"fromBeat\",\n            value: function fromBeat(ms) {\n              return new Tempo(60000 / ms);\n            }\n          }]);\n\n          return Tempo;\n        }();\n\n        exports.Tempo = Tempo;\n\n        var Sound = function () {\n          function Sound(type) {\n            _classCallCheck(this, Sound);\n\n            this._playing = false;\n            this._type = type;\n\n            var _ctx = window.AudioContext || window.webkitAudioContext || false;\n\n            if (!_ctx) throw new Error(\"Your browser doesn't support Web Audio. (No AudioContext)\");\n            this._ctx = _ctx ? new _ctx() : undefined;\n          }\n\n          _createClass(Sound, [{\n            key: \"createBuffer\",\n            value: function createBuffer(buf) {\n              var _this = this;\n\n              this._node = this._ctx.createBufferSource();\n              if (buf !== undefined) this._buffer = buf;\n              this._node.buffer = this._buffer;\n\n              this._node.onended = function () {\n                _this._playing = false;\n              };\n\n              return this;\n            }\n          }, {\n            key: \"_gen\",\n            value: function _gen(type, val) {\n              this._node = this._ctx.createOscillator();\n              var osc = this._node;\n              osc.type = type;\n\n              if (type === 'custom') {\n                osc.setPeriodicWave(val);\n              } else {\n                osc.frequency.value = val;\n              }\n\n              return this;\n            }\n          }, {\n            key: \"connect\",\n            value: function connect(node) {\n              this._node.connect(node);\n\n              return this;\n            }\n          }, {\n            key: \"analyze\",\n            value: function analyze() {\n              var size = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 256;\n              var minDb = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : -100;\n              var maxDb = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : -30;\n              var smooth = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0.8;\n\n              var a = this._ctx.createAnalyser();\n\n              a.fftSize = size * 2;\n              a.minDecibels = minDb;\n              a.maxDecibels = maxDb;\n              a.smoothingTimeConstant = smooth;\n              this.analyzer = {\n                node: a,\n                size: a.frequencyBinCount,\n                data: new Uint8Array(a.frequencyBinCount)\n              };\n\n              this._node.connect(this.analyzer.node);\n\n              return this;\n            }\n          }, {\n            key: \"_domain\",\n            value: function _domain(time) {\n              if (this.analyzer) {\n                if (time) {\n                  this.analyzer.node.getByteTimeDomainData(this.analyzer.data);\n                } else {\n                  this.analyzer.node.getByteFrequencyData(this.analyzer.data);\n                }\n\n                return this.analyzer.data;\n              }\n\n              return new Uint8Array(0);\n            }\n          }, {\n            key: \"_domainTo\",\n            value: function _domainTo(time, size) {\n              var position = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [0, 0];\n              var trim = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [0, 0];\n              var data = time ? this.timeDomain() : this.freqDomain();\n              var g = new Pt_1.Group();\n\n              for (var i = trim[0], len = data.length - trim[1]; i < len; i++) {\n                g.push(new Pt_1.Pt(position[0] + size[0] * i / len, position[1] + size[1] * data[i] / 255));\n              }\n\n              return g;\n            }\n          }, {\n            key: \"timeDomain\",\n            value: function timeDomain() {\n              return this._domain(true);\n            }\n          }, {\n            key: \"timeDomainTo\",\n            value: function timeDomainTo(size) {\n              var position = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [0, 0];\n              var trim = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [0, 0];\n              return this._domainTo(true, size, position, trim);\n            }\n          }, {\n            key: \"freqDomain\",\n            value: function freqDomain() {\n              return this._domain(false);\n            }\n          }, {\n            key: \"freqDomainTo\",\n            value: function freqDomainTo(size) {\n              var position = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [0, 0];\n              var trim = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [0, 0];\n              return this._domainTo(false, size, position, trim);\n            }\n          }, {\n            key: \"reset\",\n            value: function reset() {\n              this.stop();\n\n              this._node.disconnect();\n\n              return this;\n            }\n          }, {\n            key: \"start\",\n            value: function start() {\n              var timeAt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n              if (this._ctx.state === 'suspended') this._ctx.resume();\n\n              if (this._type === \"file\") {\n                if (!!this._buffer) {\n                  this._node.start(timeAt);\n\n                  this._timestamp = this._ctx.currentTime + timeAt;\n                } else {\n                  this._source.play();\n\n                  if (timeAt > 0) this._source.currentTime = timeAt;\n                }\n              } else if (this._type === \"gen\") {\n                this._gen(this._node.type, this._node.frequency.value);\n\n                this._node.start();\n\n                if (this.analyzer) this._node.connect(this.analyzer.node);\n              }\n\n              this._node.connect(this._ctx.destination);\n\n              this._playing = true;\n              return this;\n            }\n          }, {\n            key: \"stop\",\n            value: function stop() {\n              if (this._playing) this._node.disconnect(this._ctx.destination);\n\n              if (this._type === \"file\") {\n                if (!!this._buffer) {\n                  if (this.progress < 1) this._node.stop();\n                } else {\n                  this._source.pause();\n                }\n              } else if (this._type === \"gen\") {\n                this._node.stop();\n              } else if (this._type === \"input\") {\n                this._stream.getAudioTracks().forEach(function (track) {\n                  return track.stop();\n                });\n              }\n\n              this._playing = false;\n              return this;\n            }\n          }, {\n            key: \"toggle\",\n            value: function toggle() {\n              if (this._playing) {\n                this.stop();\n              } else {\n                this.start();\n              }\n\n              return this;\n            }\n          }, {\n            key: \"ctx\",\n            get: function get() {\n              return this._ctx;\n            }\n          }, {\n            key: \"node\",\n            get: function get() {\n              return this._node;\n            }\n          }, {\n            key: \"stream\",\n            get: function get() {\n              return this._stream;\n            }\n          }, {\n            key: \"source\",\n            get: function get() {\n              return this._source;\n            }\n          }, {\n            key: \"buffer\",\n            get: function get() {\n              return this._buffer;\n            },\n            set: function set(b) {\n              this._buffer = b;\n            }\n          }, {\n            key: \"type\",\n            get: function get() {\n              return this._type;\n            }\n          }, {\n            key: \"playing\",\n            get: function get() {\n              return this._playing;\n            }\n          }, {\n            key: \"progress\",\n            get: function get() {\n              var dur = 0;\n              var curr = 0;\n\n              if (!!this._buffer) {\n                dur = this._buffer.duration;\n                curr = this._timestamp ? this._ctx.currentTime - this._timestamp : 0;\n              } else {\n                dur = this._source.duration;\n                curr = this._source.currentTime;\n              }\n\n              return curr / dur;\n            }\n          }, {\n            key: \"playable\",\n            get: function get() {\n              return this._type === \"input\" ? this._node !== undefined : !!this._buffer || this._source.readyState === 4;\n            }\n          }, {\n            key: \"binSize\",\n            get: function get() {\n              return this.analyzer.size;\n            }\n          }, {\n            key: \"sampleRate\",\n            get: function get() {\n              return this._ctx.sampleRate;\n            }\n          }, {\n            key: \"frequency\",\n            get: function get() {\n              return this._type === \"gen\" ? this._node.frequency.value : 0;\n            },\n            set: function set(f) {\n              if (this._type === \"gen\") this._node.frequency.value = f;\n            }\n          }], [{\n            key: \"from\",\n            value: function from(node, ctx) {\n              var type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"gen\";\n              var stream = arguments[3];\n              var s = new Sound(type);\n              s._node = node;\n              s._ctx = ctx;\n              if (stream) s._stream = stream;\n              return s;\n            }\n          }, {\n            key: \"load\",\n            value: function load(source) {\n              var crossOrigin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"anonymous\";\n              return new Promise(function (resolve, reject) {\n                var s = new Sound(\"file\");\n                s._source = typeof source === 'string' ? new Audio(source) : source;\n                s._source.autoplay = false;\n                s._source.crossOrigin = crossOrigin;\n\n                s._source.addEventListener(\"ended\", function () {\n                  s._playing = false;\n                });\n\n                s._source.addEventListener('error', function () {\n                  reject(\"Error loading sound\");\n                });\n\n                s._source.addEventListener('canplaythrough', function () {\n                  s._node = s._ctx.createMediaElementSource(s._source);\n                  resolve(s);\n                });\n              });\n            }\n          }, {\n            key: \"loadAsBuffer\",\n            value: function loadAsBuffer(url) {\n              return new Promise(function (resolve, reject) {\n                var request = new XMLHttpRequest();\n                request.open('GET', url, true);\n                request.responseType = 'arraybuffer';\n                var s = new Sound(\"file\");\n\n                request.onload = function () {\n                  s._ctx.decodeAudioData(request.response, function (buffer) {\n                    s.createBuffer(buffer);\n                    resolve(s);\n                  }, function (err) {\n                    return reject(\"Error decoding audio\");\n                  });\n                };\n\n                request.send();\n              });\n            }\n          }, {\n            key: \"generate\",\n            value: function generate(type, val) {\n              var s = new Sound(\"gen\");\n              return s._gen(type, val);\n            }\n          }, {\n            key: \"input\",\n            value: function input(constraint) {\n              return __awaiter(this, void 0, void 0, _regeneratorRuntime.mark(function _callee() {\n                var s, c;\n                return _regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.prev = 0;\n                        s = new Sound(\"input\");\n\n                        if (s) {\n                          _context.next = 4;\n                          break;\n                        }\n\n                        return _context.abrupt(\"return\", undefined);\n\n                      case 4:\n                        c = constraint ? constraint : {\n                          audio: true,\n                          video: false\n                        };\n                        _context.next = 7;\n                        return navigator.mediaDevices.getUserMedia(c);\n\n                      case 7:\n                        s._stream = _context.sent;\n                        s._node = s._ctx.createMediaStreamSource(s._stream);\n                        return _context.abrupt(\"return\", s);\n\n                      case 12:\n                        _context.prev = 12;\n                        _context.t0 = _context[\"catch\"](0);\n                        console.error(\"Cannot get audio from input device.\");\n                        return _context.abrupt(\"return\", Promise.resolve(null));\n\n                      case 16:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee, this, [[0, 12]]);\n              }));\n            }\n          }]);\n\n          return Sound;\n        }();\n\n        exports.Sound = Sound;\n        /***/\n      },\n\n      /***/\n      \"./src/Pt.ts\":\n      /*!*******************!*\\\n        !*** ./src/Pt.ts ***!\n        \\*******************/\n\n      /*! no static exports found */\n\n      /***/\n      function srcPtTs(module, exports, __webpack_require__) {\n        \"use strict\";\n        /*! Source code licensed under Apache License 2.0. Copyright  2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        function _toConsumableArray(arr) {\n          if (Array.isArray(arr)) {\n            for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n              arr2[i] = arr[i];\n            }\n\n            return arr2;\n          } else {\n            return Array.from(arr);\n          }\n        }\n\n        function _extendableBuiltin3(cls) {\n          function ExtendableBuiltin() {\n            var instance = Reflect.construct(cls, Array.from(arguments));\n            Object.setPrototypeOf(instance, Object.getPrototypeOf(this));\n            return instance;\n          }\n\n          ExtendableBuiltin.prototype = Object.create(cls.prototype, {\n            constructor: {\n              value: cls,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n\n          if (Object.setPrototypeOf) {\n            Object.setPrototypeOf(ExtendableBuiltin, cls);\n          } else {\n            ExtendableBuiltin.__proto__ = cls;\n          }\n\n          return ExtendableBuiltin;\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n\n        function _extendableBuiltin(cls) {\n          function ExtendableBuiltin() {\n            var instance = Reflect.construct(cls, Array.from(arguments));\n            Object.setPrototypeOf(instance, Object.getPrototypeOf(this));\n            return instance;\n          }\n\n          ExtendableBuiltin.prototype = Object.create(cls.prototype, {\n            constructor: {\n              value: cls,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n\n          if (Object.setPrototypeOf) {\n            Object.setPrototypeOf(ExtendableBuiltin, cls);\n          } else {\n            ExtendableBuiltin.__proto__ = cls;\n          }\n\n          return ExtendableBuiltin;\n        }\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var Util_1 = __webpack_require__(\n        /*! ./Util */\n        \"./src/Util.ts\");\n\n        var Num_1 = __webpack_require__(\n        /*! ./Num */\n        \"./src/Num.ts\");\n\n        var LinearAlgebra_1 = __webpack_require__(\n        /*! ./LinearAlgebra */\n        \"./src/LinearAlgebra.ts\");\n\n        var Pt = function (_extendableBuiltin2) {\n          _inherits(Pt, _extendableBuiltin2);\n\n          function Pt() {\n            _classCallCheck(this, Pt);\n\n            for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = arguments[_key];\n            }\n\n            if (args.length === 1 && typeof args[0] == \"number\") {\n              var _this = _possibleConstructorReturn(this, (Pt.__proto__ || Object.getPrototypeOf(Pt)).call(this, args[0]));\n            } else {\n              var _this = _possibleConstructorReturn(this, (Pt.__proto__ || Object.getPrototypeOf(Pt)).call(this, args.length > 0 ? Util_1.Util.getArgs(args) : [0, 0]));\n            }\n\n            return _possibleConstructorReturn(_this);\n          }\n\n          _createClass(Pt, [{\n            key: \"clone\",\n            value: function clone() {\n              return new Pt(this);\n            }\n          }, {\n            key: \"equals\",\n            value: function equals(p) {\n              var threshold = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.000001;\n\n              for (var i = 0, len = this.length; i < len; i++) {\n                if (Math.abs(this[i] - p[i]) > threshold) return false;\n              }\n\n              return true;\n            }\n          }, {\n            key: \"to\",\n            value: function to() {\n              for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                args[_key2] = arguments[_key2];\n              }\n\n              var p = Util_1.Util.getArgs(args);\n\n              for (var i = 0, len = Math.min(this.length, p.length); i < len; i++) {\n                this[i] = p[i];\n              }\n\n              return this;\n            }\n          }, {\n            key: \"$to\",\n            value: function $to() {\n              var _clone;\n\n              return (_clone = this.clone()).to.apply(_clone, arguments);\n            }\n          }, {\n            key: \"toAngle\",\n            value: function toAngle(radian, magnitude) {\n              var anchorFromPt = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              var m = magnitude != undefined ? magnitude : this.magnitude();\n              var change = [Math.cos(radian) * m, Math.sin(radian) * m];\n              return anchorFromPt ? this.add(change) : this.to(change);\n            }\n          }, {\n            key: \"op\",\n            value: function op(fn) {\n              var self = this;\n              return function () {\n                for (var _len3 = arguments.length, params = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n                  params[_key3] = arguments[_key3];\n                }\n\n                return fn.apply(undefined, [self].concat(params));\n              };\n            }\n          }, {\n            key: \"ops\",\n            value: function ops(fns) {\n              var _ops = [];\n\n              for (var i = 0, len = fns.length; i < len; i++) {\n                _ops.push(this.op(fns[i]));\n              }\n\n              return _ops;\n            }\n          }, {\n            key: \"$take\",\n            value: function $take(axis) {\n              var p = [];\n\n              for (var i = 0, len = axis.length; i < len; i++) {\n                p.push(this[axis[i]] || 0);\n              }\n\n              return new Pt(p);\n            }\n          }, {\n            key: \"$concat\",\n            value: function $concat() {\n              for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n                args[_key4] = arguments[_key4];\n              }\n\n              return new Pt(this.toArray().concat(Util_1.Util.getArgs(args)));\n            }\n          }, {\n            key: \"add\",\n            value: function add() {\n              for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n                args[_key5] = arguments[_key5];\n              }\n\n              args.length === 1 && typeof args[0] == \"number\" ? LinearAlgebra_1.Vec.add(this, args[0]) : LinearAlgebra_1.Vec.add(this, Util_1.Util.getArgs(args));\n              return this;\n            }\n          }, {\n            key: \"$add\",\n            value: function $add() {\n              var _clone2;\n\n              return (_clone2 = this.clone()).add.apply(_clone2, arguments);\n            }\n          }, {\n            key: \"subtract\",\n            value: function subtract() {\n              for (var _len6 = arguments.length, args = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n                args[_key6] = arguments[_key6];\n              }\n\n              args.length === 1 && typeof args[0] == \"number\" ? LinearAlgebra_1.Vec.subtract(this, args[0]) : LinearAlgebra_1.Vec.subtract(this, Util_1.Util.getArgs(args));\n              return this;\n            }\n          }, {\n            key: \"$subtract\",\n            value: function $subtract() {\n              var _clone3;\n\n              return (_clone3 = this.clone()).subtract.apply(_clone3, arguments);\n            }\n          }, {\n            key: \"multiply\",\n            value: function multiply() {\n              for (var _len7 = arguments.length, args = Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n                args[_key7] = arguments[_key7];\n              }\n\n              args.length === 1 && typeof args[0] == \"number\" ? LinearAlgebra_1.Vec.multiply(this, args[0]) : LinearAlgebra_1.Vec.multiply(this, Util_1.Util.getArgs(args));\n              return this;\n            }\n          }, {\n            key: \"$multiply\",\n            value: function $multiply() {\n              var _clone4;\n\n              return (_clone4 = this.clone()).multiply.apply(_clone4, arguments);\n            }\n          }, {\n            key: \"divide\",\n            value: function divide() {\n              for (var _len8 = arguments.length, args = Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n                args[_key8] = arguments[_key8];\n              }\n\n              args.length === 1 && typeof args[0] == \"number\" ? LinearAlgebra_1.Vec.divide(this, args[0]) : LinearAlgebra_1.Vec.divide(this, Util_1.Util.getArgs(args));\n              return this;\n            }\n          }, {\n            key: \"$divide\",\n            value: function $divide() {\n              var _clone5;\n\n              return (_clone5 = this.clone()).divide.apply(_clone5, arguments);\n            }\n          }, {\n            key: \"magnitudeSq\",\n            value: function magnitudeSq() {\n              return LinearAlgebra_1.Vec.dot(this, this);\n            }\n          }, {\n            key: \"magnitude\",\n            value: function magnitude() {\n              return LinearAlgebra_1.Vec.magnitude(this);\n            }\n          }, {\n            key: \"unit\",\n            value: function unit() {\n              var magnitude = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n              LinearAlgebra_1.Vec.unit(this, magnitude);\n              return this;\n            }\n          }, {\n            key: \"$unit\",\n            value: function $unit() {\n              var magnitude = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n              return this.clone().unit(magnitude);\n            }\n          }, {\n            key: \"dot\",\n            value: function dot() {\n              for (var _len9 = arguments.length, args = Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {\n                args[_key9] = arguments[_key9];\n              }\n\n              return LinearAlgebra_1.Vec.dot(this, Util_1.Util.getArgs(args));\n            }\n          }, {\n            key: \"$cross2D\",\n            value: function $cross2D() {\n              for (var _len10 = arguments.length, args = Array(_len10), _key10 = 0; _key10 < _len10; _key10++) {\n                args[_key10] = arguments[_key10];\n              }\n\n              return LinearAlgebra_1.Vec.cross2D(this, Util_1.Util.getArgs(args));\n            }\n          }, {\n            key: \"$cross\",\n            value: function $cross() {\n              for (var _len11 = arguments.length, args = Array(_len11), _key11 = 0; _key11 < _len11; _key11++) {\n                args[_key11] = arguments[_key11];\n              }\n\n              return LinearAlgebra_1.Vec.cross(this, Util_1.Util.getArgs(args));\n            }\n          }, {\n            key: \"$project\",\n            value: function $project() {\n              return this.$multiply(this.dot.apply(this, arguments) / this.magnitudeSq());\n            }\n          }, {\n            key: \"projectScalar\",\n            value: function projectScalar() {\n              return this.dot.apply(this, arguments) / this.magnitude();\n            }\n          }, {\n            key: \"abs\",\n            value: function abs() {\n              LinearAlgebra_1.Vec.abs(this);\n              return this;\n            }\n          }, {\n            key: \"$abs\",\n            value: function $abs() {\n              return this.clone().abs();\n            }\n          }, {\n            key: \"floor\",\n            value: function floor() {\n              LinearAlgebra_1.Vec.floor(this);\n              return this;\n            }\n          }, {\n            key: \"$floor\",\n            value: function $floor() {\n              return this.clone().floor();\n            }\n          }, {\n            key: \"ceil\",\n            value: function ceil() {\n              LinearAlgebra_1.Vec.ceil(this);\n              return this;\n            }\n          }, {\n            key: \"$ceil\",\n            value: function $ceil() {\n              return this.clone().ceil();\n            }\n          }, {\n            key: \"round\",\n            value: function round() {\n              LinearAlgebra_1.Vec.round(this);\n              return this;\n            }\n          }, {\n            key: \"$round\",\n            value: function $round() {\n              return this.clone().round();\n            }\n          }, {\n            key: \"minValue\",\n            value: function minValue() {\n              return LinearAlgebra_1.Vec.min(this);\n            }\n          }, {\n            key: \"maxValue\",\n            value: function maxValue() {\n              return LinearAlgebra_1.Vec.max(this);\n            }\n          }, {\n            key: \"$min\",\n            value: function $min() {\n              for (var _len12 = arguments.length, args = Array(_len12), _key12 = 0; _key12 < _len12; _key12++) {\n                args[_key12] = arguments[_key12];\n              }\n\n              var p = Util_1.Util.getArgs(args);\n              var m = this.clone();\n\n              for (var i = 0, len = Math.min(this.length, p.length); i < len; i++) {\n                m[i] = Math.min(this[i], p[i]);\n              }\n\n              return m;\n            }\n          }, {\n            key: \"$max\",\n            value: function $max() {\n              for (var _len13 = arguments.length, args = Array(_len13), _key13 = 0; _key13 < _len13; _key13++) {\n                args[_key13] = arguments[_key13];\n              }\n\n              var p = Util_1.Util.getArgs(args);\n              var m = this.clone();\n\n              for (var i = 0, len = Math.min(this.length, p.length); i < len; i++) {\n                m[i] = Math.max(this[i], p[i]);\n              }\n\n              return m;\n            }\n          }, {\n            key: \"angle\",\n            value: function angle() {\n              var axis = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Util_1.Const.xy;\n              return Math.atan2(this[axis[1]], this[axis[0]]);\n            }\n          }, {\n            key: \"angleBetween\",\n            value: function angleBetween(p) {\n              var axis = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Util_1.Const.xy;\n              return Num_1.Geom.boundRadian(this.angle(axis)) - Num_1.Geom.boundRadian(p.angle(axis));\n            }\n          }, {\n            key: \"scale\",\n            value: function scale(_scale, anchor) {\n              Num_1.Geom.scale(this, _scale, anchor || Pt.make(this.length, 0));\n              return this;\n            }\n          }, {\n            key: \"rotate2D\",\n            value: function rotate2D(angle, anchor, axis) {\n              Num_1.Geom.rotate2D(this, angle, anchor || Pt.make(this.length, 0), axis);\n              return this;\n            }\n          }, {\n            key: \"shear2D\",\n            value: function shear2D(scale, anchor, axis) {\n              Num_1.Geom.shear2D(this, scale, anchor || Pt.make(this.length, 0), axis);\n              return this;\n            }\n          }, {\n            key: \"reflect2D\",\n            value: function reflect2D(line, axis) {\n              Num_1.Geom.reflect2D(this, line, axis);\n              return this;\n            }\n          }, {\n            key: \"toString\",\n            value: function toString() {\n              return \"Pt(\" + this.join(\", \") + \")\";\n            }\n          }, {\n            key: \"toArray\",\n            value: function toArray() {\n              return [].slice.call(this);\n            }\n          }, {\n            key: \"toGroup\",\n            value: function toGroup() {\n              return new Group(Pt.make(this.length), this.clone());\n            }\n          }, {\n            key: \"toBound\",\n            value: function toBound() {\n              return new Bound(Pt.make(this.length), this.clone());\n            }\n          }, {\n            key: \"id\",\n            get: function get() {\n              return this._id;\n            },\n            set: function set(s) {\n              this._id = s;\n            }\n          }, {\n            key: \"x\",\n            get: function get() {\n              return this[0];\n            },\n            set: function set(n) {\n              this[0] = n;\n            }\n          }, {\n            key: \"y\",\n            get: function get() {\n              return this[1];\n            },\n            set: function set(n) {\n              this[1] = n;\n            }\n          }, {\n            key: \"z\",\n            get: function get() {\n              return this[2];\n            },\n            set: function set(n) {\n              this[2] = n;\n            }\n          }, {\n            key: \"w\",\n            get: function get() {\n              return this[3];\n            },\n            set: function set(n) {\n              this[3] = n;\n            }\n          }], [{\n            key: \"make\",\n            value: function make(dimensions) {\n              var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n              var randomize = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              var p = new Float32Array(dimensions);\n              if (defaultValue) p.fill(defaultValue);\n\n              if (randomize) {\n                for (var i = 0, len = p.length; i < len; i++) {\n                  p[i] = p[i] * Math.random();\n                }\n              }\n\n              return new Pt(p);\n            }\n          }]);\n\n          return Pt;\n        }(_extendableBuiltin(Float32Array));\n\n        exports.Pt = Pt;\n\n        var Group = function (_extendableBuiltin4) {\n          _inherits(Group, _extendableBuiltin4);\n\n          function Group() {\n            var _ref;\n\n            _classCallCheck(this, Group);\n\n            for (var _len14 = arguments.length, args = Array(_len14), _key14 = 0; _key14 < _len14; _key14++) {\n              args[_key14] = arguments[_key14];\n            }\n\n            return _possibleConstructorReturn(this, (_ref = Group.__proto__ || Object.getPrototypeOf(Group)).call.apply(_ref, [this].concat(args)));\n          }\n\n          _createClass(Group, [{\n            key: \"clone\",\n            value: function clone() {\n              var group = new Group();\n\n              for (var i = 0, len = this.length; i < len; i++) {\n                group.push(this[i].clone());\n              }\n\n              return group;\n            }\n          }, {\n            key: \"split\",\n            value: function split(chunkSize, stride) {\n              var loopBack = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              var sp = Util_1.Util.split(this, chunkSize, stride, loopBack);\n              return sp;\n            }\n          }, {\n            key: \"insert\",\n            value: function insert(pts) {\n              var index = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n              Group.prototype.splice.apply(this, [index, 0].concat(_toConsumableArray(pts)));\n              return this;\n            }\n          }, {\n            key: \"remove\",\n            value: function remove() {\n              var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n              var count = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var param = index < 0 ? [index * -1 - 1, count] : [index, count];\n              return Group.prototype.splice.apply(this, param);\n            }\n          }, {\n            key: \"segments\",\n            value: function segments() {\n              var pts_per_segment = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 2;\n              var stride = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var loopBack = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              return this.split(pts_per_segment, stride, loopBack);\n            }\n          }, {\n            key: \"lines\",\n            value: function lines() {\n              return this.segments(2, 1);\n            }\n          }, {\n            key: \"centroid\",\n            value: function centroid() {\n              return Num_1.Geom.centroid(this);\n            }\n          }, {\n            key: \"boundingBox\",\n            value: function boundingBox() {\n              return Num_1.Geom.boundingBox(this);\n            }\n          }, {\n            key: \"anchorTo\",\n            value: function anchorTo() {\n              var ptOrIndex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n              Num_1.Geom.anchor(this, ptOrIndex, \"to\");\n            }\n          }, {\n            key: \"anchorFrom\",\n            value: function anchorFrom() {\n              var ptOrIndex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n              Num_1.Geom.anchor(this, ptOrIndex, \"from\");\n            }\n          }, {\n            key: \"op\",\n            value: function op(fn) {\n              var self = this;\n              return function () {\n                for (var _len15 = arguments.length, params = Array(_len15), _key15 = 0; _key15 < _len15; _key15++) {\n                  params[_key15] = arguments[_key15];\n                }\n\n                return fn.apply(undefined, [self].concat(params));\n              };\n            }\n          }, {\n            key: \"ops\",\n            value: function ops(fns) {\n              var _ops = [];\n\n              for (var i = 0, len = fns.length; i < len; i++) {\n                _ops.push(this.op(fns[i]));\n              }\n\n              return _ops;\n            }\n          }, {\n            key: \"interpolate\",\n            value: function interpolate(t) {\n              t = Num_1.Num.clamp(t, 0, 1);\n              var chunk = this.length - 1;\n              var tc = 1 / (this.length - 1);\n              var idx = Math.floor(t / tc);\n              return Num_1.Geom.interpolate(this[idx], this[Math.min(this.length - 1, idx + 1)], (t - idx * tc) * chunk);\n            }\n          }, {\n            key: \"moveBy\",\n            value: function moveBy() {\n              return this.add.apply(this, arguments);\n            }\n          }, {\n            key: \"moveTo\",\n            value: function moveTo() {\n              for (var _len16 = arguments.length, args = Array(_len16), _key16 = 0; _key16 < _len16; _key16++) {\n                args[_key16] = arguments[_key16];\n              }\n\n              var d = new Pt(Util_1.Util.getArgs(args)).subtract(this[0]);\n              this.moveBy(d);\n              return this;\n            }\n          }, {\n            key: \"scale\",\n            value: function scale(_scale2, anchor) {\n              for (var i = 0, len = this.length; i < len; i++) {\n                Num_1.Geom.scale(this[i], _scale2, anchor || this[0]);\n              }\n\n              return this;\n            }\n          }, {\n            key: \"rotate2D\",\n            value: function rotate2D(angle, anchor, axis) {\n              for (var i = 0, len = this.length; i < len; i++) {\n                Num_1.Geom.rotate2D(this[i], angle, anchor || this[0], axis);\n              }\n\n              return this;\n            }\n          }, {\n            key: \"shear2D\",\n            value: function shear2D(scale, anchor, axis) {\n              for (var i = 0, len = this.length; i < len; i++) {\n                Num_1.Geom.shear2D(this[i], scale, anchor || this[0], axis);\n              }\n\n              return this;\n            }\n          }, {\n            key: \"reflect2D\",\n            value: function reflect2D(line, axis) {\n              for (var i = 0, len = this.length; i < len; i++) {\n                Num_1.Geom.reflect2D(this[i], line, axis);\n              }\n\n              return this;\n            }\n          }, {\n            key: \"sortByDimension\",\n            value: function sortByDimension(dim) {\n              var desc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              return this.sort(function (a, b) {\n                return desc ? b[dim] - a[dim] : a[dim] - b[dim];\n              });\n            }\n          }, {\n            key: \"forEachPt\",\n            value: function forEachPt(ptFn) {\n              if (!this[0][ptFn]) {\n                Util_1.Util.warn(ptFn + \" is not a function of Pt\");\n                return this;\n              }\n\n              for (var _len17 = arguments.length, args = Array(_len17 > 1 ? _len17 - 1 : 0), _key17 = 1; _key17 < _len17; _key17++) {\n                args[_key17 - 1] = arguments[_key17];\n              }\n\n              for (var i = 0, len = this.length; i < len; i++) {\n                var _i;\n\n                this[i] = (_i = this[i])[ptFn].apply(_i, args);\n              }\n\n              return this;\n            }\n          }, {\n            key: \"add\",\n            value: function add() {\n              for (var _len18 = arguments.length, args = Array(_len18), _key18 = 0; _key18 < _len18; _key18++) {\n                args[_key18] = arguments[_key18];\n              }\n\n              return this.forEachPt.apply(this, [\"add\"].concat(args));\n            }\n          }, {\n            key: \"subtract\",\n            value: function subtract() {\n              for (var _len19 = arguments.length, args = Array(_len19), _key19 = 0; _key19 < _len19; _key19++) {\n                args[_key19] = arguments[_key19];\n              }\n\n              return this.forEachPt.apply(this, [\"subtract\"].concat(args));\n            }\n          }, {\n            key: \"multiply\",\n            value: function multiply() {\n              for (var _len20 = arguments.length, args = Array(_len20), _key20 = 0; _key20 < _len20; _key20++) {\n                args[_key20] = arguments[_key20];\n              }\n\n              return this.forEachPt.apply(this, [\"multiply\"].concat(args));\n            }\n          }, {\n            key: \"divide\",\n            value: function divide() {\n              for (var _len21 = arguments.length, args = Array(_len21), _key21 = 0; _key21 < _len21; _key21++) {\n                args[_key21] = arguments[_key21];\n              }\n\n              return this.forEachPt.apply(this, [\"divide\"].concat(args));\n            }\n          }, {\n            key: \"$matrixAdd\",\n            value: function $matrixAdd(g) {\n              return LinearAlgebra_1.Mat.add(this, g);\n            }\n          }, {\n            key: \"$matrixMultiply\",\n            value: function $matrixMultiply(g) {\n              var transposed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              var elementwise = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n              return LinearAlgebra_1.Mat.multiply(this, g, transposed, elementwise);\n            }\n          }, {\n            key: \"zipSlice\",\n            value: function zipSlice(index) {\n              var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              return LinearAlgebra_1.Mat.zipSlice(this, index, defaultValue);\n            }\n          }, {\n            key: \"$zip\",\n            value: function $zip() {\n              var defaultValue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n              var useLongest = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n              return LinearAlgebra_1.Mat.zip(this, defaultValue, useLongest);\n            }\n          }, {\n            key: \"toString\",\n            value: function toString() {\n              return \"Group[ \" + this.reduce(function (p, c) {\n                return p + c.toString() + \" \";\n              }, \"\") + \" ]\";\n            }\n          }, {\n            key: \"id\",\n            get: function get() {\n              return this._id;\n            },\n            set: function set(s) {\n              this._id = s;\n            }\n          }, {\n            key: \"p1\",\n            get: function get() {\n              return this[0];\n            }\n          }, {\n            key: \"p2\",\n            get: function get() {\n              return this[1];\n            }\n          }, {\n            key: \"p3\",\n            get: function get() {\n              return this[2];\n            }\n          }, {\n            key: \"p4\",\n            get: function get() {\n              return this[3];\n            }\n          }, {\n            key: \"q1\",\n            get: function get() {\n              return this[this.length - 1];\n            }\n          }, {\n            key: \"q2\",\n            get: function get() {\n              return this[this.length - 2];\n            }\n          }, {\n            key: \"q3\",\n            get: function get() {\n              return this[this.length - 3];\n            }\n          }, {\n            key: \"q4\",\n            get: function get() {\n              return this[this.length - 4];\n            }\n          }], [{\n            key: \"fromArray\",\n            value: function fromArray(list) {\n              var g = new Group();\n\n              for (var i = 0, len = list.length; i < len; i++) {\n                var p = list[i] instanceof Pt ? list[i] : new Pt(list[i]);\n                g.push(p);\n              }\n\n              return g;\n            }\n          }, {\n            key: \"fromPtArray\",\n            value: function fromPtArray(list) {\n              return Group.from(list);\n            }\n          }]);\n\n          return Group;\n        }(_extendableBuiltin3(Array));\n\n        exports.Group = Group;\n\n        var Bound = function (_Group) {\n          _inherits(Bound, _Group);\n\n          function Bound() {\n            var _ref2;\n\n            _classCallCheck(this, Bound);\n\n            for (var _len22 = arguments.length, args = Array(_len22), _key22 = 0; _key22 < _len22; _key22++) {\n              args[_key22] = arguments[_key22];\n            }\n\n            var _this3 = _possibleConstructorReturn(this, (_ref2 = Bound.__proto__ || Object.getPrototypeOf(Bound)).call.apply(_ref2, [this].concat(args)));\n\n            _this3._center = new Pt();\n            _this3._size = new Pt();\n            _this3._topLeft = new Pt();\n            _this3._bottomRight = new Pt();\n            _this3._inited = false;\n\n            _this3.init();\n\n            return _this3;\n          }\n\n          _createClass(Bound, [{\n            key: \"init\",\n            value: function init() {\n              if (this.p1) {\n                this._size = this.p1.clone();\n                this._inited = true;\n              }\n\n              if (this.p1 && this.p2) {\n                var a = this.p1;\n                var b = this.p2;\n                this.topLeft = a.$min(b);\n                this._bottomRight = a.$max(b);\n\n                this._updateSize();\n\n                this._inited = true;\n              }\n            }\n          }, {\n            key: \"clone\",\n            value: function clone() {\n              return new Bound(this._topLeft.clone(), this._bottomRight.clone());\n            }\n          }, {\n            key: \"_updateSize\",\n            value: function _updateSize() {\n              this._size = this._bottomRight.$subtract(this._topLeft).abs();\n\n              this._updateCenter();\n            }\n          }, {\n            key: \"_updateCenter\",\n            value: function _updateCenter() {\n              this._center = this._size.$multiply(0.5).add(this._topLeft);\n            }\n          }, {\n            key: \"_updatePosFromTop\",\n            value: function _updatePosFromTop() {\n              this._bottomRight = this._topLeft.$add(this._size);\n\n              this._updateCenter();\n            }\n          }, {\n            key: \"_updatePosFromBottom\",\n            value: function _updatePosFromBottom() {\n              this._topLeft = this._bottomRight.$subtract(this._size);\n\n              this._updateCenter();\n            }\n          }, {\n            key: \"_updatePosFromCenter\",\n            value: function _updatePosFromCenter() {\n              var half = this._size.$multiply(0.5);\n\n              this._topLeft = this._center.$subtract(half);\n              this._bottomRight = this._center.$add(half);\n            }\n          }, {\n            key: \"update\",\n            value: function update() {\n              this._topLeft = this[0];\n              this._bottomRight = this[1];\n\n              this._updateSize();\n\n              return this;\n            }\n          }, {\n            key: \"size\",\n            get: function get() {\n              return new Pt(this._size);\n            },\n            set: function set(p) {\n              this._size = new Pt(p);\n\n              this._updatePosFromTop();\n            }\n          }, {\n            key: \"center\",\n            get: function get() {\n              return new Pt(this._center);\n            },\n            set: function set(p) {\n              this._center = new Pt(p);\n\n              this._updatePosFromCenter();\n            }\n          }, {\n            key: \"topLeft\",\n            get: function get() {\n              return new Pt(this._topLeft);\n            },\n            set: function set(p) {\n              this._topLeft = new Pt(p);\n              this[0] = this._topLeft;\n\n              this._updateSize();\n            }\n          }, {\n            key: \"bottomRight\",\n            get: function get() {\n              return new Pt(this._bottomRight);\n            },\n            set: function set(p) {\n              this._bottomRight = new Pt(p);\n              this[1] = this._bottomRight;\n\n              this._updateSize();\n            }\n          }, {\n            key: \"width\",\n            get: function get() {\n              return this._size.length > 0 ? this._size.x : 0;\n            },\n            set: function set(w) {\n              this._size.x = w;\n\n              this._updatePosFromTop();\n            }\n          }, {\n            key: \"height\",\n            get: function get() {\n              return this._size.length > 1 ? this._size.y : 0;\n            },\n            set: function set(h) {\n              this._size.y = h;\n\n              this._updatePosFromTop();\n            }\n          }, {\n            key: \"depth\",\n            get: function get() {\n              return this._size.length > 2 ? this._size.z : 0;\n            },\n            set: function set(d) {\n              this._size.z = d;\n\n              this._updatePosFromTop();\n            }\n          }, {\n            key: \"x\",\n            get: function get() {\n              return this.topLeft.x;\n            }\n          }, {\n            key: \"y\",\n            get: function get() {\n              return this.topLeft.y;\n            }\n          }, {\n            key: \"z\",\n            get: function get() {\n              return this.topLeft.z;\n            }\n          }, {\n            key: \"inited\",\n            get: function get() {\n              return this._inited;\n            }\n          }], [{\n            key: \"fromBoundingRect\",\n            value: function fromBoundingRect(rect) {\n              var b = new Bound(new Pt(rect.left || 0, rect.top || 0), new Pt(rect.right || 0, rect.bottom || 0));\n              if (rect.width && rect.height) b.size = new Pt(rect.width, rect.height);\n              return b;\n            }\n          }, {\n            key: \"fromGroup\",\n            value: function fromGroup(g) {\n              if (g.length < 2) throw new Error(\"Cannot create a Bound from a group that has less than 2 Pt\");\n              return new Bound(g[0], g[g.length - 1]);\n            }\n          }]);\n\n          return Bound;\n        }(Group);\n\n        exports.Bound = Bound;\n        /***/\n      },\n\n      /***/\n      \"./src/Space.ts\":\n      /*!**********************!*\\\n        !*** ./src/Space.ts ***!\n        \\**********************/\n\n      /*! no static exports found */\n\n      /***/\n      function srcSpaceTs(module, exports, __webpack_require__) {\n        \"use strict\";\n        /*! Source code licensed under Apache License 2.0. Copyright  2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var Pt_1 = __webpack_require__(\n        /*! ./Pt */\n        \"./src/Pt.ts\");\n\n        var UI_1 = __webpack_require__(\n        /*! ./UI */\n        \"./src/UI.ts\");\n\n        var Space = function () {\n          function Space() {\n            _classCallCheck(this, Space);\n\n            this.id = \"space\";\n            this.bound = new Pt_1.Bound();\n            this._time = {\n              prev: 0,\n              diff: 0,\n              end: -1\n            };\n            this.players = {};\n            this.playerCount = 0;\n            this._animID = -1;\n            this._pause = false;\n            this._refresh = undefined;\n            this._pointer = new Pt_1.Pt();\n            this._isReady = false;\n            this._playing = false;\n          }\n\n          _createClass(Space, [{\n            key: \"refresh\",\n            value: function refresh(b) {\n              this._refresh = b;\n              return this;\n            }\n          }, {\n            key: \"add\",\n            value: function add(p) {\n              var player = typeof p == \"function\" ? {\n                animate: p\n              } : p;\n              var k = this.playerCount++;\n              var pid = this.id + k;\n              this.players[pid] = player;\n              player.animateID = pid;\n              if (player.resize && this.bound.inited) player.resize(this.bound);\n              if (this._refresh === undefined) this._refresh = true;\n              return this;\n            }\n          }, {\n            key: \"remove\",\n            value: function remove(player) {\n              delete this.players[player.animateID];\n              return this;\n            }\n          }, {\n            key: \"removeAll\",\n            value: function removeAll() {\n              this.players = {};\n              return this;\n            }\n          }, {\n            key: \"play\",\n            value: function play() {\n              var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n              if (time === 0 && this._animID !== -1) {\n                return;\n              }\n\n              this._animID = requestAnimationFrame(this.play.bind(this));\n              if (this._pause) return this;\n              this._time.diff = time - this._time.prev;\n              this._time.prev = time;\n\n              try {\n                this.playItems(time);\n              } catch (err) {\n                cancelAnimationFrame(this._animID);\n                this._animID = -1;\n                this._playing = false;\n                throw err;\n              }\n\n              return this;\n            }\n          }, {\n            key: \"replay\",\n            value: function replay() {\n              this._time.end = -1;\n              this.play();\n            }\n          }, {\n            key: \"playItems\",\n            value: function playItems(time) {\n              this._playing = true;\n              if (this._refresh) this.clear();\n\n              if (this._isReady) {\n                for (var k in this.players) {\n                  if (this.players[k].animate) this.players[k].animate(time, this._time.diff, this);\n                }\n              }\n\n              if (this._time.end >= 0 && time > this._time.end) {\n                cancelAnimationFrame(this._animID);\n                this._animID = -1;\n                this._playing = false;\n              }\n            }\n          }, {\n            key: \"pause\",\n            value: function pause() {\n              var toggle = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n              this._pause = toggle ? !this._pause : true;\n              return this;\n            }\n          }, {\n            key: \"resume\",\n            value: function resume() {\n              this._pause = false;\n              return this;\n            }\n          }, {\n            key: \"stop\",\n            value: function stop() {\n              var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n              this._time.end = t;\n              return this;\n            }\n          }, {\n            key: \"playOnce\",\n            value: function playOnce() {\n              var duration = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 5000;\n              this.play();\n              this.stop(duration);\n              return this;\n            }\n          }, {\n            key: \"render\",\n            value: function render(context) {\n              if (this._renderFunc) this._renderFunc(context, this);\n              return this;\n            }\n          }, {\n            key: \"customRendering\",\n            set: function set(f) {\n              this._renderFunc = f;\n            },\n            get: function get() {\n              return this._renderFunc;\n            }\n          }, {\n            key: \"isPlaying\",\n            get: function get() {\n              return this._playing;\n            }\n          }, {\n            key: \"outerBound\",\n            get: function get() {\n              return this.bound.clone();\n            }\n          }, {\n            key: \"innerBound\",\n            get: function get() {\n              return new Pt_1.Bound(Pt_1.Pt.make(this.size.length, 0), this.size.clone());\n            }\n          }, {\n            key: \"size\",\n            get: function get() {\n              return this.bound.size.clone();\n            }\n          }, {\n            key: \"center\",\n            get: function get() {\n              return this.size.divide(2);\n            }\n          }, {\n            key: \"width\",\n            get: function get() {\n              return this.bound.width;\n            }\n          }, {\n            key: \"height\",\n            get: function get() {\n              return this.bound.height;\n            }\n          }]);\n\n          return Space;\n        }();\n\n        exports.Space = Space;\n\n        var MultiTouchSpace = function (_Space) {\n          _inherits(MultiTouchSpace, _Space);\n\n          function MultiTouchSpace() {\n            _classCallCheck(this, MultiTouchSpace);\n\n            var _this = _possibleConstructorReturn(this, (MultiTouchSpace.__proto__ || Object.getPrototypeOf(MultiTouchSpace)).apply(this, arguments));\n\n            _this._pressed = false;\n            _this._dragged = false;\n            _this._hasMouse = false;\n            _this._hasTouch = false;\n            return _this;\n          }\n\n          _createClass(MultiTouchSpace, [{\n            key: \"bindCanvas\",\n            value: function bindCanvas(evt, callback) {\n              this._canvas.addEventListener(evt, callback);\n            }\n          }, {\n            key: \"unbindCanvas\",\n            value: function unbindCanvas(evt, callback) {\n              this._canvas.removeEventListener(evt, callback);\n            }\n          }, {\n            key: \"bindMouse\",\n            value: function bindMouse() {\n              var _bind = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n              if (_bind) {\n                this.bindCanvas(\"mousedown\", this._mouseDown.bind(this));\n                this.bindCanvas(\"mouseup\", this._mouseUp.bind(this));\n                this.bindCanvas(\"mouseover\", this._mouseOver.bind(this));\n                this.bindCanvas(\"mouseout\", this._mouseOut.bind(this));\n                this.bindCanvas(\"mousemove\", this._mouseMove.bind(this));\n                this.bindCanvas(\"contextmenu\", this._contextMenu.bind(this));\n                this._hasMouse = true;\n              } else {\n                this.unbindCanvas(\"mousedown\", this._mouseDown.bind(this));\n                this.unbindCanvas(\"mouseup\", this._mouseUp.bind(this));\n                this.unbindCanvas(\"mouseover\", this._mouseOver.bind(this));\n                this.unbindCanvas(\"mouseout\", this._mouseOut.bind(this));\n                this.unbindCanvas(\"mousemove\", this._mouseMove.bind(this));\n                this.unbindCanvas(\"contextmenu\", this._contextMenu.bind(this));\n                this._hasMouse = false;\n              }\n\n              return this;\n            }\n          }, {\n            key: \"bindTouch\",\n            value: function bindTouch() {\n              var _bind = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n              if (_bind) {\n                this.bindCanvas(\"touchstart\", this._touchStart.bind(this));\n                this.bindCanvas(\"touchend\", this._mouseUp.bind(this));\n                this.bindCanvas(\"touchmove\", this._touchMove.bind(this));\n                this.bindCanvas(\"touchcancel\", this._mouseOut.bind(this));\n                this._hasTouch = true;\n              } else {\n                this.unbindCanvas(\"touchstart\", this._touchStart.bind(this));\n                this.unbindCanvas(\"touchend\", this._mouseUp.bind(this));\n                this.unbindCanvas(\"touchmove\", this._touchMove.bind(this));\n                this.unbindCanvas(\"touchcancel\", this._mouseOut.bind(this));\n                this._hasTouch = false;\n              }\n\n              return this;\n            }\n          }, {\n            key: \"touchesToPoints\",\n            value: function touchesToPoints(evt) {\n              var which = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"touches\";\n              if (!evt || !evt[which]) return [];\n              var ts = [];\n\n              for (var i = 0; i < evt[which].length; i++) {\n                var t = evt[which].item(i);\n                ts.push(new Pt_1.Pt(t.pageX - this.bound.topLeft.x, t.pageY - this.bound.topLeft.y));\n              }\n\n              return ts;\n            }\n          }, {\n            key: \"_mouseAction\",\n            value: function _mouseAction(type, evt) {\n              var px = 0,\n                  py = 0;\n\n              if (evt instanceof MouseEvent) {\n                for (var k in this.players) {\n                  if (this.players.hasOwnProperty(k)) {\n                    var v = this.players[k];\n                    px = evt.pageX - this.outerBound.x;\n                    py = evt.pageY - this.outerBound.y;\n                    if (v.action) v.action(type, px, py, evt);\n                  }\n                }\n              } else {\n                for (var _k in this.players) {\n                  if (this.players.hasOwnProperty(_k)) {\n                    var _v = this.players[_k];\n                    var c = evt.changedTouches && evt.changedTouches.length > 0;\n                    var touch = evt.changedTouches.item(0);\n                    px = c ? touch.pageX - this.outerBound.x : 0;\n                    py = c ? touch.pageY - this.outerBound.y : 0;\n                    if (_v.action) _v.action(type, px, py, evt);\n                  }\n                }\n              }\n\n              if (type) {\n                this._pointer.to(px, py);\n\n                this._pointer.id = type;\n              }\n            }\n          }, {\n            key: \"_mouseDown\",\n            value: function _mouseDown(evt) {\n              this._mouseAction(UI_1.UIPointerActions.down, evt);\n\n              this._pressed = true;\n              return false;\n            }\n          }, {\n            key: \"_mouseUp\",\n            value: function _mouseUp(evt) {\n              if (this._dragged) {\n                this._mouseAction(UI_1.UIPointerActions.drop, evt);\n              } else {\n                this._mouseAction(UI_1.UIPointerActions.up, evt);\n              }\n\n              this._pressed = false;\n              this._dragged = false;\n              return false;\n            }\n          }, {\n            key: \"_mouseMove\",\n            value: function _mouseMove(evt) {\n              this._mouseAction(UI_1.UIPointerActions.move, evt);\n\n              if (this._pressed) {\n                this._dragged = true;\n\n                this._mouseAction(UI_1.UIPointerActions.drag, evt);\n              }\n\n              return false;\n            }\n          }, {\n            key: \"_mouseOver\",\n            value: function _mouseOver(evt) {\n              this._mouseAction(UI_1.UIPointerActions.over, evt);\n\n              return false;\n            }\n          }, {\n            key: \"_mouseOut\",\n            value: function _mouseOut(evt) {\n              this._mouseAction(UI_1.UIPointerActions.out, evt);\n\n              if (this._dragged) this._mouseAction(UI_1.UIPointerActions.drop, evt);\n              this._dragged = false;\n              return false;\n            }\n          }, {\n            key: \"_contextMenu\",\n            value: function _contextMenu(evt) {\n              this._mouseAction(UI_1.UIPointerActions.contextmenu, evt);\n\n              return false;\n            }\n          }, {\n            key: \"_touchMove\",\n            value: function _touchMove(evt) {\n              this._mouseMove(evt);\n\n              evt.preventDefault();\n              return false;\n            }\n          }, {\n            key: \"_touchStart\",\n            value: function _touchStart(evt) {\n              this._mouseDown(evt);\n\n              evt.preventDefault();\n              return false;\n            }\n          }, {\n            key: \"pointer\",\n            get: function get() {\n              var p = this._pointer.clone();\n\n              p.id = this._pointer.id;\n              return p;\n            }\n          }]);\n\n          return MultiTouchSpace;\n        }(Space);\n\n        exports.MultiTouchSpace = MultiTouchSpace;\n        /***/\n      },\n\n      /***/\n      \"./src/Svg.ts\":\n      /*!********************!*\\\n        !*** ./src/Svg.ts ***!\n        \\********************/\n\n      /*! no static exports found */\n\n      /***/\n      function srcSvgTs(module, exports, __webpack_require__) {\n        \"use strict\";\n        /*! Source code licensed under Apache License 2.0. Copyright  2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        var _get = function get(object, property, receiver) {\n          if (object === null) object = Function.prototype;\n          var desc = Object.getOwnPropertyDescriptor(object, property);\n\n          if (desc === undefined) {\n            var parent = Object.getPrototypeOf(object);\n\n            if (parent === null) {\n              return undefined;\n            } else {\n              return get(parent, property, receiver);\n            }\n          } else if (\"value\" in desc) {\n            return desc.value;\n          } else {\n            var getter = desc.get;\n\n            if (getter === undefined) {\n              return undefined;\n            }\n\n            return getter.call(receiver);\n          }\n        };\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var Form_1 = __webpack_require__(\n        /*! ./Form */\n        \"./src/Form.ts\");\n\n        var Num_1 = __webpack_require__(\n        /*! ./Num */\n        \"./src/Num.ts\");\n\n        var Util_1 = __webpack_require__(\n        /*! ./Util */\n        \"./src/Util.ts\");\n\n        var Pt_1 = __webpack_require__(\n        /*! ./Pt */\n        \"./src/Pt.ts\");\n\n        var Op_1 = __webpack_require__(\n        /*! ./Op */\n        \"./src/Op.ts\");\n\n        var Dom_1 = __webpack_require__(\n        /*! ./Dom */\n        \"./src/Dom.ts\");\n\n        var SVGSpace = function (_Dom_1$DOMSpace) {\n          _inherits(SVGSpace, _Dom_1$DOMSpace);\n\n          function SVGSpace(elem, callback) {\n            _classCallCheck(this, SVGSpace);\n\n            var _this = _possibleConstructorReturn(this, (SVGSpace.__proto__ || Object.getPrototypeOf(SVGSpace)).call(this, elem, callback));\n\n            _this._bgcolor = \"#999\";\n\n            if (_this._canvas.nodeName.toLowerCase() != \"svg\") {\n              var s = SVGSpace.svgElement(_this._canvas, \"svg\", _this.id + \"_svg\");\n              _this._container = _this._canvas;\n              _this._canvas = s;\n            }\n\n            return _this;\n          }\n\n          _createClass(SVGSpace, [{\n            key: \"getForm\",\n            value: function getForm() {\n              return new SVGForm(this);\n            }\n          }, {\n            key: \"resize\",\n            value: function resize(b, evt) {\n              _get(SVGSpace.prototype.__proto__ || Object.getPrototypeOf(SVGSpace.prototype), \"resize\", this).call(this, b, evt);\n\n              SVGSpace.setAttr(this.element, {\n                \"viewBox\": \"0 0 \" + this.bound.width + \" \" + this.bound.height,\n                \"width\": \"\" + this.bound.width,\n                \"height\": \"\" + this.bound.height,\n                \"xmlns\": \"http://www.w3.org/2000/svg\",\n                \"version\": \"1.1\"\n              });\n              return this;\n            }\n          }, {\n            key: \"remove\",\n            value: function remove(player) {\n              var temp = this._container.querySelectorAll(\".\" + SVGForm.scopeID(player));\n\n              temp.forEach(function (el) {\n                el.parentNode.removeChild(el);\n              });\n              return _get(SVGSpace.prototype.__proto__ || Object.getPrototypeOf(SVGSpace.prototype), \"remove\", this).call(this, player);\n            }\n          }, {\n            key: \"removeAll\",\n            value: function removeAll() {\n              this._container.innerHTML = \"\";\n              return _get(SVGSpace.prototype.__proto__ || Object.getPrototypeOf(SVGSpace.prototype), \"removeAll\", this).call(this);\n            }\n          }, {\n            key: \"element\",\n            get: function get() {\n              return this._canvas;\n            }\n          }], [{\n            key: \"svgElement\",\n            value: function svgElement(parent, name, id) {\n              if (!parent || !parent.appendChild) throw new Error(\"parent is not a valid DOM element\");\n              var elem = document.querySelector(\"#\" + id);\n\n              if (!elem) {\n                elem = document.createElementNS(\"http://www.w3.org/2000/svg\", name);\n                elem.setAttribute(\"id\", id);\n                parent.appendChild(elem);\n              }\n\n              return elem;\n            }\n          }]);\n\n          return SVGSpace;\n        }(Dom_1.DOMSpace);\n\n        exports.SVGSpace = SVGSpace;\n\n        var SVGForm = function (_Form_1$VisualForm) {\n          _inherits(SVGForm, _Form_1$VisualForm);\n\n          function SVGForm(space) {\n            _classCallCheck(this, SVGForm);\n\n            var _this2 = _possibleConstructorReturn(this, (SVGForm.__proto__ || Object.getPrototypeOf(SVGForm)).call(this));\n\n            _this2._style = {\n              \"filled\": true,\n              \"stroked\": true,\n              \"fill\": \"#f03\",\n              \"stroke\": \"#fff\",\n              \"stroke-width\": 1,\n              \"stroke-linejoin\": \"bevel\",\n              \"stroke-linecap\": \"sqaure\",\n              \"opacity\": 1\n            };\n            _this2._ctx = {\n              group: null,\n              groupID: \"pts\",\n              groupCount: 0,\n              currentID: \"pts0\",\n              currentClass: \"\",\n              style: {}\n            };\n            _this2._ready = false;\n            _this2._space = space;\n\n            _this2._space.add({\n              start: function start() {\n                _this2._ctx.group = _this2._space.element;\n                _this2._ctx.groupID = \"pts_svg_\" + SVGForm.groupID++;\n                _this2._ctx.style = Object.assign({}, _this2._style);\n                _this2._ready = true;\n              }\n            });\n\n            return _this2;\n          }\n\n          _createClass(SVGForm, [{\n            key: \"styleTo\",\n            value: function styleTo(k, v) {\n              if (this._ctx.style[k] === undefined) throw new Error(k + \" style property doesn't exist\");\n              this._ctx.style[k] = v;\n            }\n          }, {\n            key: \"alpha\",\n            value: function alpha(a) {\n              this.styleTo(\"opacity\", a);\n              return this;\n            }\n          }, {\n            key: \"fill\",\n            value: function fill(c) {\n              if (typeof c == \"boolean\") {\n                this.styleTo(\"filled\", c);\n              } else {\n                this.styleTo(\"filled\", true);\n                this.styleTo(\"fill\", c);\n              }\n\n              return this;\n            }\n          }, {\n            key: \"stroke\",\n            value: function stroke(c, width, linejoin, linecap) {\n              if (typeof c == \"boolean\") {\n                this.styleTo(\"stroked\", c);\n              } else {\n                this.styleTo(\"stroked\", true);\n                this.styleTo(\"stroke\", c);\n                if (width) this.styleTo(\"stroke-width\", width);\n                if (linejoin) this.styleTo(\"stroke-linejoin\", linejoin);\n                if (linecap) this.styleTo(\"stroke-linecap\", linecap);\n              }\n\n              return this;\n            }\n          }, {\n            key: \"cls\",\n            value: function cls(c) {\n              if (typeof c == \"boolean\") {\n                this._ctx.currentClass = \"\";\n              } else {\n                this._ctx.currentClass = c;\n              }\n\n              return this;\n            }\n          }, {\n            key: \"font\",\n            value: function font(sizeOrFont, weight, style, lineHeight, family) {\n              if (typeof sizeOrFont == \"number\") {\n                this._font.size = sizeOrFont;\n                if (family) this._font.face = family;\n                if (weight) this._font.weight = weight;\n                if (style) this._font.style = style;\n                if (lineHeight) this._font.lineHeight = lineHeight;\n              } else {\n                this._font = sizeOrFont;\n              }\n\n              this._ctx.style['font'] = this._font.value;\n              return this;\n            }\n          }, {\n            key: \"reset\",\n            value: function reset() {\n              this._ctx.style = Object.assign({}, this._style);\n              this._font = new Form_1.Font(10, \"sans-serif\");\n              this._ctx.style['font'] = this._font.value;\n              return this;\n            }\n          }, {\n            key: \"updateScope\",\n            value: function updateScope(group_id, group) {\n              this._ctx.group = group;\n              this._ctx.groupID = group_id;\n              this._ctx.groupCount = 0;\n              this.nextID();\n              return this._ctx;\n            }\n          }, {\n            key: \"scope\",\n            value: function scope(item) {\n              if (!item || item.animateID == null) throw new Error(\"item not defined or not yet added to Space\");\n              return this.updateScope(SVGForm.scopeID(item), this.space.element);\n            }\n          }, {\n            key: \"nextID\",\n            value: function nextID() {\n              this._ctx.groupCount++;\n              this._ctx.currentID = this._ctx.groupID + \"-\" + this._ctx.groupCount;\n              return this._ctx.currentID;\n            }\n          }, {\n            key: \"point\",\n            value: function point(pt) {\n              var radius = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 5;\n              var shape = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"square\";\n              this.nextID();\n              SVGForm.point(this._ctx, pt, radius, shape);\n              return this;\n            }\n          }, {\n            key: \"circle\",\n            value: function circle(pts) {\n              this.nextID();\n              SVGForm.circle(this._ctx, pts[0], pts[1][0]);\n              return this;\n            }\n          }, {\n            key: \"arc\",\n            value: function arc(pt, radius, startAngle, endAngle, cc) {\n              this.nextID();\n              SVGForm.arc(this._ctx, pt, radius, startAngle, endAngle, cc);\n              return this;\n            }\n          }, {\n            key: \"square\",\n            value: function square(pt, halfsize) {\n              this.nextID();\n              SVGForm.square(this._ctx, pt, halfsize);\n              return this;\n            }\n          }, {\n            key: \"line\",\n            value: function line(pts) {\n              this.nextID();\n              SVGForm.line(this._ctx, pts);\n              return this;\n            }\n          }, {\n            key: \"polygon\",\n            value: function polygon(pts) {\n              this.nextID();\n              SVGForm.polygon(this._ctx, pts);\n              return this;\n            }\n          }, {\n            key: \"rect\",\n            value: function rect(pts) {\n              this.nextID();\n              SVGForm.rect(this._ctx, pts);\n              return this;\n            }\n          }, {\n            key: \"text\",\n            value: function text(pt, txt) {\n              this.nextID();\n              SVGForm.text(this._ctx, pt, txt);\n              return this;\n            }\n          }, {\n            key: \"log\",\n            value: function log(txt) {\n              this.fill(\"#000\").stroke(\"#fff\", 0.5).text([10, 14], txt);\n              return this;\n            }\n          }, {\n            key: \"space\",\n            get: function get() {\n              return this._space;\n            }\n          }], [{\n            key: \"getID\",\n            value: function getID(ctx) {\n              return ctx.currentID || \"p-\" + SVGForm.domID++;\n            }\n          }, {\n            key: \"scopeID\",\n            value: function scopeID(item) {\n              return \"item-\" + item.animateID;\n            }\n          }, {\n            key: \"style\",\n            value: function style(elem, styles) {\n              var st = [];\n              if (!styles[\"filled\"]) st.push(\"fill: none\");\n              if (!styles[\"stroked\"]) st.push(\"stroke: none\");\n\n              for (var k in styles) {\n                if (styles.hasOwnProperty(k) && k != \"filled\" && k != \"stroked\") {\n                  var v = styles[k];\n\n                  if (v) {\n                    if (!styles[\"filled\"] && k.indexOf('fill') === 0) {\n                      continue;\n                    } else if (!styles[\"stroked\"] && k.indexOf('stroke') === 0) {\n                      continue;\n                    } else {\n                      st.push(k + \": \" + v);\n                    }\n                  }\n                }\n              }\n\n              return Dom_1.DOMSpace.setAttr(elem, {\n                style: st.join(\";\")\n              });\n            }\n          }, {\n            key: \"point\",\n            value: function point(ctx, pt) {\n              var radius = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 5;\n              var shape = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"square\";\n\n              if (shape === \"circle\") {\n                return SVGForm.circle(ctx, pt, radius);\n              } else {\n                return SVGForm.square(ctx, pt, radius);\n              }\n            }\n          }, {\n            key: \"circle\",\n            value: function circle(ctx, pt) {\n              var radius = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10;\n              var elem = SVGSpace.svgElement(ctx.group, \"circle\", SVGForm.getID(ctx));\n              Dom_1.DOMSpace.setAttr(elem, {\n                cx: pt[0],\n                cy: pt[1],\n                r: radius,\n                'class': \"pts-svgform pts-circle \" + ctx.currentClass\n              });\n              SVGForm.style(elem, ctx.style);\n              return elem;\n            }\n          }, {\n            key: \"arc\",\n            value: function arc(ctx, pt, radius, startAngle, endAngle, cc) {\n              var elem = SVGSpace.svgElement(ctx.group, \"path\", SVGForm.getID(ctx));\n              var start = new Pt_1.Pt(pt).toAngle(startAngle, radius, true);\n              var end = new Pt_1.Pt(pt).toAngle(endAngle, radius, true);\n              var diff = Num_1.Geom.boundAngle(endAngle) - Num_1.Geom.boundAngle(startAngle);\n              var largeArc = diff > Util_1.Const.pi ? true : false;\n              if (cc) largeArc = !largeArc;\n              var sweep = cc ? \"0\" : \"1\";\n              var d = \"M \" + start[0] + \" \" + start[1] + \" A \" + radius + \" \" + radius + \" 0 \" + (largeArc ? \"1\" : \"0\") + \" \" + sweep + \" \" + end[0] + \" \" + end[1];\n              Dom_1.DOMSpace.setAttr(elem, {\n                d: d,\n                'class': \"pts-svgform pts-arc \" + ctx.currentClass\n              });\n              SVGForm.style(elem, ctx.style);\n              return elem;\n            }\n          }, {\n            key: \"square\",\n            value: function square(ctx, pt, halfsize) {\n              var elem = SVGSpace.svgElement(ctx.group, \"rect\", SVGForm.getID(ctx));\n              Dom_1.DOMSpace.setAttr(elem, {\n                x: pt[0] - halfsize,\n                y: pt[1] - halfsize,\n                width: halfsize * 2,\n                height: halfsize * 2,\n                'class': \"pts-svgform pts-square \" + ctx.currentClass\n              });\n              SVGForm.style(elem, ctx.style);\n              return elem;\n            }\n          }, {\n            key: \"line\",\n            value: function line(ctx, pts) {\n              if (!this._checkSize(pts)) return;\n              if (pts.length > 2) return SVGForm._poly(ctx, pts, false);\n              var elem = SVGSpace.svgElement(ctx.group, \"line\", SVGForm.getID(ctx));\n              Dom_1.DOMSpace.setAttr(elem, {\n                x1: pts[0][0],\n                y1: pts[0][1],\n                x2: pts[1][0],\n                y2: pts[1][1],\n                'class': \"pts-svgform pts-line \" + ctx.currentClass\n              });\n              SVGForm.style(elem, ctx.style);\n              return elem;\n            }\n          }, {\n            key: \"_poly\",\n            value: function _poly(ctx, pts) {\n              var closePath = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n              if (!this._checkSize(pts)) return;\n              var elem = SVGSpace.svgElement(ctx.group, closePath ? \"polygon\" : \"polyline\", SVGForm.getID(ctx));\n              var points = pts.reduce(function (a, p) {\n                return a + (p[0] + \",\" + p[1] + \" \");\n              }, \"\");\n              Dom_1.DOMSpace.setAttr(elem, {\n                points: points,\n                'class': \"pts-svgform pts-polygon \" + ctx.currentClass\n              });\n              SVGForm.style(elem, ctx.style);\n              return elem;\n            }\n          }, {\n            key: \"polygon\",\n            value: function polygon(ctx, pts) {\n              return SVGForm._poly(ctx, pts, true);\n            }\n          }, {\n            key: \"rect\",\n            value: function rect(ctx, pts) {\n              if (!this._checkSize(pts)) return;\n              var elem = SVGSpace.svgElement(ctx.group, \"rect\", SVGForm.getID(ctx));\n              var bound = Pt_1.Group.fromArray(pts).boundingBox();\n              var size = Op_1.Rectangle.size(bound);\n              Dom_1.DOMSpace.setAttr(elem, {\n                x: bound[0][0],\n                y: bound[0][1],\n                width: size[0],\n                height: size[1],\n                'class': \"pts-svgform pts-rect \" + ctx.currentClass\n              });\n              SVGForm.style(elem, ctx.style);\n              return elem;\n            }\n          }, {\n            key: \"text\",\n            value: function text(ctx, pt, txt) {\n              var elem = SVGSpace.svgElement(ctx.group, \"text\", SVGForm.getID(ctx));\n              Dom_1.DOMSpace.setAttr(elem, {\n                \"pointer-events\": \"none\",\n                x: pt[0],\n                y: pt[1],\n                dx: 0,\n                dy: 0,\n                'class': \"pts-svgform pts-text \" + ctx.currentClass\n              });\n              elem.textContent = txt;\n              SVGForm.style(elem, ctx.style);\n              return elem;\n            }\n          }]);\n\n          return SVGForm;\n        }(Form_1.VisualForm);\n\n        SVGForm.groupID = 0;\n        SVGForm.domID = 0;\n        exports.SVGForm = SVGForm;\n        /***/\n      },\n\n      /***/\n      \"./src/Typography.ts\":\n      /*!***************************!*\\\n        !*** ./src/Typography.ts ***!\n        \\***************************/\n\n      /*! no static exports found */\n\n      /***/\n      function srcTypographyTs(module, exports, __webpack_require__) {\n        \"use strict\";\n        /*! Source code licensed under Apache License 2.0. Copyright  2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var Pt_1 = __webpack_require__(\n        /*! ./Pt */\n        \"./src/Pt.ts\");\n\n        var Typography = function () {\n          function Typography() {\n            _classCallCheck(this, Typography);\n          }\n\n          _createClass(Typography, null, [{\n            key: \"textWidthEstimator\",\n            value: function textWidthEstimator(fn) {\n              var samples = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [\"M\", \"n\", \".\"];\n              var distribution = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [0.06, 0.8, 0.14];\n              var m = samples.map(fn);\n              var avg = new Pt_1.Pt(distribution).dot(m);\n              return function (str) {\n                return str.length * avg;\n              };\n            }\n          }, {\n            key: \"truncate\",\n            value: function truncate(fn, str, width) {\n              var tail = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"\";\n              var trim = Math.floor(str.length * Math.min(1, width / fn(str)));\n\n              if (trim < str.length) {\n                trim = Math.max(0, trim - tail.length);\n                return [str.substr(0, trim) + tail, trim];\n              } else {\n                return [str, str.length];\n              }\n            }\n          }, {\n            key: \"fontSizeToBox\",\n            value: function fontSizeToBox(box) {\n              var ratio = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n              var byHeight = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n              var i = byHeight ? 1 : 0;\n              var h = box[1][i] - box[0][i];\n              var f = ratio * h;\n              return function (b) {\n                var nh = (b[1][i] - b[0][i]) / h;\n                return f * nh;\n              };\n            }\n          }, {\n            key: \"fontSizeToThreshold\",\n            value: function fontSizeToThreshold(threshold) {\n              var direction = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n              return function (defaultSize, val) {\n                var d = defaultSize * val / threshold;\n                if (direction < 0) return Math.min(d, defaultSize);\n                if (direction > 0) return Math.max(d, defaultSize);\n                return d;\n              };\n            }\n          }]);\n\n          return Typography;\n        }();\n\n        exports.Typography = Typography;\n        /***/\n      },\n\n      /***/\n      \"./src/UI.ts\":\n      /*!*******************!*\\\n        !*** ./src/UI.ts ***!\n        \\*******************/\n\n      /*! no static exports found */\n\n      /***/\n      function srcUITs(module, exports, __webpack_require__) {\n        \"use strict\";\n        /*! Source code licensed under Apache License 2.0. Copyright  2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        function _possibleConstructorReturn(self, call) {\n          if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n          }\n\n          return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n        }\n\n        function _inherits(subClass, superClass) {\n          if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n          }\n\n          subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n              value: subClass,\n              enumerable: false,\n              writable: true,\n              configurable: true\n            }\n          });\n          if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n        }\n\n        function _toConsumableArray(arr) {\n          if (Array.isArray(arr)) {\n            for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n              arr2[i] = arr[i];\n            }\n\n            return arr2;\n          } else {\n            return Array.from(arr);\n          }\n        }\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var Pt_1 = __webpack_require__(\n        /*! ./Pt */\n        \"./src/Pt.ts\");\n\n        var Op_1 = __webpack_require__(\n        /*! ./Op */\n        \"./src/Op.ts\");\n\n        exports.UIShape = {\n          rectangle: \"rectangle\",\n          circle: \"circle\",\n          polygon: \"polygon\",\n          polyline: \"polyline\",\n          line: \"line\"\n        };\n        exports.UIPointerActions = {\n          up: \"up\",\n          down: \"down\",\n          move: \"move\",\n          drag: \"drag\",\n          uidrag: \"uidrag\",\n          drop: \"drop\",\n          uidrop: \"uidrop\",\n          over: \"over\",\n          out: \"out\",\n          enter: \"enter\",\n          leave: \"leave\",\n          contextmenu: \"contextmenu\",\n          all: \"all\"\n        };\n\n        var UI = function () {\n          function UI(group, shape) {\n            var states = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n            var id = arguments[3];\n\n            _classCallCheck(this, UI);\n\n            this._holds = new Map();\n            this._group = Pt_1.Group.fromArray(group);\n            this._shape = shape;\n            this._id = id === undefined ? \"ui_\" + UI._counter++ : id;\n            this._states = states;\n            this._actions = {};\n          }\n\n          _createClass(UI, [{\n            key: \"state\",\n            value: function state(key, value) {\n              if (!key) return null;\n\n              if (value !== undefined) {\n                this._states[key] = value;\n                return this;\n              }\n\n              return this._states[key];\n            }\n          }, {\n            key: \"on\",\n            value: function on(type, fn) {\n              if (!this._actions[type]) this._actions[type] = [];\n              return UI._addHandler(this._actions[type], fn);\n            }\n          }, {\n            key: \"off\",\n            value: function off(type, which) {\n              if (!this._actions[type]) return false;\n\n              if (which === undefined) {\n                delete this._actions[type];\n                return true;\n              } else {\n                return UI._removeHandler(this._actions[type], which);\n              }\n            }\n          }, {\n            key: \"listen\",\n            value: function listen(type, p, evt) {\n              if (this._actions[type] !== undefined) {\n                if (this._within(p) || Array.from(this._holds.values()).indexOf(type) >= 0) {\n                  UI._trigger(this._actions[type], this, p, type, evt);\n\n                  return true;\n                } else if (this._actions['all']) {\n                  UI._trigger(this._actions['all'], this, p, type, evt);\n\n                  return true;\n                }\n              }\n\n              return false;\n            }\n          }, {\n            key: \"hold\",\n            value: function hold(type) {\n              var newKey = Math.max.apply(Math, [0].concat(_toConsumableArray(Array.from(this._holds.keys())))) + 1;\n\n              this._holds.set(newKey, type);\n\n              return newKey;\n            }\n          }, {\n            key: \"unhold\",\n            value: function unhold(key) {\n              if (key !== undefined) {\n                this._holds.delete(key);\n              } else {\n                this._holds.clear();\n              }\n            }\n          }, {\n            key: \"render\",\n            value: function render(fn) {\n              fn(this._group, this._states);\n            }\n          }, {\n            key: \"toString\",\n            value: function toString() {\n              return \"UI \" + this.group.toString;\n            }\n          }, {\n            key: \"_within\",\n            value: function _within(p) {\n              var fn = null;\n\n              if (this._shape === exports.UIShape.rectangle) {\n                fn = Op_1.Rectangle.withinBound;\n              } else if (this._shape === exports.UIShape.circle) {\n                fn = Op_1.Circle.withinBound;\n              } else if (this._shape === exports.UIShape.polygon) {\n                fn = Op_1.Polygon.hasIntersectPoint;\n              } else {\n                return false;\n              }\n\n              return fn(this._group, p);\n            }\n          }, {\n            key: \"id\",\n            get: function get() {\n              return this._id;\n            },\n            set: function set(d) {\n              this._id = d;\n            }\n          }, {\n            key: \"group\",\n            get: function get() {\n              return this._group;\n            },\n            set: function set(d) {\n              this._group = d;\n            }\n          }, {\n            key: \"shape\",\n            get: function get() {\n              return this._shape;\n            },\n            set: function set(d) {\n              this._shape = d;\n            }\n          }], [{\n            key: \"fromRectangle\",\n            value: function fromRectangle(group, states, id) {\n              return new this(group, exports.UIShape.rectangle, states, id);\n            }\n          }, {\n            key: \"fromCircle\",\n            value: function fromCircle(group, states, id) {\n              return new this(group, exports.UIShape.circle, states, id);\n            }\n          }, {\n            key: \"fromPolygon\",\n            value: function fromPolygon(group, states, id) {\n              return new this(group, exports.UIShape.polygon, states, id);\n            }\n          }, {\n            key: \"fromUI\",\n            value: function fromUI(ui, states, id) {\n              return new this(ui.group, ui.shape, states || ui._states, id);\n            }\n          }, {\n            key: \"track\",\n            value: function track(uis, type, p, evt) {\n              for (var i = 0, len = uis.length; i < len; i++) {\n                uis[i].listen(type, p, evt);\n              }\n            }\n          }, {\n            key: \"_trigger\",\n            value: function _trigger(fns, target, pt, type, evt) {\n              if (fns) {\n                for (var i = 0, len = fns.length; i < len; i++) {\n                  if (fns[i]) fns[i](target, pt, type, evt);\n                }\n              }\n            }\n          }, {\n            key: \"_addHandler\",\n            value: function _addHandler(fns, fn) {\n              if (fn) {\n                fns.push(fn);\n                return fns.length - 1;\n              } else {\n                return -1;\n              }\n            }\n          }, {\n            key: \"_removeHandler\",\n            value: function _removeHandler(fns, index) {\n              if (index >= 0 && index < fns.length) {\n                var temp = fns.length;\n                fns.splice(index, 1);\n                return temp > fns.length;\n              } else {\n                return false;\n              }\n            }\n          }]);\n\n          return UI;\n        }();\n\n        UI._counter = 0;\n        exports.UI = UI;\n\n        var UIButton = function (_UI) {\n          _inherits(UIButton, _UI);\n\n          function UIButton(group, shape) {\n            var states = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n            var id = arguments[3];\n\n            _classCallCheck(this, UIButton);\n\n            var _this = _possibleConstructorReturn(this, (UIButton.__proto__ || Object.getPrototypeOf(UIButton)).call(this, group, shape, states, id));\n\n            _this._hoverID = -1;\n            if (states.hover === undefined) _this._states['hover'] = false;\n            if (states.clicks === undefined) _this._states['clicks'] = 0;\n            var UA = exports.UIPointerActions;\n\n            _this.on(UA.up, function (target, pt, type, evt) {\n              _this.state('clicks', _this._states.clicks + 1);\n            });\n\n            _this.on(UA.move, function (target, pt, type, evt) {\n              var hover = _this._within(pt);\n\n              if (hover && !_this._states.hover) {\n                _this.state('hover', true);\n\n                UI._trigger(_this._actions[UA.enter], _this, pt, UA.enter, evt);\n\n                var _capID = _this.hold(UA.move);\n\n                _this._hoverID = _this.on(UA.move, function (t, p) {\n                  if (!_this._within(p) && !_this.state('dragging')) {\n                    _this.state('hover', false);\n\n                    UI._trigger(_this._actions[UA.leave], _this, pt, UA.leave, evt);\n\n                    _this.off(UA.move, _this._hoverID);\n\n                    _this.unhold(_capID);\n                  }\n                });\n              }\n            });\n\n            return _this;\n          }\n\n          _createClass(UIButton, [{\n            key: \"onClick\",\n            value: function onClick(fn) {\n              return this.on(exports.UIPointerActions.up, fn);\n            }\n          }, {\n            key: \"offClick\",\n            value: function offClick(id) {\n              return this.off(exports.UIPointerActions.up, id);\n            }\n          }, {\n            key: \"onContextMenu\",\n            value: function onContextMenu(fn) {\n              return this.on(exports.UIPointerActions.contextmenu, fn);\n            }\n          }, {\n            key: \"offContextMenu\",\n            value: function offContextMenu(id) {\n              return this.off(exports.UIPointerActions.contextmenu, id);\n            }\n          }, {\n            key: \"onHover\",\n            value: function onHover(enter, leave) {\n              var ids = [undefined, undefined];\n              if (enter) ids[0] = this.on(exports.UIPointerActions.enter, enter);\n              if (leave) ids[1] = this.on(exports.UIPointerActions.leave, leave);\n              return ids;\n            }\n          }, {\n            key: \"offHover\",\n            value: function offHover(enterID, leaveID) {\n              var s = [false, false];\n              if (enterID === undefined || enterID >= 0) s[0] = this.off(exports.UIPointerActions.enter, enterID);\n              if (leaveID === undefined || leaveID >= 0) s[1] = this.off(exports.UIPointerActions.leave, leaveID);\n              return s;\n            }\n          }]);\n\n          return UIButton;\n        }(UI);\n\n        exports.UIButton = UIButton;\n\n        var UIDragger = function (_UIButton) {\n          _inherits(UIDragger, _UIButton);\n\n          function UIDragger(group, shape) {\n            var states = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n            var id = arguments[3];\n\n            _classCallCheck(this, UIDragger);\n\n            var _this2 = _possibleConstructorReturn(this, (UIDragger.__proto__ || Object.getPrototypeOf(UIDragger)).call(this, group, shape, states, id));\n\n            _this2._draggingID = -1;\n            _this2._moveHoldID = -1;\n            _this2._dropHoldID = -1;\n            _this2._upHoldID = -1;\n            if (states.dragging === undefined) _this2._states['dragging'] = false;\n            if (states.moved === undefined) _this2._states['moved'] = false;\n            if (states.offset === undefined) _this2._states['offset'] = new Pt_1.Pt();\n            var UA = exports.UIPointerActions;\n\n            _this2.on(UA.down, function (target, pt, type, evt) {\n              if (_this2._moveHoldID === -1) {\n                _this2.state('dragging', true);\n\n                _this2.state('offset', new Pt_1.Pt(pt).subtract(target.group[0]));\n\n                _this2._moveHoldID = _this2.hold(UA.move);\n              }\n\n              if (_this2._dropHoldID === -1) {\n                _this2._dropHoldID = _this2.hold(UA.drop);\n              }\n\n              if (_this2._upHoldID === -1) {\n                _this2._upHoldID = _this2.hold(UA.up);\n              }\n\n              if (_this2._draggingID === -1) {\n                _this2._draggingID = _this2.on(UA.move, function (t, p) {\n                  if (_this2.state('dragging')) {\n                    UI._trigger(_this2._actions[UA.uidrag], t, p, UA.uidrag, evt);\n\n                    _this2.state('moved', true);\n                  }\n                });\n              }\n            });\n\n            var endDrag = function endDrag(target, pt, type, evt) {\n              _this2.state('dragging', false);\n\n              _this2.off(UA.move, _this2._draggingID);\n\n              _this2._draggingID = -1;\n\n              _this2.unhold(_this2._moveHoldID);\n\n              _this2._moveHoldID = -1;\n\n              _this2.unhold(_this2._dropHoldID);\n\n              _this2._dropHoldID = -1;\n\n              _this2.unhold(_this2._upHoldID);\n\n              _this2._upHoldID = -1;\n\n              if (_this2.state('moved')) {\n                UI._trigger(_this2._actions[UA.uidrop], target, pt, UA.uidrop, evt);\n\n                _this2.state('moved', false);\n              }\n            };\n\n            _this2.on(UA.drop, endDrag);\n\n            _this2.on(UA.up, endDrag);\n\n            _this2.on(UA.out, endDrag);\n\n            return _this2;\n          }\n\n          _createClass(UIDragger, [{\n            key: \"onDrag\",\n            value: function onDrag(fn) {\n              return this.on(exports.UIPointerActions.uidrag, fn);\n            }\n          }, {\n            key: \"offDrag\",\n            value: function offDrag(id) {\n              return this.off(exports.UIPointerActions.uidrag, id);\n            }\n          }, {\n            key: \"onDrop\",\n            value: function onDrop(fn) {\n              return this.on(exports.UIPointerActions.uidrop, fn);\n            }\n          }, {\n            key: \"offDrop\",\n            value: function offDrop(id) {\n              return this.off(exports.UIPointerActions.uidrop, id);\n            }\n          }]);\n\n          return UIDragger;\n        }(UIButton);\n\n        exports.UIDragger = UIDragger;\n        /***/\n      },\n\n      /***/\n      \"./src/Util.ts\":\n      /*!*********************!*\\\n        !*** ./src/Util.ts ***!\n        \\*********************/\n\n      /*! no static exports found */\n\n      /***/\n      function srcUtilTs(module, exports, __webpack_require__) {\n        \"use strict\";\n        /*! Source code licensed under Apache License 2.0. Copyright  2017-current William Ngan and contributors. (https://github.com/williamngan/pts) */\n\n        var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n          return typeof obj;\n        } : function (obj) {\n          return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n        };\n\n        var _createClass = function () {\n          function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n              var descriptor = props[i];\n              descriptor.enumerable = descriptor.enumerable || false;\n              descriptor.configurable = true;\n              if (\"value\" in descriptor) descriptor.writable = true;\n              Object.defineProperty(target, descriptor.key, descriptor);\n            }\n          }\n\n          return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n          };\n        }();\n\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var Pt_1 = __webpack_require__(\n        /*! ./Pt */\n        \"./src/Pt.ts\");\n\n        exports.Const = {\n          xy: \"xy\",\n          yz: \"yz\",\n          xz: \"xz\",\n          xyz: \"xyz\",\n          horizontal: 0,\n          vertical: 1,\n          identical: 0,\n          right: 4,\n          bottom_right: 5,\n          bottom: 6,\n          bottom_left: 7,\n          left: 8,\n          top_left: 1,\n          top: 2,\n          top_right: 3,\n          epsilon: 0.0001,\n          max: Number.MAX_VALUE,\n          min: Number.MIN_VALUE,\n          pi: Math.PI,\n          two_pi: 6.283185307179586,\n          half_pi: 1.5707963267948966,\n          quarter_pi: 0.7853981633974483,\n          one_degree: 0.017453292519943295,\n          rad_to_deg: 57.29577951308232,\n          deg_to_rad: 0.017453292519943295,\n          gravity: 9.81,\n          newton: 0.10197,\n          gaussian: 0.3989422804014327\n        };\n\n        var Util = function () {\n          function Util() {\n            _classCallCheck(this, Util);\n          }\n\n          _createClass(Util, null, [{\n            key: \"warnLevel\",\n            value: function warnLevel(lv) {\n              if (lv) {\n                Util._warnLevel = lv;\n              }\n\n              return Util._warnLevel;\n            }\n          }, {\n            key: \"getArgs\",\n            value: function getArgs(args) {\n              if (args.length < 1) return [];\n              var pos = [];\n              var isArray = Array.isArray(args[0]) || ArrayBuffer.isView(args[0]);\n\n              if (typeof args[0] === 'number') {\n                pos = Array.prototype.slice.call(args);\n              } else if (_typeof(args[0]) === 'object' && !isArray) {\n                var a = [\"x\", \"y\", \"z\", \"w\"];\n                var p = args[0];\n\n                for (var i = 0; i < a.length; i++) {\n                  if (p.length && i >= p.length || !(a[i] in p)) break;\n                  pos.push(p[a[i]]);\n                }\n              } else if (isArray) {\n                pos = [].slice.call(args[0]);\n              }\n\n              return pos;\n            }\n          }, {\n            key: \"warn\",\n            value: function warn() {\n              var message = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"error\";\n              var defaultReturn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n              if (Util.warnLevel() == \"error\") {\n                throw new Error(message);\n              } else if (Util.warnLevel() == \"warn\") {\n                console.warn(message);\n              }\n\n              return defaultReturn;\n            }\n          }, {\n            key: \"randomInt\",\n            value: function randomInt(range) {\n              var start = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n              return Math.floor(Math.random() * range) + start;\n            }\n          }, {\n            key: \"split\",\n            value: function split(pts, size, stride) {\n              var loopBack = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n              var matchSize = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n              var chunks = [];\n              var part = [];\n              var st = stride || size;\n              var index = 0;\n              if (pts.length <= 0 || st <= 0) return [];\n\n              while (index < pts.length) {\n                part = [];\n\n                for (var k = 0; k < size; k++) {\n                  if (loopBack) {\n                    part.push(pts[(index + k) % pts.length]);\n                  } else {\n                    if (index + k >= pts.length) break;\n                    part.push(pts[index + k]);\n                  }\n                }\n\n                index += st;\n                if (!matchSize || matchSize && part.length === size) chunks.push(part);\n              }\n\n              return chunks;\n            }\n          }, {\n            key: \"flatten\",\n            value: function flatten(pts) {\n              var flattenAsGroup = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n              var arr = flattenAsGroup ? new Pt_1.Group() : new Array();\n              return arr.concat.apply(arr, pts);\n            }\n          }, {\n            key: \"combine\",\n            value: function combine(a, b, op) {\n              var result = [];\n\n              for (var i = 0, len = a.length; i < len; i++) {\n                for (var k = 0, lenB = b.length; k < lenB; k++) {\n                  result.push(op(a[i], b[k]));\n                }\n              }\n\n              return result;\n            }\n          }, {\n            key: \"zip\",\n            value: function zip(arrays) {\n              var z = [];\n\n              for (var i = 0, len = arrays[0].length; i < len; i++) {\n                var p = [];\n\n                for (var k = 0; k < arrays.length; k++) {\n                  p.push(arrays[k][i]);\n                }\n\n                z.push(p);\n              }\n\n              return z;\n            }\n          }, {\n            key: \"stepper\",\n            value: function stepper(max) {\n              var min = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n              var stride = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n              var callback = arguments[3];\n              var c = min;\n              return function () {\n                c += stride;\n\n                if (c >= max) {\n                  c = min + (c - max);\n                }\n\n                if (callback) callback(c);\n                return c;\n              };\n            }\n          }, {\n            key: \"forRange\",\n            value: function forRange(fn, range) {\n              var start = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n              var step = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n              var temp = [];\n\n              for (var i = start, len = range; i < len; i += step) {\n                temp[i] = fn(i);\n              }\n\n              return temp;\n            }\n          }, {\n            key: \"load\",\n            value: function load(url, callback) {\n              var request = new XMLHttpRequest();\n              request.open('GET', url, true);\n\n              request.onload = function () {\n                if (request.status >= 200 && request.status < 400) {\n                  callback(request.responseText, true);\n                } else {\n                  callback(\"Server error (\" + request.status + \") when loading \\\"\" + url + \"\\\"\", false);\n                }\n              };\n\n              request.onerror = function () {\n                callback(\"Unknown network error\", false);\n              };\n\n              request.send();\n            }\n          }, {\n            key: \"performance\",\n            value: function performance() {\n              var avgFrames = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 10;\n              var last = Date.now();\n              var avg = [];\n              return function () {\n                var now = Date.now();\n                avg.push(now - last);\n                if (avg.length >= avgFrames) avg.shift();\n                last = now;\n                return Math.floor(avg.reduce(function (a, b) {\n                  return a + b;\n                }, 0) / avg.length);\n              };\n            }\n          }, {\n            key: \"iterFromPtLike\",\n            value: function iterFromPtLike(list) {\n              return Array.isArray(list) ? list[Symbol.iterator]() : list;\n            }\n          }, {\n            key: \"iterFromPt\",\n            value: function iterFromPt(list) {\n              return Array.isArray(list) ? list[Symbol.iterator]() : list;\n            }\n          }]);\n\n          return Util;\n        }();\n\n        Util._warnLevel = \"mute\";\n        exports.Util = Util;\n        /***/\n      },\n\n      /***/\n      \"./src/_module.ts\":\n      /*!************************!*\\\n        !*** ./src/_module.ts ***!\n        \\************************/\n\n      /*! no static exports found */\n\n      /***/\n      function src_moduleTs(module, exports, __webpack_require__) {\n        \"use strict\";\n\n        function __export(m) {\n          for (var p in m) {\n            if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n          }\n        }\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        __export(__webpack_require__(\n        /*! ./Canvas */\n        \"./src/Canvas.ts\"));\n\n        __export(__webpack_require__(\n        /*! ./Create */\n        \"./src/Create.ts\"));\n\n        __export(__webpack_require__(\n        /*! ./Form */\n        \"./src/Form.ts\"));\n\n        __export(__webpack_require__(\n        /*! ./LinearAlgebra */\n        \"./src/LinearAlgebra.ts\"));\n\n        __export(__webpack_require__(\n        /*! ./Num */\n        \"./src/Num.ts\"));\n\n        __export(__webpack_require__(\n        /*! ./Op */\n        \"./src/Op.ts\"));\n\n        __export(__webpack_require__(\n        /*! ./Pt */\n        \"./src/Pt.ts\"));\n\n        __export(__webpack_require__(\n        /*! ./Space */\n        \"./src/Space.ts\"));\n\n        __export(__webpack_require__(\n        /*! ./Color */\n        \"./src/Color.ts\"));\n\n        __export(__webpack_require__(\n        /*! ./Util */\n        \"./src/Util.ts\"));\n\n        __export(__webpack_require__(\n        /*! ./Dom */\n        \"./src/Dom.ts\"));\n\n        __export(__webpack_require__(\n        /*! ./Svg */\n        \"./src/Svg.ts\"));\n\n        __export(__webpack_require__(\n        /*! ./Typography */\n        \"./src/Typography.ts\"));\n\n        __export(__webpack_require__(\n        /*! ./Physics */\n        \"./src/Physics.ts\"));\n\n        __export(__webpack_require__(\n        /*! ./Play */\n        \"./src/Play.ts\"));\n\n        __export(__webpack_require__(\n        /*! ./UI */\n        \"./src/UI.ts\"));\n        /***/\n\n      }\n      /******/\n\n    })\n  );\n});"],"sourceRoot":""}